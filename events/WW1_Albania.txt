add_namespace = ww1_albania
#Principality of Albania proclaimed
#albanian king choices
country_event = {
	title = ww1_albania.1.t
	desc = ww1_albania.1.d
	id = ww1_albania.1
	picture = GFX_report_event_royal_parade
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			remove_ideas = standing_alone
		}
	}
	is_triggered_only = yes
	option = {
		name = ww1_albania.1.a
		set_cosmetic_tag = ALB_principality
		set_country_flag = ALB_principality
		set_capital = {
			state = 44
		}
		ai_chance = {
			base = 50
			modifier = {
				OR = {
					has_game_rule = {
						rule = fate_of_albania
						option = FATE_OF_ALBANIA_FUAD_OPTION
					}
					has_game_rule = {
						rule = fate_of_albania
						option = FATE_OF_ALBANIA_VITTORIO_OPTION
					}
				}
				factor = 0
			}
			modifier = {
				is_historical_focus_on = yes
				factor = 50
			}
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
			long_name = ALB_neutrality_prince_party
			name = ALB_neutrality_prince_party
		}
		add_country_leader_role = {
			Character = ALB_vilhelm_i
			Promote_leader = yes
			Country_leader = {
				ideology = semi_constitutional_monarchy
				traits = {
					foreign_leader
					german_agent
				}
			}
		}
		hidden_effect = {
			promote_character = ALB_vilhelm_i
		}
		custom_effect_tooltip = generic_historical_pm_tt
		custom_effect_tooltip = ALB_discontent_muslims
	}
	option = {
		name = ww1_albania.1.b
		set_cosmetic_tag = ALB_principality
		set_country_flag = ALB_principality
		set_capital = {
			state = 44
		}
		ai_chance = {
			base = 50
			modifier = {
				has_game_rule = {
					rule = fate_of_albania
					option = FATE_OF_ALBANIA_FUAD_OPTION
				}
				factor = 500
			}
			modifier = {
				is_historical_focus_on = yes
				NOT = {
					has_game_rule = {
						rule = fate_of_albania
						option = FATE_OF_ALBANIA_FUAD_OPTION
					}
				}
				factor = 0
			}
		}
		EGY = {
			EGY_fuad_i_muhammad_ali = {
				set_nationality = ALB
			}
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
			long_name = ALB_neutrality_sultan_party
			name = ALB_neutrality_sultan_party
		}
		add_country_leader_role = {
			Character = EGY_fuad_i_muhammad_ali
			Promote_leader = yes
			Country_leader = {
				ideology = semi_constitutional_monarchy
				traits = {
					foreign_leader
				}
			}
		}
	}
	option = {
		name = ww1_albania.1.c
		set_cosmetic_tag = ALB_principality
		set_country_flag = ALB_principality
		set_capital = {
			state = 44
		}
		ai_chance = {
			base = 25
			modifier = {
				has_game_rule = {
					rule = fate_of_albania
					option = FATE_OF_ALBANIA_VITTORIO_OPTION
				}
				factor = 500
			}
			modifier = {
				is_historical_focus_on = yes
				NOT = {
					has_game_rule = {
						rule = fate_of_albania
						option = FATE_OF_ALBANIA_VITTORIO_OPTION
					}
				}
				factor = 0
			}
		}
		ITA = {
			ITA_vittorio_emanuele_di_savoy_aosta = {
				set_nationality = ALB
			}
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
			long_name = ALB_neutrality_regency_party
			name = ALB_neutrality_regency_party
		}
		ITA_vittorio_emanuele_di_savoy_aosta = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = semi_constitutional_monarchy
					traits = {
						foreign_leader
					}
				}
			}
			set_character_name = ALB_vittorio_emanuele
		}
	}
}

### Updated as ottoman event
# #Albanian Revolt of 1910
# country_event = {
# 	title = ww1_albania.2.t
# 	desc = ww1_albania.2.d
# 	id = ww1_albania.2
# 	picture = GFX_report_event_spr_civil_war_faction_defeated
# 	fire_only_once = yes
# 	mean_time_to_happen = {
# 		days = 10
# 	}
# 	trigger = {
# 		tag = TUR
# 		controls_state = 848
# 		controls_state = 870
# 		NOT = {
# 			country_exists = ALB
# 			has_global_flag = ALB_revolt_of_1910
# 		}
# 		date > 1910.6.5
# 		848 = {
# 			has_dynamic_modifier = { modifier = TUR_albanian_minority }
# 		}
# 		870 = {
# 			has_dynamic_modifier = { modifier = TUR_albanian_minority }
# 		}
# 	}
# 	immediate = {
# 		set_global_flag = ALB_revolt_of_1910
# 	}
# 	option = {
# 		name = ww1_albania.2.a
# 		add_war_support = 0.05
# 		if = {
# 			limit = {
# 				848 = {
# 					has_dynamic_modifier = { modifier = TUR_albanian_minority }
# 				}
# 			}
# 			848 = {
# 				add_resistance = 15
# 			}
# 		}
# 		if = {
# 			limit = {
# 				870 = {
# 					has_dynamic_modifier = { modifier = TUR_albanian_minority }
# 				}
# 			}
# 			870 = {
# 				add_resistance = 15
# 			}
# 		}
# 		ai_chance = {
# 			factor = 100
# 		}
# 	}
# }
#Albanian Revolt of 1911
country_event = {
	title = ww1_albania.2.t
	desc = ww1_albania.2.d
	id = ww1_albania.4
	picture = GFX_report_event_spr_civil_war_faction_defeated
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		set_global_flag = ALB_revolt_of_1911
	}
	option = {
		name = ww1_albania.2.a
		custom_effect_tooltip = TUR_ottoman_intel_to_enemies_3_resistance_target_3_recruitable_population_malus_3_tt
		hidden_effect = {
			every_owned_state = {
				limit = {
					has_dynamic_modifier = {
						modifier = TUR_albanian_minority
					}
				}
				add_to_variable = {
					TUR_ottoman_recruitable_population_factor = -0.07
				}
				add_to_variable = {
					TUR_ottoman_local_intel_to_enemies = 0.15
				}
				add_to_variable = {
					TUR_ottoman_resistance_target = 0.15
				}
			}
			ottoman_minority_variable_check = yes
		}
		ai_chance = {
			factor = 100
			modifier = {
				has_game_rule = {
					rule = fate_of_albania
					option = FATE_OF_ALBANIA_OTTOMAN_EMIRATE_OPTION
				}
				factor = 0
			}
		}
	}
	option = {
		name = ww1_albania.2.b
		release_puppet = ALB
		set_autonomy = {
			target = ALB
			autonomous_state = autonomy_tgwr_ottoman_emirate
		}
		TUR = {
			TUR_ahmet_izzet = {
				set_nationality = ALB
			}
		}
		ALB = {
			promote_character = TUR_ahmet_izzet
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					has_dynamic_modifier = {
						modifier = TUR_albanian_minority
					}
					is_core_of = ALB
				}
			}
			transfer_state_to = ALB
		}
		ai_chance = {
			factor = 25
			modifier = {
				NOT = {
					has_game_rule = {
						rule = fate_of_albania
						option = FATE_OF_ALBANIA_OTTOMAN_EMIRATE_OPTION
					}
				}
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
	option = {
		name = ww1_albania.2.c
		release_puppet = ALB
		set_autonomy = {
			target = ALB
			autonomous_state = autonomy_tgwr_ottoman_emirate
		}
		TUR = {
			TUR_ahmet_izzet = {
				set_nationality = ALB
			}
		}
		ALB = {
			promote_character = TUR_ahmet_izzet
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
		}
		every_owned_state = {
			limit = {
				OR = {
					has_dynamic_modifier = {
						modifier = TUR_albanian_minority
					}
					is_core_of = ALB
					state = 761
					state = 760
					state = 106
					state = 758
					state = 203
					state = 759
				}
			}
			transfer_state_to = ALB
		}
		transfer_units_fraction = {
			target = ALB
			size = 0.1
			army_ratio = 0.1
			navy_ratio = 0
			stockpile_ratio = 0.1
		}
		ai_chance = {
			factor = 100
			modifier = {
				NOT = {
					has_game_rule = {
						rule = fate_of_albania
						option = FATE_OF_ALBANIA_OTTOMAN_EMIRATE_OPTION
					}
				}
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}

#Greece proclaimed the annexation of Northern Epirus
country_event = {
	title = ww1_albania.5.t
	desc = ww1_albania.5.d
	id = ww1_albania.5
	fire_only_once = yes
	picture = GFX_report_event_gre_parade
	# since greek tree is not finished yet, it should be triggered manually
	# moved to decision, you can remove that after implementing the focus tree
	is_triggered_only = yes
	option = {
		name = ww1_albania.5.a
		hidden_effect = {
			if = {
				limit = {
					country_exists = EPR
				}
				FROM = {
					annex_country = {
						target = EPR
						transfer_troops = yes
					}
				}
				every_state = {
					limit = {
						is_core_of = EPR
					}
					remove_core_of = EPR
				}
			}
		}
		803 = {
			transfer_state_to = FROM
			set_demilitarized_zone = no
			remove_dynamic_modifier = {
				modifier = ALB_greek_minority
			}
		}
		add_opinion_modifier = {
			target = FROM
			modifier = HOI4TGW_Opinion_diplomats_malus
		}
		hidden_effect = {
			if = {
				limit = {
					owns_state = 871
					ITA = {
						exists = yes
						has_guaranteed = ROOT
						has_capitulated = no
						is_subject = no
						NOT = {
							has_war_with = PREV
						}
					}
				}
				ITA = {
					country_event = {
						id = ww1_albania.19
						days = 3
					}
				}
			}
		}
	}
}

#Albanian Revolt of 1912
country_event = {
	title = ww1_albania.2.t
	desc = ww1_albania.6.d
	id = ww1_albania.6
	picture = GFX_report_event_spr_civil_war_faction_defeated
	fire_only_once = yes
	mean_time_to_happen = {
		days = 10
	}
	trigger = {
		tag = TUR
		controls_state = 847
		ALB = {
			exists = no
		}
		date > 1912.1.10
		has_start_date < 1914.1.1	
		NOT = {
			has_global_flag = ALB_revolt_of_1912
		}
		847 = {
			has_dynamic_modifier = {
				modifier = TUR_albanian_minority
			}
		}
	}
	immediate = {
		set_global_flag = ALB_revolt_of_1912
	}
	immediate = {
		set_global_flag = albanian_revolt_1912
	}
	option = {
		name = ww1_albania.2.a
		847 = {
			add_resistance = 25
		}
		ai_chance = {
			factor = 100
		}
	}
}

#Albanian War for Independence
country_event = {
	title = ww1_albania.7.t
	desc = ww1_albania.7.d
	id = ww1_albania.7
	picture = GFX_report_event_spr_civil_war_faction_defeated
	fire_only_once = yes
	mean_time_to_happen = {
		days = 10
	}
	trigger = {
		tag = TUR
		has_war = no
		NOT = {
			is_subject_of = TUR
		}
		any_owned_state = {
			is_core_of = ALB
			is_controlled_by = TUR
		}
		NOT = {
			country_exists = ALB
		}
		date > 1913.4.10
		has_start_date < 1914.1.1
		any_state = {
			is_core_of = ALB
			has_dynamic_modifier = {
				modifier = TUR_albanian_minority
			}
		}
	}
	option = {
		name = ww1_albania.2.a
		every_owned_state = {
			limit = {
				OR = {
					state = 44
					state = 870
					state = 871
					state = 803
					state = 848
					state = 847
				}
				has_dynamic_modifier = {
					modifier = TUR_albanian_minority
				}
			}
			transfer_state_to = ALB
		}
		ALB = {
			hidden_effect = {
				division_template = {
					name = "Milicitë Shqiptare"
					regiments = {
						infantry = {
							x = 0
							y = 0
						}
						infantry = {
							x = 0
							y = 1
						}
						infantry = {
							x = 1
							y = 0
						}
						infantry = {
							x = 1
							y = 1
						}
					}
				}
				if = {
					limit = {
						44 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					44 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						803 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					803 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						871 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					871 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						44 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
						803 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
						871 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
					}
					random_owned_state = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
					random_owned_state = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				# load_oob = ALB_1912
				every_owned_state = {
					add_claim_by = TUR
				}
			}
		}
		declare_war_on = {
			target = ALB
			type = annex_everything
		}
		ai_chance = {
			factor = 1
		}
	}
	#	option = {
	#		name = ww1_albania.2.b
	#		every_owned_state = {
	#			limit = {
	#				is_core_of = ALB
	#				NOT = {
	#					is_core_of = SER
	#				}
	#			}
	#			ALB = {
	#				transfer_state = PREV
	#			}
	#		}
	#		add_war_support = -0.15
	#		ai_chance = {
	#			base = 100
	#			modifier = {
	#				factor = 0
	#				has_global_flag = kis_firstbalkanwar_lose
	#			}
	#		}
	#	}
}

# Serbian troops retreat into Albania
country_event = {
	title = ww1_albania.8.t
	desc = ww1_albania.8.d
	id = ww1_albania.8
	picture = GFX_report_event_generic_army
	is_triggered_only = yes
	# fire_only_once = yes
	# trigger = {
	# 	tag = SER
	# 	has_war_with = AUS
	# 	ALB = {
	# 		is_neighbor_of = ROOT
	# 		has_war = no
	# 		is_subject = no
	# 		has_global_flag = albanian_peasant_revolt
	# 	}
	# 	OR = {
	# 		surrender_progress > 0.5
	# 		AND = {
	# 			has_war_with = BUL
	# 			surrender_progress > 0.2
	# 		}
	# 	}
	# }
	option = {
		name = ww1_albania.8.a
		ALB = {
			set_country_flag = military_access_to_serbia
			give_military_access = SER
			if = {
				limit = {
					MNT = {
						is_neighbor_of = PREV
						has_war_with = AUS
					}
				}
				give_military_access = MNT
			}
			hidden_effect = {
				country_event = ww1_albania.9
			}
		}
	}
}

# Military access to Serbia
country_event = {
	title = ww1_albania.9.t
	desc = ww1_albania.9.d
	id = ww1_albania.9
	picture = GFX_report_event_generic_army
	is_triggered_only = yes
	option = {
		name = ww1_albania.9.a
		trigger = {
			tag = ALB
		}
		if = {
			limit = {
				SER = {
					has_war_with = AUS
				}
			}
			add_to_war = {
				targeted_alliance = SER
				enemy = AUS
			}
			give_military_access = SER
			add_ideas = standing_alone
		}
		hidden_effect = {
			AUS = {
				country_event = ww1_albania.9
			}
		}
	}
	option = {
		name = ww1_albania.9.b
		trigger = {
			tag = AUS
		}
	}
}

# Peasant Revolt in Albania
country_event = {
	title = ww1_albania.10.t
	desc = ww1_albania.10.d
	id = ww1_albania.10
	picture = GFX_report_event_albanian_peasent_revolt
	fire_only_once = yes
	trigger = {
		tag = ALB
		has_country_flag = ALB_dutch_gendarmerie_dissolved
		OR = {
			has_country_leader = {
				character = ALB_vilhelm_i
				ruling_only = yes
			}
			has_country_leader = {
				character = ITA_vittorio_emanuele_di_savoy_aosta
				ruling_only = yes
			}
		}
		is_subject = no
		# date > 1914.7.1
		NOT = {
			has_global_flag = great_war_ends
		}
	}
	mean_time_to_happen = {
		days = 100
		modifier = {
			factor = 0
			date > 1914.7.1
		}
	}
	option = {
		name = ww1_albania.10.a
		set_global_flag = albanian_peasant_revolt
		add_ideas = ALB_idea_unstable_regime
		add_stability = -0.1
		every_possible_country = {
			limit = {
				has_character = ALB_essad_pasha_toptani
			}
			ALB_essad_pasha_toptani = {
				set_nationality = ALB
				promote_character = warlordism
				promote_character = stratocracy
			}
		}
		drop_cosmetic_tag = yes
		set_party_name = {
			ideology = neutrality
			long_name = ALB_neutrality_party_long
			name = ALB_neutrality_party
		}
	}
}

#No More Ottoman Puppet
country_event = {
	id = ww1_albania.11
	hidden = yes
	trigger = {
		tag = ALB
		has_character = TUR_ahmet_izzet
		NOT = {
			is_subject_of = TUR
		}
	}
	mean_time_to_happen = {
		days = 0
	}
	immediate = {
		if = {
			limit = {
				NOT = {
					has_cosmetic_tag = ALB_principality
				}
			}
			ALB_essad_pasha_toptani = {
				promote_character = warlordism
				promote_character = stratocracy
			}
			drop_cosmetic_tag = yes
			set_party_name = {
				ideology = neutrality
				long_name = ALB_neutrality_party_long
				name = ALB_neutrality_party
			}
			drop_cosmetic_tag = yes
		}
		TUR_ahmet_izzet = {
			set_character_name = TUR_ahmet_izzet
			set_nationality = TUR
		}
	}
}

# Congress of Lushnjë
country_event = {
	id = ww1_albania.12
	title = ww1_albania.12.t
	desc = ww1_albania.12.d
	picture = GFX_report_event_generic_conference
	trigger = {
		tag = ALB
		has_country_leader = {
			character = ALB_turhan_permeti
		}
		has_cosmetic_tag = ALB_principality
		has_global_flag = interbellum
	}
	fire_only_once = yes
	option = {
		name = ww1_albania.12.a
		add_country_leader_role = {
			character = ALB_high_council_of_regency
			promote_leader = yes
			country_leader = {
				ideology = authoritarian_democracy
			}
		}
		set_party_name = {
			ideology = neutrality
			long_name = ALB_neutrality_regency_party
			name = ALB_neutrality_regency_party
		}
		hidden_effect = {
			add_country_leader_role = {
				character = ALB_fan_noli
				promote_leader = yes
				country_leader = {
					ideology = social_liberalism
					traits = {
						priestly_prime_minister
					}
				}
			}
			add_victory_points = {
				province = 9914
				value = 2
			}
			add_victory_points = {
				province = 12700
				value = -1
			}
			set_capital = {
				state = 44
			}
			set_party_name = {
				ideology = democratic
				long_name = ALB_peoples_party
				name = ALB_peoples_party
			}
			retire_character = ALB_ismail_qemali
			retire_character = ALB_essad_pasha_toptani
			retire_character = ALB_prenk_bib_doda
			set_party_name = {
				ideology = fascism
				long_name = fascism
				name = fascism
			}
		}
	}
}

# June Revolution ( historical )
country_event = {
	id = ww1_albania.13
	title = ww1_albania.13.t
	desc = ww1_albania.13.d
	picture = GFX_report_event_generic_rally
	trigger = {
		tag = ALB
		has_country_leader = {
			character = ALB_high_council_of_regency
		}
		has_country_leader = {
			character = ALB_fan_noli
			ruling_only = no
		}
		has_cosmetic_tag = ALB_principality
		date > 1924.6.1
		is_subject = no
	}
	immediate = {
		hidden_effect = {
			retire_character = ALB_avni_rrustemi
		}
	}
	mean_time_to_happen = {
		days = 16
	}
	fire_only_once = yes
	option = {
		name = ww1_albania.13.a
		add_stability = -0.2
		add_country_leader_role = {
			character = ALB_fan_noli
			promote_leader = yes
			country_leader = {
				ideology = authoritarian_democracy
				traits = {
					priestly_prime_minister
				}
			}
		}
		set_party_name = {
			ideology = neutrality
			long_name = ALB_revolutionary_party
			name = ALB_revolutionary_party
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = ww1_albania.13.b
		add_stability = -0.2
		add_political_power = -100
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

# Zogu's Revenge
country_event = {
	id = ww1_albania.14
	title = ww1_albania.14.t
	desc = ww1_albania.14.d
	picture = GFX_report_event_generic_parliament
	trigger = {
		tag = ALB
		has_country_leader = {
			character = ALB_fan_noli
		}
		has_government = neutrality
		has_war = no
		is_subject = no
		date > 1928.9.1
	}
	fire_only_once = yes
	option = {
		name = ww1_albania.14.a
		set_cosmetic_tag = ALB_republic
		set_party_name = {
			ideology = neutrality
			long_name = ALB_neutrality_zogu_party
			name = ALB_neutrality_zogu_party
		}
		set_party_name = {
			ideology = fascism
			long_name = ALB_neutrality_zogu_party
			name = ALB_neutrality_zogu_party
		}
		ALB_ahmet_zogu = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = civilian_dictatorship
					traits = {
						dictator
					}
				}
			}
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = stratocracy
					traits = {
						dictator
					}
				}
			}
		}
		hidden_effect = {
			retire_character = ALB_high_council_of_regency
			set_party_name = {
				ideology = democratic
				long_name = ALB_KONARE_party_long
				name = ALB_KONARE_party
			}
			set_party_name = {
				ideology = communism
				long_name = ALB_KONARE_party_long
				name = ALB_KONARE_party
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				SER = {
					has_country_flag = great_war_winner
				}
			}
		}
	}
	option = {
		name = ww1_albania.14.b
		add_political_power = -150
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		set_cosmetic_tag = ALB_republic
		ALB_fan_noli = {
			remove_country_leader_role = {
				ideology = authoritarian_democracy
			}
			remove_country_leader_trait = priestly_prime_minister
			add_country_leader_trait = social_reformer
		}
		hidden_effect = {
			retire_character = ALB_high_council_of_regency
			ALB_ahmet_zogu = {
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = civilian_dictatorship
						traits = {
							dictator
						}
					}
				}
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = stratocracy
						traits = {
							dictator
						}
					}
				}
			}
			set_party_name = {
				ideology = neutrality
				long_name = ALB_neutrality_zogu_party
				name = ALB_neutrality_zogu_party
			}
			set_party_name = {
				ideology = fascism
				long_name = ALB_neutrality_zogu_party
				name = ALB_neutrality_zogu_party
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

# Albanian Kingdom?
country_event = {
	id = ww1_albania.15
	title = ww1_albania.15.t
	desc = ww1_albania.15.d
	picture = GFX_report_event_albanian_king_zog
	trigger = {
		tag = ALB
		has_country_leader = {
			character = ALB_ahmet_zogu
		}
		has_war = no
		is_subject = no
		date > 1928.9.1
	}
	fire_only_once = yes
	option = {
		name = ww1_albania.15.a
		set_cosmetic_tag = ALB_kingdom
		set_party_name = {
			ideology = neutrality
			long_name = ALB_house_of_zogu_party
			name = ALB_house_of_zogu_party
		}
		hidden_effect = {
			ALB_ahmet_zogu = {
				set_character_name = ALB_zog_i
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = absolute_monarchy
						traits = {
							dictator
						}
					}
				}
				remove_country_leader_role = {
					ideology = civilian_dictatorship
				}
				remove_advisor_role = {
					slot = political_advisor
				}
			}
			set_party_name = {
				ideology = fascism
				long_name = ALB_house_of_zogu_party
				name = ALB_house_of_zogu_party
			}
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = ww1_albania.15.b
		set_cosmetic_tag = ALB_kingdom
		set_party_name = {
			ideology = neutrality
			long_name = ALB_house_of_zogu_party
			name = ALB_house_of_zogu_party
		}
		hidden_effect = {
			ALB_ahmet_zogu = {
				set_character_name = ALB_skanderbeg_iii
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = absolute_monarchy
						traits = {
							dictator
						}
					}
				}
				remove_country_leader_role = {
					ideology = civilian_dictatorship
				}
				remove_advisor_role = {
					slot = political_advisor
				}
			}
			set_party_name = {
				ideology = fascism
				long_name = ALB_house_of_zogu_party
				name = ALB_house_of_zogu_party
			}
		}
		ai_chance = {
			base = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	option = {
		name = ww1_albania.15.c
		hidden_effect = {
			ALB_ahmet_zogu = {
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = authoritarian_democracy
					}
				}
				remove_country_leader_role = {
					ideology = civilian_dictatorship
				}
			}
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

# June Revolution ( Vilhelm I )
country_event = {
	id = ww1_albania.16
	title = ww1_albania.13.t
	desc = ww1_albania.16.d
	picture = GFX_report_event_albanian_partisans
	trigger = {
		tag = ALB
		has_country_leader = {
			character = ALB_vilhelm_i
		}
		has_country_flag = interbellum
		date > 1924.6.1
		has_war = no
	}
	mean_time_to_happen = {
		days = 15
	}
	fire_only_once = yes
	option = {
		name = ww1_albania.16.a
		if = {
			limit = {
				is_subject = yes
			}
			OVERLORD = {
				country_event = {
					id = ww1_albania.17
					days = 3
				}
				end_puppet = ROOT
				ROOT = {
					leave_faction = yes
				}
			}
		}
		set_cosmetic_tag = ALB_republic
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			long_name = ALB_unity_party
			name = ALB_unity_party
		}
		add_country_leader_role = {
			promote_leader = yes
			character = ALB_avni_rrustemi
			country_leader = {
				ideology = social_democracy
				traits = {
					alb_national_hero
				}
			}
		}
		hidden_effect = {
			set_popularities = {
				democratic = 58
				neutrality = 40
				communism = 2
			}
			ALB_ahmet_zogu = {
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = civilian_dictatorship
						traits = {
							dictator
						}
					}
				}
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = stratocracy
						traits = {
							dictator
						}
					}
				}
			}
			set_party_name = {
				ideology = neutrality
				long_name = ALB_neutrality_zogu_party
				name = ALB_neutrality_zogu_party
			}
			set_party_name = {
				ideology = fascism
				long_name = ALB_neutrality_zogu_party
				name = ALB_neutrality_zogu_party
			}
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = ww1_albania.16.b
		add_stability = -0.15
		add_manpower = -5000
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				is_subject_of = GER
			}
		}
	}
}

# Overlord reaction to June Revolution
country_event = {
	id = ww1_albania.17
	title = ww1_albania.17.t
	desc = ww1_albania.17.d
	picture = GFX_report_event_albanian_partisans
	is_triggered_only = yes
	option = {
		name = ww1_albania.17.a
		declare_war_on = {
			target = FROM
			type = puppet_wargoal_focus
		}
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				NOT = {
					is_neighbor_of = FROM
				}
			}
			modifier = {
				factor = 0
				any_other_country = {
					is_major = yes
					has_war_with = ROOT
				}
			}
			modifier = {
				factor = 0
				has_war_support < 0.5
			}
		}
	}
	option = {
		name = ww1_albania.17.b
		add_political_power = -50
		add_opinion_modifier = {
			target = ALB
			modifier = HOI4TGW_Opinion_hostile_diplomatic_relations
		}
		ai_chance = {
			base = 100
		}
	}
}

# #Greçë Memorandum
# country_event = {
# 	id = ww1_albania.18
# 	title = ww1_albania.18.t
# 	desc = ww1_albania.18.d
# 	picture = GFX_report_event_gerece_memorendum
# 	fire_only_once = yes
# 	mean_time_to_happen = {
# 		days = 10
# 	}
# 	trigger = {
# 		tag = TUR
# 		controls_state = 848
# 		controls_state = 870
# 		NOT = {
# 			country_exists = ALB
# 		}
# 		has_global_flag = ALB_revolt_of_1911
# 		date > 1911.10.23
# 		any_state = {
# 			is_core_of = ALB
# 			has_dynamic_modifier = { modifier = TUR_albanian_minority }
# 		}
# 	}
# 	option = {
# 		name = ww1_albania.18.a
# 		set_country_flag = TUR_ratify_grece_memorendum
# 		add_political_power = -50
# #		puppet = ALB
# #		release_puppet = ALB
# #		if = {
# #			limit = {
# #				NOT = {
# #					has_government = communism
# #				}
# #			}
# #			TUR_ahmet_izzet = { set_nationality = ALB }
# #			hidden_effect = {
# #				ALB = {
# #					TUR_ahmet_izzet = {
# #						set_character_name = TUR_ahmet_izzet
# #						add_country_leader_role = {
# #							Promote_leader = yes
# #							Country_leader = {
# #								ideology = absolute_monarchy
# #								traits = { ottoman_prince }
# #							}
# #						}
# #					}
# #					set_cosmetic_tag = ALB_sultanate
# #					set_politics={
# #						ruling_party = neutrality
# #						elections_allowed = no 
# #						long_name = ALB_neutrality_sultan_party
# #						name = ALB_neutrality_sultan_party
# #					}	
# #					set_popularities = {
# #						democratic = 40
# #						neutrality = 60
# #					}				
# #				}	
# #			}
# #		}
# #		44 = {
# #			add_extra_state_shared_building_slots = 1
# #			add_building_construction = {
# #				type = arms_factory
# #				level = 1
# #				instant_build = yes
# #			}
# #		}
# #		871 = {
# #			add_extra_state_shared_building_slots = 1
# #			add_building_construction = {
# #				type = industrial_complex
# #				level = 1
# #				instant_build = yes
# #			}
# #		}
# 		every_state = {
# 			limit = {
# 				is_core_of = ALB
# 			}
# 			clr_state_flag = TUR_albanian_state
# 			if = {
# 				limit = {
# 					is_controlled_by = TUR
# 				}
# 				remove_dynamic_modifier = { modifier = TUR_albanian_minority }
# 				add_dynamic_modifier = { modifier = TUR_autonomous_region scope = TUR }
# 				set_state_flag = TUR_autonomous_region
# 			}
# 			if = {
# 				limit = {
# 					NOT = {
# 						is_controlled_by = TUR
# 					}
# 				}
# 				clr_state_flag = TUR_albanian_state_nocontrol
# 				set_state_flag = TUR_autonomous_region_not_control
# 				set_state_flag = TUR_autonomous_region
# 			}
# 		}
# 		custom_effect_tooltip = ww1_albania.18.tt
# 		hidden_effect = {
# 			set_country_flag = TUR_appeased_albanians
# 			ottoman_minority_variable_check = yes
# 		}
# 		ai_chance = {
# 			base = 0
# 			modifier = {
# 				add = 1000
# 				has_game_rule = {
# 					rule = TUR_ai_behavior 
# 					option = TUR_HURRIYET_VE_ITILAF
# 				}
# 			}
# 		}
# 	}
# 	option = {
# 		name = ww1_albania.18.b
# 		add_stability = -0.05
# 		870 = {
# 			add_resistance = 10
# 		}
# 		871 = {
# 			add_resistance = 5
# 		}
# 		803 = {
# 			add_resistance = 5
# 		}
# 		ai_chance = {
# 			base = 0
# 			modifier = {
# 				add = 1000
# 				is_historical_focus_on = yes
# 			}
# 		}
# 	}
# }
# Italy takes Vlore 
country_event = {
	title = ww1_albania.19.t
	desc = ww1_albania.19.d
	id = ww1_albania.19
	fire_only_once = yes
	picture = GFX_report_event_gre_italian_troops
	is_triggered_only = yes
	option = {
		name = ww1_albania.19.a
		trigger = {
			original_tag = ALB
		}
		add_opinion_modifier = {
			target = FROM
			modifier = HOI4TGW_Opinion_diplomats_malus
		}
		ITA = {
			transfer_state = 871
		}
		hidden_effect = {
			ITA = {
				country_event = {
					id = ww1_albania.19
				}
			}
		}
	}
	option = {
		name = ww1_albania.19.b
		trigger = {
			original_tag = ITA
		}
		add_named_threat = {
			threat = 3
			name = ww1_albania.19.t
		}
	}
}

# Italy withdraw from Vlore 
country_event = {
	title = ww1_albania.20.t
	desc = ww1_albania.20.d
	id = ww1_albania.20
	picture = GFX_report_event_gre_italian_troops
	is_triggered_only = yes
	option = {
		name = ww1_albania.20.a
		add_political_power = -25
		every_owned_state = {
			limit = {
				is_core_of = ALB
			}
			transfer_state_to = ALB
		}
	}
}

# Albania offers to install Italian monarch
country_event = {
	id = ww1_albania.21
	title = ww1_albania.21.t
	desc = ww1_albania.21.d
	fire_only_once = yes
	picture = GFX_report_event_gre_italian_troops
	trigger = {
		original_tag = ITA
		OR = {
			owns_state = 871
			owns_state = 44
		}
		OR = {
			has_active_mission = versallies_conference
			has_active_mission = frankfurt_conference
		}
		ALB = {
			is_subject = no
			NOT = {
				has_country_flag = great_war_loser
			}
		}
		NOT = {
			has_country_flag = great_war_loser
			has_war_with = ALB
		}
	}
	mean_time_to_happen = {
		days = 30
	}
	option = {
		name = ww1_albania.21.a
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				has_game_rule = {
					rule = fate_of_albania
					option = FATE_OF_ALBANIA_VITTORIO_OPTION
				}
			}
		}
		set_global_flag = valona_war
		ALB = {
			add_opinion_modifier = {
				target = ROOT
				modifier = hostile_status
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = ALB
			}
			add_resistance = 30
			if = {
				limit = {
					NOT = {
						state = 871
					}
				}
				set_demilitarized_zone = yes
			}
		}
	}
	option = {
		name = ww1_albania.21.b
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				add = 1000
				has_game_rule = {
					rule = fate_of_albania
					option = FATE_OF_ALBANIA_VITTORIO_OPTION
				}
			}
		}
		add_named_threat = {
			threat = 2
			name = conquest_of_albania
		}
		add_political_power = -100
		every_owned_state = {
			limit = {
				is_core_of = ALB
			}
			transfer_state_to = ALB
		}
		effect_tooltip = {
			set_autonomy = {
				target = ALB
				autonomy_state = autonomy_dominion
			}
		}
		hidden_effect = {
			ALB = {
				get_current_government_type = yes
				ROOT = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_dominion
					}
				}
				if = {
					limit = {
						ROOT = {
							OR = {
								has_idea = victor_emmanuel
								has_idea = victor_emmanuel_ww1
								has_idea = umberto_ii
								has_country_leader_ideology = semi_constitutional_monarchy
							}
						}
					}
					set_cosmetic_tag = ALB_kingdom
					set_politics = {
						ruling_party = neutrality
						elections_allowed = yes
						long_name = ITA_neutrality_party
						name = ITA_neutrality_party
					}
					ROOT = {
						ITA_vittorio_emanuele_di_savoy_aosta = {
							set_nationality = ALB
							if = {
								limit = {
									has_ideology = semi_constitutional_monarchy
								}
								promote_character = semi_constitutional_monarchy
								set_character_name = ALB_vittorio_emanuele
							}
							else = {
								add_country_leader_role = {
									promote_leader = yes
									country_leader = {
										ideology = semi_constitutional_monarchy
										traits = {
											foreign_leader
										}
									}
								}
							}
							set_character_name = ALB_vittorio_emanuele
						}
					}
				}
				else = {
					restore_previous_government_type = yes
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
						}
					}
					set_politics = {
						ruling_party = communism
						elections_allowed = no
					}
					add_popularity = {
						ideology = communism
						popularity = 0.5
					}
				}
			}
		}
	}
}

# event removed
# id = ww1_albania.22
# Autonomous Republic of Northern Epirus
# country_event = {
# 	id = ww1_albania.23
# 	title = ww1_albania.23.t
# 	desc = ww1_albania.23.d
# 	picture = GFX_report_event_generic_peaceful_annexation
# 	trigger = {
# 		tag = ALB
# 		is_subject = no
# 		has_war = no
# 		803 = {
# 			is_owned_and_controlled_by = ROOT
# 			has_dynamic_modifier = {
# 				modifier = ALB_greek_minority
# 			}
# 		}
# 		NOT = {
# 			has_global_flag = great_war
# 			has_government = communism
# 			has_government = fascism
# 		}
# 	}
# 	mean_time_to_happen = { days = 70 }
# 	fire_only_once = yes
# 	option = {
# 		name = ww1_albania.23.a
# 		803 = {
# 			set_demilitarized_zone = no
# 			add_core_of = EPR
# 			transfer_state_to = EPR
# 		}
# 		puppet = EPR
# 		hidden_effect = {
# 			GRE = { give_guarantee = EPR }
# 			EPR = {
# 				set_politics = {
# 					ruling_party = democratic
# 					elections_allowed = no
# 				}
# 				set_popularities = {
# 					fascism = 10
# 					communism = 3
# 					democratic = 60
# 					neutrality = 27
# 				}
# 			}
# 		}
# 	}
# }
# # Greece Lost Northern Epirus to Albanian Nation
# country_event = {
# 	id = ww1_albania.24
# 	title = ww1_albania.24.t
# 	desc = ww1_albania.24.d
# 	picture = GFX_report_event_generic_conference
# 	trigger = {
# 		original_tag = GRE
# 		has_global_flag = interbellum
# 		has_global_flag = interwar_greco_turkish_war
# 		owns_state = 803
# 		has_war = no
# 		all_owned_state = {
# 			NOT = { region = 129 }
# 		}
# 		NOT = {
# 			owns_state = 871
# 		}
# 	}
# 	mean_time_to_happen = {
# 		days = 70
# 	}
# 	fire_only_once = yes
# 	option = {
# 		name = ww1_albania.24.a
# 		random_other_country = {
# 			limit = {
# 				owns_state = 871
# 			}
# 			transfer_state = 803
# 		}
# 	}
# }
# The ICC form in vlore
country_event = {
	id = ww1_albania.25
	title = ww1_albania.25.t
	desc = ww1_albania.25.d
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = ww1_albania.25.a
		add_stability = 0.15
		871 = {
			add_dynamic_modifier = {
				modifier = ALB_ICC_support
			}
		}
	}
}

# Essad Toptani set up a rival governement 
country_event = {
	id = ww1_albania.26
	title = ww1_albania.26.t
	desc = ww1_albania.26.d
	picture = GFX_report_event_generic_peaceful_annexation
	trigger = {
		tag = ALB
		is_subject = no
		has_war = no
		owns_state = 44
		owns_state = 871 #two states needed for civil war
		date > 1913.10.12
		has_start_date < 1914.1.1
		has_country_leader = {
			character = ALB_ismail_qemali
		}
		NOT = {
			has_country_flag = toptani_coup_1913
		}
	}
	immediate = {
		set_country_flag = toptani_coup_1913
		hidden_effect = {
			ALB_essad_pasha_toptani = {
				promote_character = warlordism
				promote_character = stratocracy
			}
		}
	}
	fire_only_once = yes
	option = {
		name = ww1_albania.26.a
		44 = {
			add_dynamic_modifier = {
				modifier = ALB_rural_chaos
			}
		}
		start_civil_war = {
			ideology = neutrality
			size = 0
			transfer_state = 44
			set_cosmetic_tag = ALB_central
			load_focus_tree = empty_focus
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			keep_political_party_members = yes
			ALB = {
				ALB_essad_pasha_toptani = {
					set_nationality = PREV.PREV
					promote_character = warlordism
					promote_character = stratocracy
				}
			}
			add_ideas = standing_alone
			set_popularities = {
				democratic = 43
				communism = 2
				fascism = 25
				neutrality = 30
			}
			if = {
				limit = {
					EPR = {
						has_war_with = ALB
					}
				}
				declare_war_on = {
					target = EPR
					type = annex_everything
				}
			}
			transfer_units_fraction = {
				target = ALB
				size = 1
				stockpile_ratio = 1
				army_ratio = 1
				navy_ratio = 1
				air_ratio = 1
				keep_unit_leaders_trigger = {
					always = yes
				}
			}
			division_template = {
				name = "Milicitë Shqiptare mini"
				regiments = {
					infantry = {
						x = 0
						y = 0
					}
					infantry = {
						x = 0
						y = 1
					}
				}
			}
			44 = {
				create_unit = {
					division = "division_template = \"Milicitë Shqiptare mini\" start_experience_factor = 0.1"
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 11762
				}
			}
		}
	}
	option = {
		name = ww1_albania.26.b
		trigger = {
			is_ai = no
		}	
		44 = {
			add_dynamic_modifier = {
				modifier = ALB_rural_chaos
			}
		}
		start_civil_war = {
			ideology = neutrality
			size = 0
			transfer_state = 44
			set_cosmetic_tag = ALB_central
			load_focus_tree = empty_focus
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			keep_political_party_members  = yes
			add_ideas = standing_alone
			set_popularities = {
				democratic = 43
				communism = 2
				fascism = 25
				neutrality = 30
			}
			if = {
				limit = {
					EPR = {
						has_war_with = ALB
					}
				}
				declare_war_on = {
					target = EPR
					type = annex_everything
				}
			}
			transfer_units_fraction = {
				target = ALB
				size = 1
				stockpile_ratio = 1
				army_ratio = 1
				navy_ratio = 1
				air_ratio = 1
				keep_unit_leaders_trigger = {
					always = yes
				}
			}
			division_template = {
				name = "Milicitë Shqiptare mini"
				regiments = {
					infantry = {
						x = 0
						y = 0
					}
					infantry = {
						x = 0
						y = 1
					}
				}
			}
			44 = {
				create_unit = {
					division = "division_template = \"Milicitë Shqiptare mini\" start_experience_factor = 0.1"
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					prioritize_location = 11762
				}
			}
			change_tag_from = ALB
		}
	}
}

# internation dutch gendarmerie is disolved because of great war
country_event = {
	id = ww1_albania.27
	title = ww1_albania.27.t
	desc = ww1_albania.27.d
	picture = GFX_report_event_generic_peaceful_annexation
	trigger = {
		tag = ALB
		has_template = "Dutch Gendarmerie"
		any_other_country = {
			is_major = yes
			OR = {
				has_war_with = ENG
				has_war_with = FRA
				has_war_with = GER
				has_war_with = RUS
				has_war_with = AUS
				has_war_with = ITA
			}
		}
		NOT = {
			has_country_flag = ALB_dutch_gendarmerie_dissolved
		}
	}
	fire_only_once = yes
	option = {
		name = ww1_albania.27.a
		set_country_flag = ALB_dutch_gendarmerie_dissolved
		delete_unit_template_and_units = {
			division_template = "Dutch Gendarmerie"
		}
	}
}

#Albanian War for Independence
country_event = {
	title = ww1_albania.7.t
	desc = ww1_albania.7.d
	id = ww1_albania.28
	picture = GFX_report_event_spr_civil_war_faction_defeated
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_albania.28.a
		set_global_flag = ALB_BW1_rebellion
		set_autonomy = {
			target = ALB
			autonomous_state = autonomy_free
		}
	}
}

#Albanian is asking support for civil war
country_event = {
	title = ww1_albania.29.t
	desc = ww1_albania.29.d
	id = ww1_albania.29
	picture = GFX_report_event_military_planning
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		#yes
		name = ww1_albania.29.a
		FROM = {
			country_event = {
				id = ww1_albania.30
				days = 2
			}
		}
		unlock_decision_category_tooltip = TUR_albanian_plot
		set_country_flag = TUR_albanian_plot_accepted
		ai_chance = {
			factor = 100
		}
	}
	option = {
		#no
		name = ww1_albania.29.b
		FROM = {
			country_event = {
				id = ww1_albania.31
				days = 2
			}
		}
		add_political_power = -50
		ai_chance = {
			factor = 1
		}
	}
}

#ottoman support coup
country_event = {
	title = ww1_albania.30.t
	desc = ww1_albania.30.d
	id = ww1_albania.30
	picture = GFX_report_event_military_planning
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_albania.30.a
		add_political_power = 75
		unlock_decision_category_tooltip = TUR_albanian_plot
		set_country_flag = TUR_albanian_plot_accepted
		add_to_variable = {
			ALB_coup_detat = 0
		}
	}
}

#ottoman refused support
country_event = {
	title = ww1_albania.31.t
	desc = ww1_albania.31.d
	id = ww1_albania.31
	picture = GFX_report_event_military_planning
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_albania.31.a
	}
}

#izzet coup succeed (ahistorical)
country_event = {
	title = ww1_albania.32.t
	desc = ww1_albania.32.d
	id = ww1_albania.32
	picture = GFX_report_event_military_planning
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_albania.32.a
		if = {
			limit = {
				tag = ALB
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			get_current_government_type = yes
			TUR = {
				set_autonomy = {
					target = ALB
					autonomous_state = autonomy_tgwr_ottoman_emirate
				}
			}
			restore_previous_government_type = yes
			TUR = {
				TUR_ahmet_izzet = {
					set_nationality = ALB
				}
			}
			promote_character = TUR_ahmet_izzet
			else = {
				effect_tooltip = {
					ALB = {
						set_politics = {
							ruling_party = neutrality
							elections_allowed = no
						}
						get_current_government_type = yes
						TUR = {
							set_autonomy = {
								target = ALB
								autonomous_state = autonomy_tgwr_ottoman_emirate
							}
						}
						restore_previous_government_type = yes
					}
				}
			}
		}
	}
}

#izzet coup failed
country_event = {
	title = ww1_albania.33.t
	desc = ww1_albania.33.d
	id = ww1_albania.33
	picture = GFX_report_event_military_planning
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_albania.33.a
	}
}

#serbia uncover the plot
country_event = {
	title = ww1_albania.34.t
	desc = ww1_albania.34.d
	id = ww1_albania.34
	picture = GFX_report_event_military_planning
	fire_only_once = yes
	trigger = {
		ALB = {
			has_country_flag = TUR_albanian_plot_accepted
		}
		SER = {
			NOT = {
				is_in_faction_with = TUR
				is_subject_of = TUR
			}
			has_intelligence_agency = yes
		}
		NOT = {
			has_country_flag = TUR_albanian_plot_uncovered
		}
	}
	mean_time_to_happen = {
		days = 38
	}
	option = {
		name = ww1_albania.34.a
		add_political_power = 25
		set_country_flag = TUR_albanian_plot_uncovered
		ALB = {
			country_event = {
				id = ww1_albania.35
				days = 2
			}
		}
		hidden_effect = {
			TUR = {
				country_event = {
					id = ww1_albania.35
					days = 2
				}
			}
		}
	}
}

#serbia discovered our plot ! 
country_event = {
	title = ww1_albania.35.t
	desc = ww1_albania.35.d
	id = ww1_albania.35
	picture = GFX_report_event_military_planning
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_albania.35.a
		if = {
			limit = {
				tag = ALB
			}
			subtract_from_variable = {
				ALB_coup_detat = 25
			}
		}
		custom_effect_tooltip = TUR_albanian_plot_malus_25_percents
	}
}

#invest in albania ?
country_event = {
	title = ww1_albania.36.t
	desc = ww1_albania.36.d
	id = ww1_albania.36
	picture = GFX_report_event_military_planning
	fire_only_once = no
	is_triggered_only = yes
	option = {
		name = ww1_albania.36.a
		add_political_power = 25
		effect_tooltip = {
			ALB = {
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
			}
		}
		ALB = {
			country_event = {
				id = ww1_albania.37
				days = 2
			}
		}
		ai_chance = {
			factor = 500
		}
	}
	option = {
		name = ww1_albania.36.b
		ALB = {
			add_opinion_modifier = {
				target = ROOT
				modifier = small_decrease
			}
			ALB = {
				country_event = {
					id = ww1_albania.38
					days = 2
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

#FROM accepted
country_event = {
	title = ww1_albania.36.t
	desc = ww1_albania.37.d
	id = ww1_albania.37
	picture = GFX_report_event_military_planning
	fire_only_once = no
	is_triggered_only = yes
	option = {
		name = ww1_albania.37.a
		ALB = {
			capital_scope = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}
	}
}

#FROM refused
country_event = {
	title = ww1_albania.36.t
	desc = ww1_albania.38.d
	id = ww1_albania.38
	picture = GFX_report_event_military_planning
	fire_only_once = no
	is_triggered_only = yes
	option = {
		name = ww1_albania.38.a
	}
}

#protocol of corfu
country_event = {
	title = ww1_albania.39.t
	desc = ww1_albania.39.d
	id = ww1_albania.39
	picture = GFX_report_event_military_planning
	fire_only_once = no
	is_triggered_only = yes
	option = {
		name = ww1_albania.39.a
		effect_tooltip = {
			ALB = {
				puppet = {
					target = EPR
					end_wars = yes
					end_civil_wars = yes
				}
			}
			GRE = { give_guarantee = EPR }
		}
		hidden_effect = {
			if = {
				limit = {
					tag = ALB
				}
				EPR = {
					get_current_government_type = yes
					ALB = {
						puppet = {
							target = EPR
							end_wars = yes
							end_civil_wars = yes
						}
					}	
					restore_previous_government_type = yes
				}
			}
			else_if = {
				limit = {
					tag = GRE
				}
				give_guarantee = EPR
			}
		}
	}
}
