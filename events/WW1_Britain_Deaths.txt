add_namespace = england_death

#James Grierson the fat bastard (also can use this event as a template)
country_event = {
	id = england_death.1
	title = england_death.1.t
	desc = england_death.1.d
	picture = GFX_report_event_generic_funeral
	fire_only_once = yes
	trigger = {
		tag = ENG
		has_character = ENG_james_grierson
		date > 1914.08.17
	}
	hidden = yes
	immediate = {
		ENG_james_grierson = { unit_leader_event = { id = england_death.5 } }
	}
}
#New Generals!
country_event = {
	id = england_death.3
	title = england_death.3.t
	desc = england_death.3.d
	picture = GFX_report_event_british_inspect_troops
	fire_only_once = yes
	trigger = {
		original_tag = ENG
		date > 1920.01.01
		has_war = no
	}
	mean_time_to_happen = { days = 100 }
	option = {
		name = england_death.3.a
		custom_effect_tooltip = eng_new_generals_tt
		hidden_effect = {
			remove_unit_leader = 801
			remove_unit_leader = 802
			remove_unit_leader = 807
			every_unit_leader = {
				limit = {
					has_id = 808
				}
				set_nationality = KEN
			}
			remove_unit_leader = 809
			remove_unit_leader = 813
			every_unit_leader = {
				limit = {
					has_id = 814
				}
				promote_leader = yes
			}
			remove_unit_leader = 815
			remove_unit_leader = 818
			remove_unit_leader = 819
			every_unit_leader = {
				limit = {
					has_id = 821
				}
				set_nationality = IRE
			}
			remove_unit_leader = 823
			remove_unit_leader = 828
			ENG_william_robertson = {
				remove_unit_leader_role = yes
			}
			if = {
				limit = {
					NOT = {
						has_completed_focus = ENG_Never_Let_Old_Flag
						has_government = fascism
						has_country_leader = {
							character = ENG_rotha_lintornorman
							ruling_only = no
						}
						has_country_flag = great_war_loser
					}
				}
				ENG_archie_wavell = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = stratocracy
						}
					}
				}
			}
			if = {
				limit = {
					NOT = { has_government = communism }
				}
				create_corps_commander = {
					name = "Alan Brooke"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Alan_Brooke.dds"
					traits = { artillery_officer trait_cautious ENG_new_guard trait_royalist artillery_specialist }
					skill = 5
					attack_skill = 3
					defense_skill = 5
					planning_skill = 5
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "Bernard Montgomery"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Bernard_Montgomery.dds"
					traits = { brilliant_strategist media_personality ENG_new_guard trait_royalist }
					skill = 4
					attack_skill = 2
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 4
				}
				create_corps_commander = {
					name = "Richard O'Connor"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Richard_OConnor.dds"
					traits = { armor_officer ENG_new_guard trait_royalist trait_mountaineer }
					skill = 3
					attack_skill = 2
					defense_skill = 4
					planning_skill = 4
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "William Platt"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_William_Platt.dds"
					traits = { ENG_new_guard trait_royalist }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "George Giffard"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_George_Giffard.dds"
					traits = { career_officer ENG_new_guard trait_royalist jungle_rat }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "Harold Alexander"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Harold_Alexander.dds"
					traits = { inflexible_strategist ENG_new_guard trait_royalist inspirational_leader }
					skill = 4
					attack_skill = 4
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 5
				}
				create_corps_commander = {
					name = "Arthur Percival"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Arthur_Percival.dds"
					traits = { trait_cautious ENG_new_guard trait_royalist winter_specialist trickster }
					skill = 1
					attack_skill = 2
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 1
				}
				create_corps_commander = {
					name = "Merton Beckwith-Smith"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Merton_Beckwith_Smith.dds"
					traits = { trait_reckless ENG_new_guard trait_royalist commando trickster guerilla_fighter }
					skill = 1
					attack_skill = 1
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 1
				}
				create_corps_commander = {
					name = "John Vereker"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_John_Vereker.dds"
					traits = { politically_connected trait_cautious ENG_new_guard trait_royalist }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 4
					logistics_skill = 3
				}
				create_corps_commander = {
					name = "Brian Horrocks"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Brian_Horrocks.dds"
					traits = { war_hero ENG_new_guard trait_royalist winter_specialist }
					skill = 2
					attack_skill = 1
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 3
				}
				create_field_marshal = {
					name = "Archibald Wavell"
					portrait_path = "gfx/leaders/ENG/Portrait_Britain_Archibald_Wavell.dds"
					traits = { career_officer ENG_new_guard trait_royalist }
					skill = 4
					attack_skill = 4
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 4
				}
				else = {
					create_corps_commander = {
						name = "Alan Brooke"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Alan_Brooke.dds"
						traits = { artillery_officer trait_cautious ENG_new_guard artillery_specialist }
						skill = 5
						attack_skill = 3
						defense_skill = 5
						planning_skill = 5
						logistics_skill = 3
					}
					create_corps_commander = {
						name = "Bernard Montgomery"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Bernard_Montgomery.dds"
						traits = { brilliant_strategist media_personality ENG_new_guard }
						skill = 4
						attack_skill = 2
						defense_skill = 4
						planning_skill = 3
						logistics_skill = 4
					}
					create_corps_commander = {
						name = "Richard O'Connor"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Richard_OConnor.dds"
						traits = { armor_officer ENG_new_guard trait_mountaineer }
						skill = 3
						attack_skill = 2
						defense_skill = 4
						planning_skill = 4
						logistics_skill = 3
					}
					create_corps_commander = {
						name = "William Platt"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_William_Platt.dds"
						traits = { ENG_new_guard }
						skill = 2
						attack_skill = 2
						defense_skill = 2
						planning_skill = 3
						logistics_skill = 3
					}
					create_corps_commander = {
						name = "George Giffard"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_George_Giffard.dds"
						traits = { career_officer ENG_new_guard jungle_rat }
						skill = 2
						attack_skill = 2
						defense_skill = 2
						planning_skill = 3
						logistics_skill = 3
					}
					create_corps_commander = {
						name = "Harold Alexander"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Harold_Alexander.dds"
						traits = { inflexible_strategist ENG_new_guard inspirational_leader }
						skill = 4
						attack_skill = 4
						defense_skill = 4
						planning_skill = 3
						logistics_skill = 5
					}
					create_corps_commander = {
						name = "Arthur Percival"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Arthur_Percival.dds"
						traits = { trait_cautious ENG_new_guard winter_specialist trickster }
						skill = 1
						attack_skill = 2
							defense_skill = 2
						planning_skill = 2
						logistics_skill = 1
					}
					create_corps_commander = {
						name = "Merton Beckwith-Smith"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Merton_Beckwith_Smith.dds"
						traits = { trait_reckless ENG_new_guard commando trickster guerilla_fighter }
						skill = 1
						attack_skill = 1
						defense_skill = 1
						planning_skill = 1
						logistics_skill = 1
					}
					create_corps_commander = {
						name = "John Vereker"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_John_Vereker.dds"
						traits = { politically_connected trait_cautious ENG_new_guard }
						skill = 3
						attack_skill = 3
						defense_skill = 3
						planning_skill = 4
						logistics_skill = 3
					}
					create_corps_commander = {
						name = "Brian Horrocks"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Brian_Horrocks.dds"
						traits = { war_hero ENG_new_guard winter_specialist }
						skill = 2
						attack_skill = 1
						defense_skill = 3
						planning_skill = 3
						logistics_skill = 3
					}
					create_field_marshal = {
						name = "Archibald Wavell"
						portrait_path = "gfx/leaders/ENG/Portrait_Britain_Archibald_Wavell.dds"
						traits = { career_officer ENG_new_guard }
						skill = 4
						attack_skill = 4
						defense_skill = 2
						planning_skill = 3
						logistics_skill = 4
					}
				}
			}
		}
	}
}

#Sir Hiram Maxim dies
country_event = {
	id = england_death.4
	title = england_death.4.t
	desc = england_death.4.d
	picture = GFX_report_event_europe_funeral
	trigger = {
		original_tag = ENG
		date > 1916.11.01
		has_character = ENG_sir_hiram_maxim
	}
	mean_time_to_happen = { days = 24 }
	
	fire_only_once = yes
	option = {
		name = england_death.4.a
		retire_character = ENG_sir_hiram_maxim
	}
}
#part of my unit leader event changes
unit_leader_event = {
	id = england_death.5
	title = england_death.1.t
	desc = england_death.1.d
	#picture = GFX_report_event_generic_funeral
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = england_death.1.a
		retire_character = ENG_james_grierson
	}
}
#Paul Methuen retires
country_event = {
	id = england_death.6
	fire_only_once = yes
	trigger = {
		tag = ENG
		has_character = ENG_paul_methuen
		date > 1915.02.01
		OR = {
			AND = {
				NOT = {
					country_exists = MLT
				}
				owns_state = 116
			}
			has_subject = MLT
		}
		NOT = {
			AND = {
				has_country_flag = ENG_socialist_britain_flag 
				OR = {
					has_government = communism
					has_country_leader_ideology = national_syndicalism
				}
			}
		}
	}
	hidden = yes
	immediate = {
		ENG_paul_methuen = { unit_leader_event = { id = england_death.7 } }
	}
}
#unit leader event for above
unit_leader_event = {
	id = england_death.7
	title = england_death.7.t
	desc = england_death.7.d
	#picture = GFX_report_event_british_inspect_troops
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = england_death.7.a
		ENG_paul_methuen = { 
			add_country_leader_role = {
				country_leader = {
					ideology = oligarchism
					traits = { british_agent }
				}
			}
			set_nationality = MLT
		}
		hidden_effect = {
			MLT = {
				if = {
					limit = {
						has_character = ENG_paul_methuen
					}
					promote_character = ENG_paul_methuen
				}	
			}
		}
	}
}