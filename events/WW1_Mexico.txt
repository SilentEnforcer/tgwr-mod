add_namespace = ww1_mexico
# MEXICAN REVOLUTION
#####################
country_event = {
	id = ww1_mexico.1
	title = ww1_mexico.1.t
	desc = ww1_mexico.1.d
	picture = GFX_report_event_generic_riot
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_mexico.1.a
		add_ideas = MEX_idea_mexican_revolution_1
		set_global_flag = SUPER_GLOBAL_Mexican_Revolution_1910
		ai_chance = {
			factor = 100
		}
	}
}

# REBELLION AGAINST PORFORIO DIAZ
##################################
country_event = {
	id = ww1_mexico.2
	title = ww1_mexico.2.t
	desc = ww1_mexico.2.d
	picture = GFX_report_event_gathering_protest
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
        hidden_effect = {
			set_global_flag = mexican_revolution
			set_party_name = { 
				ideology = democratic
				long_name = MEX_independent_party 
				name = MEX_independent_party 
			}
			MEX_francisco_madero = {
				set_nationality = MXM
			}	
			MEX_abraham_gonzalez = {
				set_nationality = MXM
			}
			MXM = {
				promote_character = MEX_abraham_gonzalez
				promote_character = MEX_francisco_madero			
				load_focus_tree = mexican_focus
				unlock_national_focus = MEX_the_election_of_1910
				unlock_national_focus = MXM_support_madero
				unlock_national_focus = MXM_spread_the_plan_of_san_luis
				unlock_national_focus = MXM_move_the_leaders
				unlock_national_focus = MXM_prepare_the_uprising
				unlock_national_focus = MXM_begin_the_revolutionary_ideals
				unlock_national_focus = MXM_launch_the_revolution		
				every_state = {
					limit = {
						is_core_of = MEX
					}
					add_core_of = MXM				
				}			
				inherit_technology = MEX
				transfer_state = 480
				if = {
					limit = {
						MEX = {
							OR = {
								has_completed_focus = MXM_spread_the_plan_of_san_luis
								has_country_flag = MEX_spread_the_plan_of_san_luis
							}
						}												
					}
					transfer_state = 482
					set_capital = { state = 482 }
				}
				load_oob = "MXM_Revolution"
				if = {
					limit = {
						MEX = {
							OR = {
								has_completed_focus = MXM_prepare_the_uprising
								has_country_flag = MXM_prepare_the_uprising
							}	
						}					
					}
					set_province_controller = 8003
					set_province_controller = 8033
					set_province_controller = 10871
					set_province_controller = 13214
					set_province_controller = 13241
					set_province_controller = 13242
					set_province_controller = 13251
					set_province_controller = 13252
					division_template = {
						name = "Milicia Maderista"
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 0 y = 2 }
						}
					}
					480 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
							owner = MXM
							count = 4
						}
					}
					481 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
							owner = MEX
							allow_spawning_on_enemy_provs = yes
							count = 2
					}	
					}		
					482 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
							owner = MXM
							count = 6
						}
					}
					483 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
							owner = MXM
							allow_spawning_on_enemy_provs = yes
							count = 2
						}
					}
					840 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2"  
							owner = MXM
							allow_spawning_on_enemy_provs = yes
							count = 3
						}
					}
					841 = {
						create_unit = {
							division = "division_template = \"Milicia Maderista\" start_experience_factor = 0.2" 
							owner = MXM
							allow_spawning_on_enemy_provs = yes
							count = 2
						}
					}			
				}
				add_timed_idea = { idea = MXM_death_before_surrender days = 720 }
			}
			MEX = {
				if = {
					limit = {
						OR = {
							has_country_flag = MEX_declare_martial_law
							has_completed_focus = MEX_declare_martial_law
						}						
					}
					set_province_controller = 2037
					set_province_controller = 7973
					set_province_controller = 8097
					set_province_controller = 10746
					set_province_controller = 10809
					division_template = {
						name = "Guarnición Estatal"
						division_names_group = 	MEX_INF_03
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							artillery_brigade = { x = 0 y = 2 }
						}
					}
					480 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 2
						}
					}
					481 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 2
						}
					}
					482 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 2
						}
					}
					483 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 2
						}
					}
					840 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 1
						}
					}
					841 = {
						create_unit = {
							division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
							owner = MEX
							allow_spawning_on_enemy_provs = no
							count = 1
						}
					}
					load_oob = "MEX_Revolution"
				}
				MEX_felipe_angeles = {
					set_nationality = MXM
				}			
				if = {
					limit = {
						has_completed_focus =  MXM_support_madero
					}
					uncomplete_national_focus = {
						focus = MXM_support_madero
						uncomplete_children = yes
						refund_political_power = no
					}
					unlock_national_focus = MEX_appoint_porfirio_diaz_as_president
					unlock_national_focus = MEX_imprison_the_maderistas
					unlock_national_focus = MEX_expand_the_federal_army
					unlock_national_focus = MEX_declare_martial_law
				}
				declare_war_on = {
					target = MXM
					type = civil_war
				}
				add_civil_war_target = MXM
				if = {
					limit = {
						has_country_flag = MEX_imprison_the_maderistas
					}
					add_political_power = 75
				}
				if = {
					limit = {
						has_country_flag = MEX_declare_martial_law
					}
					add_political_power = 150
				}
				remove_ideas = MEX_idea_political_violence
				remove_ideas = MEX_idea_political_violence
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	#SUPPORT OPPOSITION
	option = {
		name = ww1_mexico.2.a
		trigger = { has_country_flag = MXM_support_madero_player }
		add_stability = -0.1
		add_named_threat = {
			threat = 5
			name = ww1_mexico.2.t
		}
		remove_ideas = MEX_idea_political_violence
		set_global_flag = support_madero
		
		custom_effect_tooltip = "Viva la Revolución"
		news_event = { id = ww1_mexico.101 }		
		hidden_effect = {
			activate_mission = MEX_anarchist_uprising_mission
		}
		MXM = { change_tag_from = ROOT }
		ai_chance = {
			factor = 10
		}
	}
	#SUPPORT DIAZ
	option = {
		name = ww1_mexico.2.b
		trigger = { 
			has_completed_focus = MEX_appoint_porfirio_diaz_as_president 
			NOT = {
				has_country_flag = MXM_support_madero_player
			}
		}
		add_stability = -0.1
		add_named_threat = {
			threat = 5
			name = ww1_mexico.2.t
		}
		remove_ideas = MEX_idea_political_violence
		
		custom_effect_tooltip = "Muerte a los rebeldes"
		ai_chance = {
	        factor = 10
	    }
		news_event = {
			id = ww1_mexico.101
		}
		set_global_flag = support_diaz
		hidden_effect = {
			activate_mission = MEX_anarchist_uprising_mission
		}
	}
}

# REVOLUTION IN MEXICO NEWS
############################
news_event = {
	id = ww1_mexico.101
	title = ww1_mexico.101.t
	desc = ww1_mexico.101.d
	picture = EVENT_hoi4tgw_mexican_revolution
	major = yes
	is_triggered_only = yes
	option = {
		name = ww1_mexico.101.a
		trigger = {
			NOT = {
				original_tag = MEX
			}
		}
		if = {
			limit = {
				has_game_rule = {
					rule = rule_superevent
					option = DEFAULT
				}
				is_ai = no
			}
			hidden_effect = {
				play_song = "SE_mex_revolution"
				set_country_flag = SE_mex_revolution
			}
		}
	}
	option = {
		name = ww1_mexico.101.b
		trigger = {
			original_tag = MEX
		}
		if = {
			limit = {
				has_game_rule = {
					rule = rule_superevent
					option = DEFAULT
				}
				is_ai = no
			}
			hidden_effect = {
				play_song = "SE_mex_revolution"
				set_country_flag = SE_mex_revolution
			}
		}
	}
}

# MADERO IS DEAD
#################
country_event = {
	id = ww1_mexico.103
	title = ww1_mexico.103.t
	desc = ww1_mexico.103.d
	picture = GFX_report_event_generic_peaceful_annexation
	fire_only_once = yes
	trigger = {
		original_tag = MEX
		has_global_flag = mexican_revolution
		has_country_leader = {
			character = MEX_francisco_madero
		}
		has_civil_war = no
		has_stability < 0.5
		date > 1913.1.1
	}
	mean_time_to_happen = {
		days = 90
	}
	immediate = {
		hidden_effect = {
			retire_character = MEX_bernardo_reyes
			retire_character = MEX_angel_ortiz_monasterio
		}
	}
	option = {
		name = ww1_mexico.103.a
		add_stability = -0.1
		retire_character = MEX_francisco_madero
		set_politics = {
			ruling_party = neutrality
			long_name = MEX_huerta_party
			name = MEX_huerta_party
			elections_allowed = yes
		}
		MEX_victoriano_huerta = {
			promote_leader = yes
			if = {
				limit = {
					has_ideology = despotism
				}
				promote_character = despotism
				else = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {						
							ideology = despotism
						}
					}
				}		
			}	
		}
		remove_ideas = MEX_idea_mexican_revolution_1
		hidden_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.5
			}
			set_global_flag = madero_is_dead
			MEX_venustiano_carranza = {
				if = {
					limit = {
						has_ideology = classical_liberalism
					}
					promote_character = classical_liberalism
					else = {
						add_country_leader_role = {
							promote_leader = yes
							country_leader = {								
								ideology = classical_liberalism
								traits = {
									jefe_de_mexico
								}	
							}
						}
					}		
				}
			}
			set_party_name = {
				ideology = democratic
				long_name = MEX_progressive_constitutionalist_party_long
				name = MEX_progressive_constitutionalist_party
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

# CARRANZA REVOLT
#################
country_event = {
	id = ww1_mexico.3
	title = ww1_mexico.3.t
	desc = ww1_mexico.3.d
	picture = GFX_report_event_generic_peaceful_annexation
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			character = MEX_victoriano_huerta
		}
		has_stability < 0.5
		has_civil_war = no
		is_subject = no
	}
	mean_time_to_happen = {
		days = 120
	}
	immediate = {
		hidden_effect = {
			clr_country_flag = mexican_revolution
			start_civil_war = {
				ideology = democratic
				size = 0.7
				capital = 480
				states = {
					838
					479
					482
					480
					483
				}
				keep_political_leader = yes
				keep_unit_leaders_trigger = { always = yes }
				set_country_flag = mexican_revolution
				add_ideas = MEX_mexican_civil_war
			}
			MEX_venustiano_carranza = {
				set_nationality = MXR
			}	
			MEX_alvaro_obregon = {
				set_nationality = MXR
			}
			MEX_plutarco_elias_calles = {
				set_nationality = MXR
			}
			MEX_candido_aguilar = {
				set_nationality = MXR
			}
			MEX_pablo_gonzalez_garza = {
				set_nationality = MXR
			}
			MEX_ramon_f_ituribe = {
				set_nationality = MXR
			}
			MEX_lucio_blanco = {
				set_nationality = MXR
			}	
			MEX_juan_g_cabral = {
				set_nationality = MXR
			}
			MEX_eulalio_gutierrez = {
				set_nationality = MXR
			}
			MEX_cesareo_castro_villareal = {
				set_nationality = MXR
			}
			MEX_francisco_luis_urquizo = {
				set_nationality = MXR
			}
			MEX_francisco_jose_mugica = {
				set_nationality = MXR
			}
			MEX_salvador_alvarado = {
				set_nationality = MXR
			}
			MEX_felix_uresti_gomez = {
				set_nationality = MXR
			}
			MEX_felipe_angeles = {
				set_nationality = MXR
			}	
			MEX_hilario_rodriguez_malpica_segovia = {
				set_nationality = MXR
			}
			MEX_hilario_rodriguez_malpica_saliva = {
				set_nationality = MXR
			}				
			MXR = {
				if = {
					limit = {
						has_character = MEX_venustiano_carranza
					}
					MEX_venustiano_carranza = {
						promote_character = classical_liberalism
					}
				}
				MEX_alvaro_obregon = {
					if = {
						limit = {
							has_ideology = authoritarian_democracy
						}
						promote_character = authoritarian_democracy
						else = {
							add_country_leader_role = {
								promote_leader = yes
								country_leader = {							
									ideology = authoritarian_democracy
								}
							}
						}		
					}
				}
				set_party_name = {
					ideology = neutrality
					long_name = MEX_obregon_party
					name = MEX_obregon_party
				}
				set_cosmetic_tag = MXC
				set_country_flag = MXC
				add_popularity = {
					ideology = communism
					popularity = 0.2
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.2
				}
			}
			add_ideas = MEX_mexican_civil_war
		}	
	}	
	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.3.a
		trigger = { is_ai = no }
		add_stability = -0.1
		add_war_support = -0.1
		effect_tooltip = {
			start_civil_war = {
				ruling_party = democratic
				ideology = ROOT
			}
		}
		hidden_effect = {
			MXR = {
				change_tag_from = ROOT
			}
		}
	}
	#SUPPORT HUERTA
	option = {
		name = ww1_mexico.3.b
		add_stability = -0.1
		add_war_support = -0.1
		effect_tooltip = {
			start_civil_war = {
				ideology = democratic
			}
		}
	}
}

# CIVIL WAR
#################
country_event = {
	id = ww1_mexico.4
	title = ww1_mexico.4.t
	desc = ww1_mexico.4.d
	picture = GFX_report_event_generic_riot
	fire_only_once = yes
	trigger = {
		original_tag = MEX
		has_country_leader = {
			character = MEX_venustiano_carranza
		}
		has_stability < 0.5
		has_civil_war = no
		is_subject = no
	}
	mean_time_to_happen = {
		days = 90
	}
	immediate = {
		hidden_effect = {
			clr_country_flag = mexican_revolution
			start_civil_war = {
				ideology = communism
				size = 0.3
				states = {
					844
					482
					485
				}
				keep_political_leader = yes
				keep_political_party_members = yes
				set_country_flag = mexican_revolution
				keep_unit_leaders_trigger = {
					always = yes
				}
				add_ideas = MEX_mexican_civil_war
			}
			MEX_eulalio_gutierrez = {
				promote_leader = yes
				set_nationality = MXR
			}
			MEX_pancho_villa = {
				promote_leader = yes
				set_nationality = MXR
			}
			MEX_lucio_blanco = {
				set_nationality = MXR
			}	
			MEX_juan_g_cabral = {
				set_nationality = MXR
			}
			MEX_roque_gonzalez_garza = {
				set_nationality = MXR
			}
			MEX_lucio_blanco = {
				set_nationality = MXR
			}
			MEX_juan_g_cabral = {
				set_nationality = MXR
			}
			MEX_roque_gonzalez_garza = {
				set_nationality = MXR
			}
			MEX_jesus_h_salgado = {
				set_nationality = MXR
			}
			MEX_otilio_montano = {
				set_nationality = MXR
			}
			MEX_felipe_angeles = {
				set_nationality = MXR
			}
			#Zapatists
			MEX_emiliano_zapata = {
				set_nationality = MXR
			}	
			MEX_eufemio_zapata = {
				set_nationality = MXR
			}
			MEX_amador_salazar = {
				set_nationality = MXR
			}
			MEX_felipe_neri = {
				set_nationality = MXR
			}
			MEX_francisco_mendoza_palma = {
				set_nationality = MXR
			}
			MEX_genovevo_de_la_o = {
				set_nationality = MXR
			}
			MEX_gildardo_magana_cerda = {
				set_nationality = MXR
			}
			MEX_jesus_h_salgado = {
				set_nationality = MXR
			}
			MEX_otilio_montano = {
				set_nationality = MXR
			}

			MEX_rafael_eguia_lis = {
				set_nationality = MXR
			}			
			set_global_flag = mexican_civil_war
			division_template = {
				name = "Regimiento Constitucionalista"
				regiments = {
					irregular_infantry = {
						x = 0
						y = 0
					}
					irregular_infantry = {
						x = 0
						y = 1
					}
					irregular_infantry = {
						x = 0
						y = 2
					}
					irregular_infantry = {
						x = 0
						y = 3
					}
				}
				support = {
					engineer = {
						x = 0
						y = 0
					}
				}
			}
			277 = {
				create_unit = {
					division = "name = \"1./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"2./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"3./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"4./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"5./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"6./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"7./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"8./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"9./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"10./Regimiento\" division_template = \"Regimiento Constitucionalista\" start_experience_factor = 0.1"
					owner = MEX
					allow_spawning_on_enemy_provs = yes
				}
			}
			MXR = {
				set_party_name = {
					ideology = communism
					long_name = MEX_convention_party
					name = MEX_convention_party
				}
				MEX_eulalio_gutierrez = {
					if = {
						limit = {
							has_ideology = agrarian_socialism
						}
						promote_character = agrarian_socialism
						else = {
							add_country_leader_role = {
								promote_leader = yes
								country_leader = {							
									ideology = agrarian_socialism
									traits = { divided_interests }
								}
							}
						}		
					}
				}	
				set_cosmetic_tag = MCO
				set_country_flag = MCO
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
				add_popularity = {
					ideology = democratic
					popularity = 0.1
				}
				division_template = {
					name = "Regimiento de Campesino"
					regiments = {
						militia = {
							x = 0
							y = 0
						}
						militia = {
							x = 0
							y = 1
						}
						militia = {
							x = 0
							y = 2
						}
						militia = {
							x = 0
							y = 3
						}
					}
				}
				844 = {
					create_unit = {
						division = "name = \"1./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
					create_unit = {
						division = "name = \"2./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
				}
				482 = {
					create_unit = {
						division = "name = \"3./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
					create_unit = {
						division = "name = \"4./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
					create_unit = {
						division = "name = \"5./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
				}
				485 = {
					create_unit = {
						division = "name = \"6./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
					create_unit = {
						division = "name = \"7./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
					create_unit = {
						division = "name = \"8./Regimiento de Campesino\" division_template = \"Regimiento de Campesino\" start_experience_factor = 0"
						owner = PREV
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			set_province_controller = 4898
			set_province_controller = 7935
			set_province_controller = 10809
			set_province_controller = 12827
			add_ideas = MEX_mexican_civil_war
		}
	}
	#SUPPORT CARRANZA
	option = {
		name = ww1_mexico.4.a
		add_stability = -0.1
		effect_tooltip = {
			start_civil_war = {
				ideology = communism
			}
		}
	}
	#SUPPORT ZAPATA
	option = {
		name = ww1_mexico.4.b
		trigger = { is_ai = no }
		add_stability = -0.1
		effect_tooltip = {
			start_civil_war = {
				ruling_party = communism
				ideology = ROOT
			}
		}
		hidden_effect = {
			MXR = {
				change_tag_from = ROOT
			}
		}
	}
}

# DIAZ IS DEAD
#################
country_event = {
	id = ww1_mexico.5
	title = ww1_mexico.5.t
	desc = ww1_mexico.5.desc
	picture = GFX_report_event_generic_funeral
	fire_only_once = yes
	trigger = {
		tag = MEX
		has_country_leader = {
			character = MEX_porfirio_diaz
		}
		date > 1915.7.1
	}
	mean_time_to_happen = {
		days = 5
	}
	option = {
		name = ww1_mexico.5.a
		retire_character = MEX_porfirio_diaz
		promote_character = MEX_jose_yves_limantour
		set_party_name = {
			ideology = neutrality
			long_name = MEX_cientificos_party_long
			name = MEX_cientificos_party
		}
		trigger = {
			has_character = MEX_jose_yves_limantour
		}	
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_mexico.5.b
		trigger = {
			has_character = MEX_bernardo_reyes
		}
		retire_character = MEX_porfirio_diaz
		promote_character = MEX_bernardo_reyes
		set_politics = {
			ruling_party = fascism
			elections_allowed = yes
		}
		set_political_party = {
			ideology = fascism
			popularity = 50
		}
		ai_chance = {
			factor = 60
		}
	}
	option = {
		name = ww1_mexico.5.c
		trigger = {
			has_character = MEX_felix_diaz
		}
		retire_character = MEX_porfirio_diaz
		MEX_felix_diaz = {
			if = {
				limit = {
					has_ideology = oligarchism
				}
				promote_character = oligarchism
				else = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {						
							ideology = oligarchism
							traits = {
								inefficient_leader
							}	
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 20
		}
	}
	option = {
		name = ww1_mexico.5.d
		trigger = {
			NOT = {
				has_character = MEX_jose_yves_limantour
				has_character = MEX_bernardo_reyes
				has_character = MEX_felix_diaz
			}
		}
		retire_character = MEX_porfirio_diaz
	}
}

# CARRANZA IS DEAD
#################
country_event = {
	id = ww1_mexico.6
	title = ww1_mexico.6.t
	desc = ww1_mexico.6.d
	picture = GFX_report_event_gathering_protest
	fire_only_once = yes
	trigger = {
		original_tag = MEX
		has_country_leader = {
			character = MEX_venustiano_carranza
			ruling_only = yes
		}
		has_character = MEX_alvaro_obregon
		date > 1920.5.1
		has_civil_war = no
	}
	mean_time_to_happen = {
		days = 30
	}
	option = {
		name = ww1_mexico.6.a
		retire_character = MEX_venustiano_carranza
		set_politics = {
			ruling_party = neutrality
			long_name = MEX_labor_party
			name = MEX_labor_party
			elections_allowed = yes
		}
		set_party_name = {
			ideology = democratic
			long_name = MEX_labor_party
			name = MEX_labor_party
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.5
		}
		MEX_alvaro_obregon = {
			if = {
				limit = {
					has_ideology = authoritarian_democracy
				}
				promote_character = authoritarian_democracy
				else = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = authoritarian_democracy
						}
					}
				}		
			}
			if = {
				limit = {
					has_ideology = socialism
				}
				promote_character = socialism
				else = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = socialism
						}
					}
				}		
			}
		}
	}
}

# BORDER WAR WON
#################
country_event = {
	id = ww1_mexico.7
	title = ww1_mexico.7.t
	desc = ww1_mexico.7.d
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	option = {
		name = ww1_mexico.7.a
		trigger = {
			tag = MEX
		}
		MEX = {
			clr_country_flag = mexican_border_conflict_activate
			add_stability = 0.05
			add_doctrine_cost_reduction = {
				name = MEX_border_conflict_won
				category = land_doctrine
				cost_reduction = 0.25
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_mexico.7.b
		trigger = {
			tag = USA
		}
		USA = {
			add_war_support = -0.04
			add_stability = -0.02
		}
		ai_chance = {
			factor = 100
		}
	}
}

# BORDER WAR LOST
#################
country_event = {
	id = ww1_mexico.8
	title = ww1_mexico.8.t
	desc = ww1_mexico.8.d
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	option = {
		name = ww1_mexico.8.a
		trigger = {
			tag = MEX
		}
		MEX = {
			add_war_support = -0.04
			add_stability = -0.02
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_mexico.8.b
		trigger = {
			tag = USA
		}
		USA = {
			add_war_support = 0.05
			add_doctrine_cost_reduction = {
				name = MEX_border_conflict_won
				category = land_doctrine
				cost_reduction = 0.25
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

# BORDER WAR CANCELLED
#################
country_event = {
	id = ww1_mexico.9
	title = ww1_mexico.9.t
	desc = ww1_mexico.9.d
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	option = {
		name = ww1_mexico.9.a
		trigger = {
			tag = MEX
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_mexico.9.b
		trigger = {
			tag = USA
		}
		ai_chance = {
			factor = 100
		}
	}
}
# THE ELECTION OF 1910
######################
country_event = {
	id = ww1_mexico.11
	title = ww1_mexico.11.t
	desc = ww1_mexico.11.d
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = MEX_1910_election
			if = {
				limit = {
					focus_progress = {
						focus = MXM_support_madero
						progress > 0
					}
					NOT = { has_completed_focus = MXM_support_madero }
				}
				complete_national_focus = MXM_support_madero
				add_political_power = -35
			}
			if = {
				limit = {
					focus_progress = {
						focus = MEX_appoint_porfirio_diaz_as_president
						progress > 0
					}
					NOT = { has_completed_focus = MEX_appoint_porfirio_diaz_as_president }
				}
				complete_national_focus = MEX_appoint_porfirio_diaz_as_president
				add_political_power = -35
			}
			if = {
				limit = {
					has_completed_focus = MXM_support_madero
				}
				activate_mission = MXM_revolution_1910_mission
				hidden_effect = {
					activate_mission = MXM_revolution_1910_mission
				}
			}
			if = {
				limit = {
					has_completed_focus = MEX_appoint_porfirio_diaz_as_president
				}
				activate_mission = MEX_revolution_1910_mission
				hidden_effect = {
					activate_mission = MEX_revolution_1910_mission
				}
			}
		}
	}

	#Support Madero
	option = {
		name = ww1_mexico.11.a
		trigger = {
			NOT = {
				has_completed_focus = MEX_appoint_porfirio_diaz_as_president
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = MXM_support_madero
				}
			}
			complete_national_focus = MXM_support_madero
			add_political_power = -35
			hidden_effect = {
				unlock_decision_category_tooltip = MEX_revolution_category
				activate_mission = MEX_imprison_the_maderistas_mission
				activate_mission = MEX_centennial_independence_celebrations_mission
				activate_mission = MXM_revolution_1910_mission
				activate_decision = MXM_secure_the_revolution_preparations
				activate_decision = MXM_spread_the_message
				activate_decision = MXM_strengthen_the_uprising
				add_ideas = MEX_idea_political_violence
				add_ideas = MEX_idea_caudillo_loyalty
			}
		}
		ai_chance = {
			base = 50
		}
	}
	#Support Porfirio
	option = {
		name = ww1_mexico.11.b
		trigger = {
			NOT = {
				has_completed_focus = MXM_support_madero
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_completed_focus = MEX_appoint_porfirio_diaz_as_president
				}
			}
			complete_national_focus = MEX_appoint_porfirio_diaz_as_president
			add_political_power = -35
			hidden_effect = {
				unlock_decision_category_tooltip = MEX_revolution_category
				activate_mission = MXM_spread_the_plan_of_san_luis_mission
				activate_mission = MEX_centennial_independence_celebrations_mission
				activate_mission = MEX_revolution_1910_mission
				activate_decision = MEX_crack_down_on_revolutionaries
				activate_decision = MEX_condemn_the_rebellion
				activate_decision = MEX_secure_the_industry
				add_ideas = MEX_idea_political_violence
				add_ideas = MEX_idea_caudillo_loyalty
			}
		}
		ai_chance = {
			base = 100
		}
	}
}
#Celebration of the Centenario de la Independencia (Centennial of Independence)kekw
################################################################################
country_event = {
	id = ww1_mexico.12
	title = ww1_mexico.12.t
	desc = ww1_mexico.12.d
	picture = GFX_report_event_mex_centenario
	is_triggered_only = yes
	option ={
		name = ww1_mexico.12.a
		trigger = { tag = MEX }
		ai_chance = { factor = 100 }
		add_stability = 0.1
		set_country_flag = MEX_centenario
	}
}
#Baja Californian Rebellion
###########################
country_event = {
	id = ww1_mexico.13
	title = ww1_mexico.13.t
	desc = ww1_mexico.13.d
	picture = GFX_report_event_mex_baja_rebellion
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			MEX_ricardo_flores_magon = {
				set_nationality = BJC
			}
			BJC = { 
				promote_character = MEX_ricardo_flores_magon
				transfer_state = 484
				add_state_core = 484
				set_capital = { state = 484 }
				division_template = {
					name = "Milicia Anarquista"
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
					}
				}
				484 = {
					create_unit = {
						division = "division_template = \"Milicia Anarquista\" start_experience_factor = 0.2" 
						owner = BJC
						count = 4
					}
				}
				inherit_technology = MEX
			}
			set_province_controller = 7964
			set_province_controller = 1904
			set_province_controller = 8119
			set_province_controller = 12736
			484 = {
				create_unit = {
					division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
					owner = MEX
					count = 1
				}
			}
			declare_war_on = {
				target = BJC
				type = civil_war
			}	
			add_civil_war_target = BJC
		}
	}
	option ={
		name = ww1_mexico.13.a
		custom_effect_tooltip = "Death to Anarchism"
		add_stability = -0.1
	}
	
	option = {
		name = ww1_mexico.13.b
		trigger = {  is_ai = no }
		custom_effect_tooltip = "Viva La Rebelión"
		add_stability = -0.1
		BJC = {
		    change_tag_from = ROOT
		}
	}
}

#French Aid
########################
country_event = {
	id = ww1_mexico.15
	title = ww1_mexico.15.t
	desc = ww1_mexico.15.d
	fire_only_once = yes
	is_triggered_only = yes
	
	picture = GFX_report_event_generic_army

	option = {
		name = ww1_mexico.15.a
		
		trigger = {
			NOT = {
				has_war_with = MEX
			}
		}
		
		effect_tooltip = {
			add_opinion_modifier = {
				target = MEX
				modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
			}
			
			MEX = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
				}
			}
		
			
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_0
					}
					cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
			}
		}
		
		
		hidden_effect = {
			MEX = {
				country_event = {
					days = 1
					id = ww1_mexico.16
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 200
					producer = FRA
				}
			}
			set_global_flag = FRA_MEX_deal_accepted
		}
			
		ai_chance = {
			factor = 90
			
			modifier = {
				factor = 2.0
				has_government = FROM
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction = no
				}
			}
		}
	
	}
	option = {
		name = ww1_mexico.15.b
		
		MEX = {
			country_event = {
				days = 1
				id = ww1_mexico.17
			}
		}
		
		ai_chance = {
			factor = 10
			
			modifier = {
				factor = 0
				FROM = {
					is_in_faction_with = ROOT
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_enemy_ideology = yes
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = USA
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = ENG
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = GER
				}
			}
		}
	}
}

#Mexico is informed that france accepted
########################################
country_event = {
	id = ww1_mexico.16
	title = ww1_mexico.16.t
	desc = ww1_mexico.16.d
	
	picture = GFX_report_event_generic_army	
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.16.a
		
		add_opinion_modifier = {
			target = FRA
			modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
		}
	
		FRA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = HOI4TGW_Opinion_FRA_aid_in_mexico
			}
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
					type = infantry_equipment_0
				}
				cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 200
					producer = FRA
				}
			}
		}
		set_global_flag = FRA_MEX_deal_accepted
	}
}

#Mexico is informed that france rejected
########################################
country_event = {
	id = ww1_mexico.17
	title = ww1_mexico.17.t
	desc = ww1_mexico.17.d
	
	picture = GFX_report_event_generic_army	
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.17.a
		set_country_flag = MEX_france_rejected
		hidden_effect = {
			load_focus_tree = mexican_focus
			load_focus_tree = {
				tree = mexican_focus
				keep_completed = no
			}
			unlock_national_focus = MEX_the_election_of_1910
			unlock_national_focus = MEX_appoint_porfirio_diaz_as_president
			unlock_national_focus = MEX_imprison_the_maderistas
			unlock_national_focus = MEX_expand_the_federal_army
			unlock_national_focus = MEX_declare_martial_law
			unlock_national_focus = MEX_buy_foreign_equipment
			if = {
				limit = {
					has_country_flag = MEX_caudillos_dealed
				}
				unlock_national_focus = MEX_deal_with_the_caudillos
			}
			if = {
				limit = {
					has_country_flag = MEX_caudillo_wealth_seized
				}
				unlock_national_focus = MEX_seize_their_wealth
			}
			if = {
				limit = {
					has_country_flag = MEX_crushed_caudillos
				}
				unlock_national_focus = MEX_crush_them_down
			}
			if = {
				limit = {
					has_country_flag = MEX_caudillo_armies
				}
				unlock_national_focus = MEX_caudillos_personal_armies
			}
			if = {
				limit = {
					has_country_flag = MEX_caudillo_aligned
				}
				unlock_national_focus = MEX_appoint_huerta_as_commander_of_the_mexican_army
			}
			if = {
				limit = {
					has_country_flag = MEX_porfirio_strengthen
				}
				unlock_national_focus = MEX_strengthen_porfirian_control
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
}

#German Aid
########################
country_event = {
	id = ww1_mexico.18
	title = ww1_mexico.18.t
	desc = ww1_mexico.18.d
	fire_only_once = yes
	is_triggered_only = yes
	
	picture = GFX_report_event_german_troops

	option = {
		name = ww1_mexico.18.a
		
		trigger = {
			NOT = {
				has_war_with = MEX
			}
		}
		
		effect_tooltip = {
			add_opinion_modifier = {
				target = MEX
				modifier = HOI4TGW_Opinion_GER_aid_in_mexico
			}
			
			MEX = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_GER_aid_in_mexico
				}
			}
		
			
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_0
					}
					cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
			}
		}
		
		
		hidden_effect = {
			MEX = {
				country_event = {
					days = 1
					id = ww1_mexico.19
				}
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 200
				producer = GER
			}
			set_global_flag = GER_MEX_deal_accepted
		}
			
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 2.0
				has_government = FROM
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction = no
				}
			}
		}
	
	}
	option = {
		name = ww1_mexico.18.b
		
		MEX = {
			country_event = {
				days = 1
				id = ww1_mexico.20
			}
		}
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				FROM = {
					is_in_faction_with = ROOT
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_enemy_ideology = yes
				}
			}

			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = USA
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = ENG
				}
			}
			
			modifier = {
				factor = 2.0
				FROM = {
					is_in_faction_with = FRA
				}
			}
		}
	}
}

#Mexico is informed that germany accepted
########################################
country_event = {
	id = ww1_mexico.19
	title = mexico.19.t
	desc = ww1_mexico.19.d
	
	picture = GFX_report_event_german_troops
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.19.a
		
		add_opinion_modifier = {
			target = GER
			modifier = HOI4TGW_Opinion_GER_aid_in_mexico
		}
	
		GER = {
			add_opinion_modifier = {
				target = ROOT
				modifier = HOI4TGW_Opinion_GER_aid_in_mexico
			}
			if = {
				limit = {
					has_tech = improved_infantry_weapons
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_2
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons }
				}
				create_production_license = {
					target = MEX
					equipment = {
						type = infantry_equipment_1
					}
					cost_factor = 0
				}
			}
			if = {
				limit = {
					has_tech = infantry_weapons
					NOT = { has_tech = infantry_weapons1 }
				}
				create_production_license = {
					target = MEX
					equipment = {
					type = infantry_equipment_0
				}
				cost_factor = 0
				}
			}
			MEX = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1.0
					uses = 1
					category = infantry_weapons
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 200
					producer = GER
				}
			}
		}
		set_global_flag = GER_MEX_deal_accepted
	}
}

#Mexico is informed that germany rejected
########################################
country_event = {
	id = ww1_mexico.20
	title = ww1_mexico.20.t
	desc = ww1_mexico.20.d
	
	picture = GFX_report_event_german_troops
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_mexico.20.a
		set_country_flag = MEX_germany_rejected
		hidden_effect = {
			load_focus_tree = mexican_focus
			load_focus_tree = {
				tree = mexican_focus
				keep_completed = no
			}
			unlock_national_focus = MEX_the_election_of_1910
			unlock_national_focus = MEX_appoint_porfirio_diaz_as_president
			unlock_national_focus = MEX_imprison_the_maderistas
			unlock_national_focus = MEX_expand_the_federal_army
			unlock_national_focus = MEX_declare_martial_law
			unlock_national_focus = MEX_buy_foreign_equipment
			if = {
				limit = {
					has_country_flag = MEX_caudillos_dealed
				}
				unlock_national_focus = MEX_deal_with_the_caudillos
			}
			if = {
				limit = {
					has_country_flag = MEX_caudillo_wealth_seized
				}
				unlock_national_focus = MEX_seize_their_wealth
			}
			if = {
				limit = {
					has_country_flag = MEX_crushed_caudillos
				}
				unlock_national_focus = MEX_crush_them_down
			}
			if = {
				limit = {
					has_country_flag = MEX_caudillo_armies
				}
				unlock_national_focus = MEX_caudillos_personal_armies
			}
			if = {
				limit = {
					has_country_flag = MEX_caudillo_aligned
				}
				unlock_national_focus = MEX_appoint_huerta_as_commander_of_the_mexican_army
			}
			if = {
				limit = {
					has_country_flag = MEX_porfirio_strengthen
				}
				unlock_national_focus = MEX_strengthen_porfirian_control
			}
			mark_focus_tree_layout_dirty = yes
		}
	}
}

#Treaty of Ciudad Juarez
########################
country_event = {
	id = ww1_mexico.21
	title = ww1_mexico.21.t
	desc = ww1_mexico.21.d
	picture = GFX_report_event_mex_treaty_of_ciudad_juarez
	fire_only_once = yes
	is_triggered_only = yes
	
	#Diaz Accepts
	option = {
		name = ww1_mexico.21.a
		ai_chance = {
			factor = 100
		}
		MXM = { country_event = { id = ww1_mexico.22 days = 1 random_days = 6 } }
	}
	
	#Díaz Refuses
	option = {
		name = ww1_mexico.21.b
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = "We will keep fighting Madero"
		MXM = { country_event = { id = ww1_mexico.23 days = 1 random_days = 6 } }
	}
	
}

#Treaty of Ciudad Juarez - Díaz Accepts
country_event = {
	id = ww1_mexico.22
	title = ww1_mexico.22.t
	desc = ww1_mexico.22.d
	picture = GFX_report_event_mex_treaty_of_ciudad_juarez
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = ww1_mexico.22.a
		ai_chance = {
			factor =100
		}
		custom_effect_tooltip = "The Conflict will end,  but it may cause rage between the revolutionaries"
		MEX = {
			retire_character = MEX_porfirio_diaz
			retire_character = MEX_ramon_corral
			every_character = {
				set_nationality = MXM
			}
		}
		MXM = {
			hidden_effect = {
				set_cosmetic_tag = MXM_transitional
			}
			if = {
				limit = {
					MEX = {
						has_war_with = BJC
					}
				}
				declare_war_on = {
					target = BJC
					type = civil_war
				}
				add_civil_war_target = BJC
			}		
			annex_country = { target = MEX transfer_troops = yes }
			if = {
				limit = {
					ZAP = {
						any_controlled_state = {
							is_core_of = MXM
							NOT = {
								is_core_of = ZAP
							}
						}
					}
				}
				every_state = {
					limit = {
						is_owned_by = ZAP
						is_core_of = MXM
						NOT = {
							is_core_of = ZAP
						}
					}
					MXM = {
						transfer_state = PREV
						hidden_effect = {
							set_state_controller = PREV
						}
					}
				}
			}
			add_political_power = 75
			set_global_flag = diaz_removed_peacefully
			add_war_support = -0.1
			add_stability = -0.05
			MEX_francisco_leon_de_la_barra = {
				promote_character = oligarchism
			}
			set_politics = {
				ruling_party = neutrality
				long_name = MEX_interim_presidency_party
				name = MEX_interim_presidency_party 
				last_election = "1907.10.20"
				elections_allowed = yes
				election_frequency = 48
			}
			set_popularities = {
				democratic = 60
				neutrality = 20
				communism = 20
			}
			hidden_effect = {
				set_party_name = {
					ideology = fascism
					long_name = MEX_fascism_party_long
					name = MEX_fascism_party 
				}	
			}
		}
	}
}

#Treaty of Ciudad Juarez - Díaz Refuses
country_event = {
	id = ww1_mexico.23
	title = ww1_mexico.23.t
	desc = ww1_mexico.23.d
	picture = GFX_report_event_mex_treaty_of_ciudad_juarez
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = ww1_mexico.23.a
		ai_chance = {
			factor =100
		}
		custom_effect_tooltip = "The Conflict will continue, but the revolution will be ultimate and the removal of Porfirio and his system will be complete in a victory"
		add_war_support = 0.2
	}
}

#Zapata's Revolt
################
country_event = {
	id = ww1_mexico.24
	title = ww1_mexico.24.t
	desc = ww1_mexico.24.d
	picture = GFX_report_event_mex_zapatista_rebellion
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			MEX_emiliano_zapata = {
				set_nationality = ZAP
			}
			ZAP = {
				promote_character = MEX_emiliano_zapata
				load_focus_tree = zapata_focus
				random_state = {
					limit = {
						is_owned_by = MEX
					}
					prioritize = { 844 }
					add_core_of = ZAP	
					transfer_state_to = ZAP
					PREV = {
						set_capital = { state = PREV }
					}	
				}			
				division_template = {
					name = "Milicia Zapatista"
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
					}
				}
				random_owned_state = {
					create_unit = {
						division = "division_template = \"Milicia Zapatista\" start_experience_factor = 0.5" 
						owner = ZAP
						count = 2
					}
				}
				inherit_technology = MEX
			}
			277 = {
				create_unit = {
					division = "division_template = \"Guarnición Estatal\" start_experience_factor = 0.2" 
					owner = MEX
					count = 1
				}
			}
			declare_war_on = {
				target = ZAP
				type = civil_war
			}
			add_civil_war_target = ZAP
		}
	}
	option ={
		name = ww1_mexico.24.a
		custom_effect_tooltip = "Death to Socialism"
		add_stability = -0.1
	}
	
	option = {
		name = ww1_mexico.24.b
		trigger = { is_ai = no }
		custom_effect_tooltip = "Tierra y Libertad!"
		add_stability = -0.1
		ZAP = {
			change_tag_from = ROOT
		}
	}
}

#Deal with the Caudillos
########################
country_event = {
	id = ww1_mexico.25
	title = ww1_mexico.25.t
	desc = ww1_mexico.25.d
	picture = GFX_report_event_mex_caudillo_1
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = ww1_mexico.25.a
		add_stability = -0.1
		swap_ideas = {
			remove_idea = MEX_idea_caudillo_loyalty
			add_idea = MEX_idea_caudillo_challenged
		}
		set_country_flag = MEX_caudillo_challenged
	}
	
	option = {
		name = ww1_mexico.25.b
		add_stability = 0.05
		swap_ideas = {
			remove_idea = MEX_idea_caudillo_loyalty
			add_idea = MEX_idea_favored_caudillos
		}
		set_country_flag = MEX_caudillo_favored
	}
}

#Recall the Military
####################
country_event = {
	id = ww1_mexico.26
	title = ww1_mexico.26.t
	desc = ww1_mexico.26.d
	picture = GFX_report_event_mex_recall
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = ww1_mexico.26.a
		custom_effect_tooltip = available_chief_of_army
		show_ideas_tooltip = MEX_bernardo_reyes
		show_unit_leaders_tooltip = MEX_bernardo_reyes
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		add_stability = -0.05
		add_war_support = 0.1
	}
}

#The Interim Government
#######################
country_event = {
	id = ww1_mexico.27
	title = ww1_mexico.27.t
	desc = ww1_mexico.27.d
	picture = GFX_report_event_mex_interinato
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = ww1_mexico.27.a
		set_country_flag = MXM_reactionaries
		add_stability = 0.1
	}
	
	option = {
		name = ww1_mexico.27.b
		set_country_flag = MXM_revolutionaries
		add_stability = 0.1
	}
	
}

#Election Set
#############
country_event = {
	id = ww1_mexico.28
	title = ww1_mexico.28.t
	desc = ww1_mexico.28.d
	picture = GFX_report_event_mex_interinato
	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = ww1_mexico.28.a
		set_country_flag = MXM_stage_set
		add_stability = 0.1
		set_party_name = { 
			ideology = democratic
			name = MEX_progressive_constitutionalist_party
			long_name = MEX_progressive_constitutionalist_party_longs
		}
	}
	
}