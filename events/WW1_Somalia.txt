add_namespace = ww1_somalia

# Death of Mohammed Abdullah Hassan
country_event = {
	id = ww1_somalia.1
	title = ww1_somalia.1.t
	desc = ww1_somalia.1.d
	picture = GFX_report_event_india_protests
	fire_only_once = yes
	mean_time_to_happen = {
		days = 21
	}
	trigger = {
		tag = SOM
		has_country_leader = {
			character = SOM_mohammed_abdullah_hassan
			ruling_only = no
		}
		date > 1920.12.1
	}
	option = {
		name = ww1_somalia.1.a
		retire_character = SOM_mohammed_abdullah_hassan
	}
}

# Somalia
country_event = {
	id = ww1_somalia.2
	title = ww1_somalia.2.t
	desc = ww1_somalia.2.d
	picture = GFX_report_event_generic_conference
	fire_only_once = yes
	mean_time_to_happen = {
		days = 60
	}
	trigger = {
		tag = SOM
		NOT = {
			has_character = SOM_mohammed_abdullah_hassan
		}
		has_country_flag = great_war_winner
		is_subject = no
		has_war = no
	}
	option = {
		name = ww1_somalia.2.a
		every_other_country = {
			limit = {
				is_neighbor_of = ROOT
				OR = {
					original_tag = GLD
					original_tag = HBY
					original_tag = MJT
				}
			}
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		add_stability = 0.10
		add_political_power = 150
		set_cosmetic_tag = SOM_somalia
		if = {
			limit = {
				has_country_leader = {
					character = SOM_maxamuud_cali_shiire
					ruling_only = yes
				}
			}
			SOM_maxamuud_cali_shiire = {
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = autocracy
					}
				}
				add_unit_leader_trait = trait_royal
			}
		}
	}
}
country_event = {
	id = ww1_somalia.3
	title = ww1_somalia.3.t
	desc = ww1_somalia.3.d
	picture = GFX_report_event_india_protests
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			HBY = {
				retire_character = HBY_yuusuf_cali_keenadiid
			}
		}
	}
	trigger = {
		tag = ITA
		HBY = {
			has_country_leader = {
				character = HBY_yuusuf_cali_keenadiid
				ruling_only = no
			}
		}
		date > 1911.8.1
	}
	option = {
		name = ww1_somalia.3.a
		ai_chance = {
			factor = 100
			is_historical_focus_on = yes
		}
	}
	option = {
		name = ww1_somalia.3.b
		HBY = {
			remove_ideas = ITA_exiled_sultan
		}
	}
	option = {
		name = ww1_somalia.3.c
		MJT = {
			annex_country = {
				target = HBY
			}
		}
	}
}
country_event = {
	id = ww1_somalia.4
	title = ww1_somalia.4.t
	desc = ww1_somalia.4.d
	picture = GFX_report_event_usa_destroyers
	is_triggered_only = yes
	option = {
		name = ww1_somalia.4.a
		ITA = {
			annex_country = {
				target = GLD
				transfer_troops = no
			}
		}
		ai_chance = {
			factor = 100
			is_historical_focus_on = yes
		}
	}
	option = {
		name = ww1_somalia.4.b
		hidden_effect = {
			ITA = {
				end_puppet = ROOT
			}
		}
		ITA = {
			declare_war_on = {
				target = GLD
				type = annex_everything
			}
		}
	}
}

