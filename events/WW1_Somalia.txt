add_namespace = ww1_somalia

# Death of Mohammed Abdullah Hassan
country_event = {
	id = ww1_somalia.1
	title = ww1_somalia.1.t
	desc = ww1_somalia.1.d
	picture = GFX_report_event_india_protests
	fire_only_once = yes
	mean_time_to_happen = {
		days = 21
	}
	trigger = {
		tag = SOM
		has_country_leader = {
			character = SOM_mohammed_abdullah_hassan
			ruling_only = no
		}
		date > 1920.12.1
	}
	option = {
		name = ww1_somalia.1.a
		retire_character = SOM_mohammed_abdullah_hassan
	}
}

# Somalia
country_event = {
	id = ww1_somalia.2
	title = ww1_somalia.2.t
	desc = ww1_somalia.2.d
	picture = GFX_report_event_generic_conference
	fire_only_once = yes
	mean_time_to_happen = {
		days = 60
	}
	trigger = {
		tag = SOM
		NOT = {
			has_character = SOM_mohammed_abdullah_hassan
		}
		OR = {
			has_country_flag = great_war_winner
			AND = {
				NOT = {
					has_country_flag = great_war_loser
				}
				owns_state = 269
				owns_state = 657
				owns_state = 559
				owns_state = 880
				owns_state = 888
				owns_state = 889
			}
		}
		is_subject = no
		has_war = no
	}
	option = {
		name = ww1_somalia.2.a
		every_other_country = {
			limit = {
				is_neighbor_of = ROOT
				OR = {
					original_tag = GLD
					original_tag = HBY
					original_tag = MJT
				}
			}
			ROOT = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		add_stability = 0.10
		add_political_power = 150
		set_cosmetic_tag = SOM_somalia
		if = {
			limit = {
				has_country_leader = {
					character = SOM_maxamuud_cali_shiire
					ruling_only = yes
				}
			}
			SOM_maxamuud_cali_shiire = {
				add_country_leader_role = {
					promote_leader = yes
					country_leader = {
						ideology = absolute_monarchy
					}
				}
				add_unit_leader_trait = trait_royal
			}
		}
	}
}

# Italian decision on the Hobyo Sulanate
country_event = {
	id = ww1_somalia.3
	title = ww1_somalia.3.t
	desc = ww1_somalia.3.d
	picture = GFX_report_event_india_protests
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			set_global_flag = yuusuf_cali_keenadiid_death
			HBY = {
				retire_character = HBY_yuusuf_cali_keenadiid
			}
		}
	}
	trigger = {
		tag = ITA
		is_subject = no
		has_capitulated = no
		NOT = {
			has_country_flag = great_war_loser
			has_global_flag = yuusuf_cali_keenadiid_death
		}
		HBY = {
			is_subject_of = ROOT
			has_country_leader = {
				character = HBY_yuusuf_cali_keenadiid
				ruling_only = no
			}
		}
		date > 1911.8.1
	}
	option = {
		name = ww1_somalia.3.a
		ai_chance = {
			factor = 50
		}
	}
	option = {
		name = ww1_somalia.3.b
		HBY = {
			remove_ideas = ITA_exiled_sultan
		}
		ai_chance = {
			base = 10
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
	option = {
		name = ww1_somalia.3.c
		MJT = {
			annex_country = {
				target = HBY
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				has_subject = MJT
				add = 10
			}
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}

# Italy integrates the Sultanate of Geledi
country_event = {
	id = ww1_somalia.4
	title = ww1_somalia.4.t
	desc = ww1_somalia.4.d
	picture = GFX_report_event_usa_destroyers
	is_triggered_only = yes
	option = {
		name = ww1_somalia.4.a
		FROM = {
			annex_country = {
				target = GLD
			}
		}
		ai_chance = {
			factor = 50
		}
	}
	option = {
		name = ww1_somalia.4.b
		hidden_effect = {
			FROM = { end_puppet = ROOT }
		}
		FROM = {
			declare_war_on = {
				target = GLD
				type = annex_everything
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}

