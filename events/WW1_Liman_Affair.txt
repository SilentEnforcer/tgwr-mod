###########################
# Liman Affair, Event Chain
###########################
add_namespace = ww1_liman_affair

#Turkey asks German to send advisors
country_event = {
	id = ww1_liman_affair.1
	title = ww1_liman_affair.1.t
	desc = ww1_liman_affair.1.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Accept
		name = ww1_liman_affair.1.a
		add_war_support = 0.5
		TUR = {
			country_event = {
				id = ww1_liman_affair.3
				days = 2
			}
		}
		ai_chance = {
			base = 0.75
		}
	}
	option = { #Decline
		name = ww1_liman_affair.1.b
		add_stability = 0.5
		add_war_support = -1.0
		TUR = {
			country_event = {
				id = ww1_liman_affair.2 #Turkey is informed on Germany's refusal
				days = 2
			}
		}
		ai_chance = {
			base = 0.25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				NOT = {
					is_historical_focus_on = yes
				}
				GER = {
					has_opinion = {
						target = TUR
						value > 0
					}
				}
				factor = 1.5
			}
		}
	}
}
#Turkey is informed of Germany's refusal
country_event = {
	id = ww1_liman_affair.2
	title = ww1_liman_affair.2.t
	desc = ww1_liman_affair.2.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_liman_affair.2.a
		add_political_power = -20
		add_war_support = -0.05
		#Possible ending of the Liman Affair
	}
}
#Turkey is informed, and get effects, of Germany's acceptence
country_event = {
	id = ww1_liman_affair.3
	title = ww1_liman_affair.3.t
	desc = ww1_liman_affair.3.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_liman_affair.3.a
		add_ideas = TUR_german_military_command
		GER = {
			if = {
				limit = {
					has_character = GER_colmar_von_der_goltz
				}
				GER_colmar_von_der_goltz = {
					set_character_name = "TUR_colmar_von_der_goltz"
					set_nationality = TUR
					set_character_flag = unit_leader_can_die_from_sickness
				}
			}
			if = {
				limit = {
					has_character = GER_otto_liman_von_sanders
				}
				GER_otto_liman_von_sanders = {
					set_nationality = TUR
					set_portraits = {
						army = {
							large = "gfx/leaders/TUR/TUR_liman_von_sanders.png"
							small = "gfx/interface/ideas/TUR/idea_TUR_liman_von_sanders.png"
						}
					}
				}
			}
			if = {
				limit = {
					has_character = GER_fritz_bronsart_von_schellendorf
				}
				GER_fritz_bronsart_von_schellendorf = {
					set_nationality = TUR
				}
			}
			if = {
				limit = {
					has_character = GER_kress_von_kressenstein
				}
				GER_kress_von_kressenstein = {
					set_nationality = TUR
				}
			}
			if = {
				limit = {
					has_character = GER_wilhelm_souchon
				}
				GER_wilhelm_souchon = {
					set_nationality = TUR
				}
			}
			if = {
				limit = {
					has_character = GER_guido_von_usedom
				}
				GER_guido_von_usedom = {
					set_nationality = TUR
				}
			}
		}
		hidden_effect = {
			IF = {
				limit = {
					RUS = {
						is_in_faction_with = GER
					}
				}
				FRA = {
					country_event = {
						id = ww1_liman_affair.4 #France is informed about the military mission
						days = 3
					}
				}
			}
			else_if = {
				limit = {
					NOT = {
						RUS = {
							is_in_faction_with = GER
						}
					}
				}
				RUS = {
					country_event = {
						id = ww1_liman_affair.5 #Russia is informed about the military mission
						days = 3
					}
				}
			}
		}
	}
}
#France is informed about the military mission
country_event = {
	id = ww1_liman_affair.4
	title = ww1_liman_affair.4.t
	desc = ww1_liman_affair.4.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Object to the mission
		name = ww1_liman_affair.4.a
		add_political_power = -20
		add_war_support = 0.05
		if = {
			limit = {
				NOT = {
					ENG = {
						has_completed_focus = ENG_Pax_Britannica
					}
				}
			}
			ENG = {
				country_event = {
					id = ww1_liman_affair.6 #England asked for support by France
					days = 2
				}
			}
		}
		news_event = {
			id = ww1_liman_affair.9 #Crisis in the Ottoman Empire news event
			days = 1
		}
		set_variable = {
			var = liman_affair_french_variable
			value = 2
		}
		set_variable = {
			var = liman_affair_german_variable
			value = 4
		}
		set_variable = {
			var = liman_affair_russian_variable
			value = 3
		}
		set_variable = {
			var = liman_affair_ottoman_variable
			value = 3
		}
		IF = {
			limit = {
				ENG = {
					is_in_faction_with = GER
				}
			}
			set_variable = {
				var = liman_affair_english_variable
				value = 3
			}
		}
		else = {
			set_variable = {
				var = liman_affair_english_variable
				value = 0
			}
		}
		set_global_flag = liman_affair_FRA_leads
		ai_chance = {
			base = 0.75
		}
	}
	option = { #Stay out of it
		name = ww1_liman_affair.4.b
		add_stability = 0.025
		add_war_support = -0.05
		#Possible ending of the Liman Affair
		ai_chance = {
			base = 0.25
		}
	}
}
#Russia is informed about the military mission
country_event = {
	id = ww1_liman_affair.5
	title = ww1_liman_affair.5.t
	desc = ww1_liman_affair.5.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Object to the mission
		name = ww1_liman_affair.5.a
		add_political_power = -20
		add_war_support = 0.05
		if = {
			limit = {
				NOT = {
					FRA = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				country_event = {
					id = ww1_liman_affair.7 #France asked for support by Russia
					days = 2
				}
			}
		}
		if = {
			limit = {
				NOT = {
					ENG = {
						has_completed_focus = ENG_Pax_Britannica
					}
				}
			}
			ENG = {
				country_event = {
					id = ww1_liman_affair.8 #England asked for support by Russia
					days = 2
				}
			}
		}
		news_event = {
			id = ww1_liman_affair.9 #Crisis in the Ottoman Empire news event
			days = 1
		}
		set_variable = {
			var = liman_affair_russian_variable
			value = 2
		}
		set_variable = {
			var = liman_affair_english_variable
			value = 0
		}
		set_variable = {
			var = liman_affair_french_variable
			value = 0
		}
		set_variable = {
			var = liman_affair_german_variable
			value = 4
		}
		set_variable = {
			var = liman_affair_ottoman_variable
			value = 3
		}
		set_global_flag = liman_affair_RUS_leads
		ai_chance = {
			base = 0.9
		}
	}
	option = { #Stay out of it
		name = ww1_liman_affair.5.b
		add_stability = 0.025
		add_war_support = -0.05
		#Possible ending of the Liman Affair
		ai_chance = {
			base = 0.1
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}
#England asked for support by France
country_event = {
	id = ww1_liman_affair.6
	title = ww1_liman_affair.6.t
	desc = ww1_liman_affair.6.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Support
		name = ww1_liman_affair.6.a
		add_political_power = -10
		add_war_support = 0.5
		set_variable = {
			var = liman_affair_english_variable
			value = 1
		}
		set_global_flag = liman_affair_ENG_supports
		ai_chance = {
			base = 0.55
			modifier = {
				ENG = {
					has_opinion = {
						target = GER
						value < 26
					}
				}
				factor = 1.5
			}
		}
	}
	option = { #Do nothing
		name = ww1_liman_affair.6.b
		add_war_support = -0.25
		ai_chance = {
			base = 0.45
			modifier = {
				ENG = {
					has_opinion = {
						target = GER
						value > 25
					}
				}
				factor = 1.5
			}
		}
	}
}
#France asked for support by Russia
country_event = {
	id = ww1_liman_affair.7
	title = ww1_liman_affair.7.t
	desc = ww1_liman_affair.7.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Support
		name = ww1_liman_affair.7.a
		add_political_power = -10
		add_war_support = 0.5
		set_global_flag = liman_affair_FRA_supports
		ai_chance = {
			base = 0.6
			modifier = {
				FRA = {
					is_in_faction_with = RUS
				}
				factor = 1.5
			}
		}
	}
	option = { #Do nothing
		name = ww1_liman_affair.7.b
		add_war_support = -0.25
		ai_chance = {
			base = 0.4
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}
#England asked for support by Russia
country_event = {
	id = ww1_liman_affair.8
	title = ww1_liman_affair.8.t
	desc = ww1_liman_affair.8.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Support
		name = ww1_liman_affair.8.a
		add_political_power = -20
		add_war_support = 0.25
		set_variable = {
			var = liman_affair_english_variable
			value = 1
		}
		set_global_flag = liman_affair_ENG_supports
		ai_chance = {
			base = 0.65
			modifier = {
				ENG = {
					is_in_faction_with = RUS
				}
				factor = 1.5
			}
		}
	}
	option = { #Do nothing
		name = ww1_liman_affair.10.b
		ai_chance = {
			base = 0.35
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}
#################################
# First Half of Liman Affair
#################################
#Crisis in the Ottoman Empire news event
news_event = {
	id = ww1_liman_affair.9
	title = ww1_liman_affair.9.t
	desc = ww1_liman_affair.9.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	is_major = yes
	option = {
		name = ww1_liman_affair.9.a
		IF = {
			limit = {
				OR = {
					tag = TUR
					tag = GER
					tag = RUS
					tag = FRA
					tag = ENG
				}
			}
			activate_mission = ww1_liman_affair_mission
		}
	}
}
#Germany gets Russian demands
country_event = {
	id = ww1_liman_affair.10
	title = ww1_liman_affair.10.t
	desc = ww1_liman_affair.10.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Offer negotiations
		name = ww1_liman_affair.10.a
	}
	option = { #Accept Demands
		name = ww1_liman_affair.10.b
		add_political_power = -50
		add_war_support = -0.15
		news_event = ww1_liman_affair.12 #Germany accepts Russian demands
	}
	option = { #Decline Demands
	name = ww1_liman_affair.10.c
	news_event = ww1_liman_affair.14
	RUS = {
		country_event = {
			id = ww1_liman_affair.16 #Germany refuses Russian demands
			days = 1
		}
	}
	}
}
#Germany gets French demands
country_event = {
	id = ww1_liman_affair.11
	title = ww1_liman_affair.11.t
	desc = ww1_liman_affair.11.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { #Offer negotiations
		name = ww1_liman_affair.11.a
	}
	option = { #Accept Demands
		name = ww1_liman_affair.11.b
		add_political_power = -50
		add_war_support = -0.15
		news_event = ww1_liman_affair.13 #Germany accepts French demands
	}
	option = { #Decline Demands
	name = ww1_liman_affair.11.c
	news_event = ww1_liman_affair.15
	FRA = {
		country_event = {
			id = ww1_liman_affair.17 #Germany refuses French demands
			days = 1
		}
	}
	}
}
#Germany accepts Russian demands
news_event = {
	id = ww1_liman_affair.12
	title = ww1_liman_affair.12.t
	desc = ww1_liman_affair.12.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = ww1_liman_affair.12.a
		IF = {
			limit = {
				tag = TUR
			}
			remove_ideas = TUR_german_military_command
				TUR = {
				if = {
					limit = {
						has_character = GER_colmar_von_der_goltz
					}
					GER_colmar_von_der_goltz = {
						set_character_name = "TUR_colmar_von_der_goltz"
						set_nationality = GER
						set_character_flag = unit_leader_can_die_from_sickness
					}
				}
				if = {
					limit = {
						has_character = GER_otto_liman_von_sanders
					}
					GER_otto_liman_von_sanders = {
						set_nationality = GER
						set_portraits = {
							army = {
								large = "gfx/leaders/GER/GER_liman_von_sanders.png"
								small = "gfx/interface/ideas/GER/idea_GER_liman_von_sanders.png"
							}
						}
					}
				}
				if = {
					limit = {
						has_character = GER_fritz_bronsart_von_schellendorf
					}
					GER_fritz_bronsart_von_schellendorf = {
						set_nationality = GER
					}
				}
				if = {
					limit = {
						has_character = GER_kress_von_kressenstein
					}
					GER_kress_von_kressenstein = {
						set_nationality = GER
					}
				}
				if = {
					limit = {
						has_character = GER_wilhelm_souchon
					}
					GER_wilhelm_souchon = {
						set_nationality = GER
					}
				}
				if = {
					limit = {
						has_character = GER_guido_von_usedom
					}
					GER_guido_von_usedom = {
						set_nationality = GER
					}
				}
			}
		}
		#Possible ending of the Liman Affair
	}
}
#Germany refuses Russian demands, news
news_event = {
	id = ww1_liman_affair.14
	title = ww1_liman_affair.14.t
	desc = ww1_liman_affair.14.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = ww1_liman_affair.14.a
	}
}
#Germany refuses Russian demands
news_event = {
	id = ww1_liman_affair.16
	title = ww1_liman_affair.16.t
	desc = ww1_liman_affair.16.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = ww1_liman_affair.16.a
		#Add War Goal
	}
}
#Germany accepts French demands
news_event = {
	id = ww1_liman_affair.13
	title = ww1_liman_affair.13.t
	desc = ww1_liman_affair.13.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = ww1_liman_affair.13.a
		IF = {
			limit = {
				tag = TUR
			}
			remove_ideas = TUR_german_military_command
				TUR = {
				if = {
					limit = {
						has_character = GER_colmar_von_der_goltz
					}
					GER_colmar_von_der_goltz = {
						set_character_name = "TUR_colmar_von_der_goltz"
						set_nationality = GER
						set_character_flag = unit_leader_can_die_from_sickness
					}
				}
				if = {
					limit = {
						has_character = GER_otto_liman_von_sanders
					}
					GER_otto_liman_von_sanders = {
						set_nationality = GER
						set_portraits = {
							army = {
								large = "gfx/leaders/GER/GER_liman_von_sanders.png"
								small = "gfx/interface/ideas/GER/idea_GER_liman_von_sanders.png"
							}
						}
					}
				}
				if = {
					limit = {
						has_character = GER_fritz_bronsart_von_schellendorf
					}
					GER_fritz_bronsart_von_schellendorf = {
						set_nationality = GER
					}
				}
				if = {
					limit = {
						has_character = GER_kress_von_kressenstein
					}
					GER_kress_von_kressenstein = {
						set_nationality = GER
					}
				}
				if = {
					limit = {
						has_character = GER_wilhelm_souchon
					}
					GER_wilhelm_souchon = {
						set_nationality = GER
					}
				}
				if = {
					limit = {
						has_character = GER_guido_von_usedom
					}
					GER_guido_von_usedom = {
						set_nationality = GER
					}
				}
			}
		}
		#Possible ending of the Liman Affair
	}
}
#Germany refuses French demands, news
news_event = {
	id = ww1_liman_affair.15
	title = ww1_liman_affair.15.t
	desc = ww1_liman_affair.15.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = ww1_liman_affair.15.a
	}
}
#Germany refuses French demands
news_event = {
	id = ww1_liman_affair.17
	title = ww1_liman_affair.17.t
	desc = ww1_liman_affair.17.d
	picture = GFX_report_event_generic_military_parade
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = ww1_liman_affair.17.a
		#Add War Goal
	}
}