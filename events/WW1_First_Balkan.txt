add_namespace = ww1_firstbalkan
###Warning for player basically
country_event = {
	id = ww1_firstbalkan.1
	title = ww1_firstbalkan.1.t
	desc = ww1_firstbalkan.1.d
	is_triggered_only = yes
	trigger = {
		is_in_faction_with = SER
	}
	option = {
		name = ww1_firstbalkan.1.a
		custom_effect_tooltip = balkan_war_start_tooltip
		add_timed_idea = {
			idea = war_of_liberation
			days = 140
		}
		add_ai_strategy = {
			type = invade
			id = TUR
			value = 200
		}
		add_war_support = 0.05
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = ww1_firstbalkan.1.b
		leave_faction = yes
		add_war_support = -0.15
		SER = {
			add_opinion_modifier = {
				target = PREV
				modifier = faction_traitor
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}
#balkan war news
news_event = {
	id = ww1_firstbalkan.2
	title = ww1_firstbalkan.2.t
	desc = ww1_firstbalkan.2.d
	is_triggered_only = yes
	major = yes
	option = {
		name = ww1_firstbalkan.2.a
	}
}
#Albanian declaration of independence
country_event = {
	id = ww1_firstbalkan.3
	title = ww1_firstbalkan.3.t
	desc = ww1_firstbalkan.3.d
	is_triggered_only = yes
	trigger = {
		NOT = {
			country_exists = ALB
		}
	}
	immediate = {
		hidden_effect = {
			871 = {
				transfer_state_to = ALB
			}
			44 = {
				transfer_state_to = ALB
			}
		}
	}
	option = {
		name = ww1_firstbalkan.3.a
		add_war_support = -0.05
		ai_chance = {
			base = 10
		}
	}
	option = {
		name = ww1_firstbalkan.3.b
		trigger = {
			OR = {
				controls_state = 803
			}
		}
		declare_war_on = {
			target = ALB
			type = annex_everything
		}
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}
#Armistice
country_event = {
	id = ww1_firstbalkan.4
	title = ww1_firstbalkan.4.t
	desc = ww1_firstbalkan.4.d
	is_triggered_only = yes
	trigger = {
		has_war_with = TUR
	}
	option = {
		name = ww1_firstbalkan.4.a
		ai_chance = {
			base = 100
		}
		set_global_flag = kis_firstbalkanwar_victory
		custom_effect_tooltip = bw1_end_tooltip
		every_country = {
			limit = {
				is_in_faction_with = BUL
			}
			white_peace = TUR
			# every_state = {
			# 	limit = {
			# 		is_controlled_by = PREV
			# 		is_owned_by = TUR
			# 	}
			# 	transfer_state_to = PREV
			# }
			activate_mission = london_conference
		}
		if = {
			limit =  {
				country_exists = ALB
			}
			SER = {
				transfer_state = 44		## good dog
				transfer_state = 871	## good dog
				transfer_state = 848	## good dog
				transfer_state = 803	## good dog
			}
			MNT = {
				transfer_state = 870	## good dog
			}
		}
	}
}
#london conference 
country_event = {
	id = ww1_firstbalkan.5
	title = ww1_firstbalkan.5.t
	desc = ww1_firstbalkan.5.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_global_flag = london_conference
			every_country = {
				limit = {
					has_country_flag = BW1_winner
				}
				##bonus for bulgaria
				if = {
					limit = {
						tag = BUL
					}
					transfer_state = 200
					transfer_state = 757
					transfer_state = 184
				}	
				##bonus for serbia
				if = {
					limit = {
						tag = SER
					}
					every_state = {
						limit = {
							is_core_of = ALB
						}
						transfer_state_to = PREV
					}
				}
				every_state = {
					limit = {
						is_owned_by = TUR
						OR = {
							is_core_of = PREV
							is_claimed_by = PREV
						}
						NOT = {
							is_core_of = MAC	## this one is special, based on claim only and not cores
						}
					}
					transfer_state_to = PREV
				}
				#################### This is for macedonia, based on claims
				every_state = {
					limit = {
						NOT = {
							has_global_flag = autonomous_macedonia
						}
						is_owned_by = TUR
						is_core_of = MAC
						is_claimed_by = PREV
					}
					transfer_state_to = PREV
				}
			}
		}
	}
	option = {
		name = ww1_firstbalkan.5.a
		ai_chance = {
			factor = 100
		}
	}
}

#TUR_is_winning_balkan_war
country_event = {
	id = ww1_firstbalkan.10
	title = ww1_firstbalkan.10.t
	desc = ww1_firstbalkan.10.d
	picture = GFX_report_event_turkish_war_of_independence
	trigger = {
		tag = ENG
		has_global_flag = TUR_is_winning_balkan_war
		NOT = {
			has_country_flag = ENG_reaction_to_balkan_situation
		}
		NOT = {
			is_in_array = {
				array = global.anti_ottoman_coalition
				value = ROOT 	
			}
		}
	}
	immediate = {
		set_country_flag = ENG_reaction_to_balkan_situation
	}
	fire_only_once = yes
	## Ottoman war wining the balkan war, the great power will discuss impose to Ottoman conditions to avoid their total supremacy in balkans
	option = {
		name = ww1_firstbalkan.10.a	## lets form a great coalition and invite every great power
		add_war_support = 0.05
		set_global_flag = ENG_organise_the_anti_ottoman_coalition
		custom_effect_tooltip = ENG_anti_ottoman_coalition
		if = {
			limit = {
				is_major = yes
			}
			add_to_array = {
				array = global.anti_ottoman_coalition_leaders
				value = ROOT
			}
		}
		add_to_array = {
			array = global.anti_ottoman_coalition
			value = ROOT
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_firstbalkan.10.b	## Who are you ? Where im am ? - Joe Biden 2022
		ai_chance = {
			factor = 0
		}
	}
}

# ENG is inviting us into the coalition
country_event = {
	id = ww1_firstbalkan.11
	title = ww1_firstbalkan.11.t
	desc = ww1_firstbalkan.11.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	## Ottoman war wining the balkan war, the great power will discuss impose to Ottoman conditions to avoid their total supremacy in balkans
	option = {
		name = ww1_firstbalkan.11.a	## join coalition
		add_war_support = 0.05
		set_global_flag = ENG_are_not_alone_in_anti_ottoman_balkan_coalition
		if = {
			limit = {
				is_major = yes
			}
			add_to_array = {
				array = global.anti_ottoman_coalition_leaders
				value = ROOT
			}
		}
		add_to_array = {
			array = global.anti_ottoman_coalition
			value = ROOT
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_firstbalkan.11.b	## No
		set_country_flag = dont_want_to_join_anti_ottoman_balkan_coalition
		ai_chance = {
			factor = 0
		}
	}
}


#########################################
#
#
#	BULGARIA PART
#
#######################

# ENG discussion about a minor balkan country = Bulgaria
country_event = {
	id = ww1_firstbalkan.12
	title = ww1_firstbalkan.12.t
	desc = ww1_firstbalkan.12.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				check_variable = {
					id = global.BUL_coalition_fate_lose_rumelia
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.BUL_coalition_fate_lose_rumelia
					value = 0
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					id = global.BUL_coalition_fate_integrated_puppet
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.BUL_coalition_fate_integrated_puppet
					value = 0
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					id = global.BUL_coalition_fate_annexed
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.BUL_coalition_fate_annexed
					value = 0
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					id = global.BUL_coalition_fate_reparations
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.BUL_coalition_fate_reparations
					value = 0
				}
			}
		}
	}
	## Ottoman can annex Rumelia
	option = {
		name = ww1_firstbalkan.12.a	
		add_to_variable = {
			var = global.BUL_coalition_fate_lose_rumelia
			value = 1
		}
		ai_chance = {
			factor = 30 #strong base
			modifier = {
				is_in_faction_with = TUR	## puppet is the best for our friend
				add = -100
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 50
				}
				add = 20 #friendly country
			}
		}
	}
	## Ottoman may puppet bulgaria
	option = {
		name = ww1_firstbalkan.12.b	## No
		add_to_variable = {
			var = global.BUL_coalition_fate_integrated_puppet
			value = 1
		}
		ai_chance = {
			factor = 10 #This is what ottomans want
			modifier = {
				is_in_faction_with = TUR	## puppet is the best for our friend
				add = 100
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 50
				}
				add = 20 #friendly country
			}
		}
	}
	## Ottoman may do whatever they want
	option = {
		name = ww1_firstbalkan.12.c	## No
		add_to_variable = {
			var = global.BUL_coalition_fate_annexed
			value = 1
		}
		ai_chance = {
			factor = 5 #low chances
			modifier = {
				is_in_faction_with = TUR	##its very good
				add = 200
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 100
				}
				add = 20 #must be very friendly
			}
		}
	}
	## Ottoman may just ask reparations
	option = {
		name = ww1_firstbalkan.12.e	## No
		add_to_variable = {
			var = global.BUL_coalition_fate_reparations
			value = 1
		}
		ai_chance = {
			factor = 15 #strong base
			modifier = {
				is_in_faction_with = TUR	##thats shit
				add = -100
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 50
				}
				add = -20 #friendly country
			}
		}
	}
}


# Bulgarian fate is sealed
country_event = {
	id = ww1_firstbalkan.13
	title = ww1_firstbalkan.13.t
	desc = ww1_firstbalkan.13.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		BUL = {
			set_country_flag = fate_sealed_by_anti_ottoman_balkan_coalition
		}
	}
	option = {
		name = ww1_firstbalkan.13.a	
		trigger = {
			check_variable = {
				global.BUL_coalition_fate_lose_rumelia > global.BUL_coalition_fate_integrated_puppet
			}
			check_variable = {
				global.BUL_coalition_fate_lose_rumelia > global.BUL_coalition_fate_annexed
			}
			check_variable = {
				global.BUL_coalition_fate_lose_rumelia > global.BUL_coalition_fate_reparations
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.15
				}
			}
		}
	}
	option = {
		name = ww1_firstbalkan.13.b	
		trigger = {
			check_variable = {
				global.BUL_coalition_fate_integrated_puppet > global.BUL_coalition_fate_lose_rumelia
			}
			check_variable = {
				global.BUL_coalition_fate_integrated_puppet > global.BUL_coalition_fate_annexed
			}
			check_variable = {
				global.BUL_coalition_fate_integrated_puppet > global.BUL_coalition_fate_reparations
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.16
				}
			}
		}
	}
	option = {
		name = ww1_firstbalkan.13.c
		trigger = {
			check_variable = {
				global.BUL_coalition_fate_annexed > global.BUL_coalition_fate_lose_rumelia
			}
			check_variable = {
				global.BUL_coalition_fate_annexed > global.BUL_coalition_fate_integrated_puppet
			}
			check_variable = {
				global.BUL_coalition_fate_annexed > global.BUL_coalition_fate_reparations
			}
		}
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.17
				}
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
	}
	option = {
		name = ww1_firstbalkan.13.e
		trigger = {
			check_variable = {
				global.BUL_coalition_fate_reparations > global.BUL_coalition_fate_lose_rumelia
			}
			check_variable = {
				global.BUL_coalition_fate_reparations > global.BUL_coalition_fate_integrated_puppet
			}
			check_variable = {
				global.BUL_coalition_fate_reparations > global.BUL_coalition_fate_annexed
			}
		}
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.18
				}
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
	}
	option = {
		name =another_vote
		trigger = {
			NOT = {
				AND = {
					check_variable = {
						global.BUL_coalition_fate_reparations > global.BUL_coalition_fate_lose_rumelia
					}
					check_variable = {
						global.BUL_coalition_fate_reparations > global.BUL_coalition_fate_integrated_puppet
					}
					check_variable = {
						global.BUL_coalition_fate_reparations > global.BUL_coalition_fate_annexed
					}
				}
				AND = {
					check_variable = {
						global.BUL_coalition_fate_lose_rumelia > global.BUL_coalition_fate_reparations
					}
					check_variable = {
						global.BUL_coalition_fate_lose_rumelia > global.BUL_coalition_fate_integrated_puppet
					}
					check_variable = {
						global.BUL_coalition_fate_lose_rumelia > global.BUL_coalition_fate_annexed
					}
				}
				AND = {
					check_variable = {
						global.BUL_coalition_fate_annexed > global.BUL_coalition_fate_lose_rumelia
					}
					check_variable = {
						global.BUL_coalition_fate_annexed > global.BUL_coalition_fate_integrated_puppet
					}
					check_variable = {
						global.BUL_coalition_fate_annexed > global.BUL_coalition_fate_reparations
					}
				}
			}
		}
		BUL = {
			clr_country_flag = fate_sealed_by_anti_ottoman_balkan_coalition
		}
	}
}

#BUL capituled ! We won some stuff
country_event = {
	id = ww1_firstbalkan.14
	title = ww1_firstbalkan.14.t
	desc = ww1_firstbalkan.14.d
	picture = GFX_report_event_turkish_war_of_independence
	trigger = {
		tag = TUR
		has_global_flag = TUR_is_winning_balkan_war
		has_global_flag = BUL_surrender_in_balkan_war
		NOT = {
			has_country_flag = TUR_reaction_to_BUL_capitulation
		}
	}
	fire_only_once = yes
	immediate = {
		set_country_flag = TUR_reaction_to_BUL_capitulation
	}
	## Bulgaria is now a temporary puppet
	option = {
		name = ww1_firstbalkan.14.a	## lets form a great coalition and invite every great power
		add_manpower = 50000
		BUL = {
			add_manpower = -50000
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 10000
			producer = BUL
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_firstbalkan.14.b	## lets just annex everything
		annex_country = {
			target = BUL
			transfer_troops = yes
		}
		BUL = {
			add_manpower = -10000
		}
		add_manpower = 10000
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 10000
			producer = BUL
		}
		ai_chance = {
			factor = 0
		}
	}
}

#coalition ask TUR to liberate bulgaria and just take Rumelia
country_event = {
	id = ww1_firstbalkan.15
	title = ww1_firstbalkan.15.t
	desc = ww1_firstbalkan.15.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_BUL_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.15.a	## we have no other choices
		212 = {
				transfer_state_to = TUR
			}
		TUR = {
			set_autonomy = {
				target = BUL
				autonomous_state = autonomy_free
				freedom_level = 1
			}
		}
		BUL = {
			give_military_access = TUR
			diplomatic_relation = {
				country = TUR
				relation = non_aggression_pact
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_firstbalkan.15.b	##
		set_global_flag = TUR_oppose_the_coalition
	}
}

#coalition let TUR get a bulgarian puppet BUL_coalition_fate_integrated_puppet
country_event = {
	id = ww1_firstbalkan.16
	title = ww1_firstbalkan.16.t
	desc = ww1_firstbalkan.16.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_BUL_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.16.a	## we have no other choices
		if = {
			limit = {
				BUL = {
					exists = no
				}
			}
			BUL = {
				transfer_state = 48
				transfer_state = 212
				transfer_state = 211
				transfer_state = 77
			}
		}
		TUR = {
			set_autonomy = {
				target = BUL
				autonomous_state = autonomy_integrated_puppet
				freedom_level = 0.2
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_firstbalkan.16.b	##
		set_global_flag = TUR_oppose_the_coalition
	}
}

#coalition let TUR annex bulgaria ! BUL_coalition_fate_annexed
country_event = {
	id = ww1_firstbalkan.17
	title = ww1_firstbalkan.17.t
	desc = ww1_firstbalkan.17.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_BUL_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.17.a	## cool
		TUR = {
			annex_country = {
				target = BUL
				transfer_troops = yes
			}
		}
		every_state = {
			limit = {
				OR = {
					is_claimed_by = BUL
					is_core_of = BUL
				}

				NOT = {
					is_owned_by = TUR
				}
				
			}
			add_claim_by = TUR
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {	## we are fine with the puppet
		name = ww1_firstbalkan.17.b	##
	}
}

#coalition just ask bulgaria to pay reparation... BUL_coalition_fate_reparations
country_event = {
	id = ww1_firstbalkan.18
	title = ww1_firstbalkan.18.t
	desc = ww1_firstbalkan.18.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_BUL_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.18.a	## wtf okay...
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				BUL = {
					exists = no
				}
			}
			BUL = {
				transfer_state = 48
				transfer_state = 212
				transfer_state = 211
				transfer_state = 77
			}
		}
		TUR = {
			set_autonomy = {
				target = BUL
				autonomous_state = autonomy_free
				freedom_level = 0.2
			}
		}
		BUL = {
			give_military_access = TUR
			diplomatic_relation = {
				country = TUR
				relation = non_aggression_pact
			}
		}
	}
	option = {	## fuck you uk
		name = ww1_firstbalkan.18.b	##
		set_global_flag = TUR_oppose_the_coalition
	}
}



#########################################
#
#
#	GREECE PART
#
#######################

# ENG discussion about a minor balkan country = Greece
country_event = {
	id = ww1_firstbalkan.19
	title = ww1_firstbalkan.19.t
	desc = ww1_firstbalkan.19.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				check_variable = {
					id = global.GRE_coalition_fate_integrated_puppet
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.GRE_coalition_fate_integrated_puppet
					value = 0
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					id = global.GRE_coalition_fate_annexed
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.GRE_coalition_fate_annexed
					value = 0
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					id = global.GRE_coalition_fate_reparations
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.GRE_coalition_fate_reparations
					value = 0
				}
			}
		}
	}
	## Ottoman may puppet
	option = {
		name = ww1_firstbalkan.19.b	## No
		add_to_variable = {
			var = global.GRE_coalition_fate_integrated_puppet
			value = 1
		}
		ai_chance = {
			factor = 10 #This is what ottomans want
			modifier = {
				is_in_faction_with = TUR	## puppet is the best for our friend
				add = 100
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 50
				}
				add = 20 #friendly country
			}
		}
	}
	## Ottoman may do whatever they want
	option = {
		name = ww1_firstbalkan.19.c	## No
		add_to_variable = {
			var = global.GRE_coalition_fate_annexed
			value = 1
		}
		ai_chance = {
			factor = 5 #low chances
			modifier = {
				is_in_faction_with = TUR	##its very good
				add = 200
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 100
				}
				add = 20 #must be very friendly
			}
		}
	}
	## Ottoman may just ask reparations
	option = {
		name = ww1_firstbalkan.19.e	## No
		add_to_variable = {
			var = global.GRE_coalition_fate_reparations
			value = 1
		}
		ai_chance = {
			factor = 15 #strong base
			modifier = {
				is_in_faction_with = TUR	##thats shit
				add = -100
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 50
				}
				add = -20 #friendly country
			}
		}
	}
}



# greek fate is sealed
country_event = {
	id = ww1_firstbalkan.20
	title = ww1_firstbalkan.20.t
	desc = ww1_firstbalkan.20.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		GRE = {
			set_country_flag = fate_sealed_by_anti_ottoman_balkan_coalition
		}
	}
	option = {
		name = ww1_firstbalkan.20.b	
		trigger = {
			check_variable = {
				global.GRE_coalition_fate_integrated_puppet > global.GRE_coalition_fate_annexed
			}
			check_variable = {
				global.GRE_coalition_fate_integrated_puppet > global.GRE_coalition_fate_reparations
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.21
				}
			}
		}
		
	}
	option = {
		name = ww1_firstbalkan.20.c
		trigger = {
			check_variable = {
				global.GRE_coalition_fate_annexed > global.GRE_coalition_fate_integrated_puppet
			}
			check_variable = {
				global.GRE_coalition_fate_annexed > global.GRE_coalition_fate_reparations
			}
		}
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.22
				}
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
	}
	option = {
		name = ww1_firstbalkan.20.e
		trigger = {
			check_variable = {
				global.GRE_coalition_fate_reparations > global.GRE_coalition_fate_integrated_puppet
			}
			check_variable = {
				global.GRE_coalition_fate_reparations > global.GRE_coalition_fate_annexed
			}
		}
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.23
				}
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
	}
	option = {
		name = another_vote
		trigger = {
			NOT = {
				AND = {
					check_variable = {
						global.GRE_coalition_fate_reparations > global.GRE_coalition_fate_integrated_puppet
					}
					check_variable = {
						global.GRE_coalition_fate_reparations > global.GRE_coalition_fate_annexed
					}
				}
				AND = {
					check_variable = {
						global.GRE_coalition_fate_integrated_puppet > global.GRE_coalition_fate_reparations
					}
					check_variable = {
						global.GRE_coalition_fate_integrated_puppet > global.GRE_coalition_fate_annexed
					}
				}
				AND = {
					check_variable = {
						global.GRE_coalition_fate_annexed > global.GRE_coalition_fate_integrated_puppet
					}
					check_variable = {
						global.GRE_coalition_fate_annexed > global.GRE_coalition_fate_integrated_puppet
					}
				}
			}
			
		}
		GRE = {
			clr_country_flag = fate_sealed_by_anti_ottoman_balkan_coalition
		}
	}
	
}

#coalition let TUR get a greek puppet BUL_coalition_fate_integrated_puppet
country_event = {
	id = ww1_firstbalkan.21
	title = ww1_firstbalkan.21.t
	desc = ww1_firstbalkan.21.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_GRE_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.21.a	## we have no other choices
		if = {
			limit = {
				GRE = {
					exists = no
				}
			}
			GRE = {
				transfer_state = 186
				transfer_state = 47
				transfer_state = 185
				transfer_state = 187
			}
		}
		TUR = {
			set_autonomy = {
				target = GRE
				autonomous_state = autonomy_integrated_puppet
				freedom_level = 0.2
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_firstbalkan.16.b	##
		set_global_flag = TUR_oppose_the_coalition
	}
}

#coalition let TUR annex greece ! GRE_coalition_fate_annexed
country_event = {
	id = ww1_firstbalkan.22
	title = ww1_firstbalkan.17.t
	desc = ww1_firstbalkan.17.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_GRE_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.22.a	## cool
		TUR = {
			annex_country = {
				target = GRE
				transfer_troops = yes
			}
		}
		every_state = {
			limit = {
				OR = {
					is_claimed_by = GRE
					is_core_of = GRE
				}

				NOT = {
					is_owned_by = TUR
				}
				
			}
			add_claim_by = TUR
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {	## we are fine with the puppet
		name = ww1_firstbalkan.22.b	##
	}
}

#coalition just ask Greece to pay reparation... GRE_coalition_fate_reparations
country_event = {
	id = ww1_firstbalkan.23
	title = ww1_firstbalkan.23.t
	desc = ww1_firstbalkan.23.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_BUL_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.23.a	## wtf okay...
		ai_chance = {
			factor = 100
		}
		TUR = {
			set_autonomy = {
				target = GRE
				autonomous_state = autonomy_integrated_puppet
				freedom_level = 0.2
			}
		}
		if = {
			limit = {
				GRE = {
					exists = no
				}
			}
			GRE = {
				transfer_state = 186
				transfer_state = 47
				transfer_state = 185
				transfer_state = 187
			}
		}
		TUR = {
			set_autonomy = {
				target = GRE
				autonomous_state = autonomy_free
				freedom_level = 0.2
			}
		}
		GRE = {
			give_military_access = TUR
			diplomatic_relation = {
				country = TUR
				relation = non_aggression_pact
			}
		}
	}
	option = {	## fuck you uk
		name = ww1_firstbalkan.23.b	##
		set_global_flag = TUR_oppose_the_coalition
	}
}



#########################################
#
#
#	SERBIA PART
#
#######################

# ENG discussion about a minor balkan country = Serbia
country_event = {
	id = ww1_firstbalkan.24
	title = ww1_firstbalkan.24.t
	desc = ww1_firstbalkan.24.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				check_variable = {
					id = global.SER_coalition_fate_integrated_puppet
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.SER_coalition_fate_integrated_puppet
					value = 0
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					id = global.GRE_coalition_fate_annexed
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.SER_coalition_fate_annexed
					value = 0
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					id = global.SER_coalition_fate_reparations
				}
			}
			else = {
				##setting up votes 
				set_variable = {
					id = global.SER_coalition_fate_reparations
					value = 0
				}
			}
		}
	}
	## Ottoman may puppet
	option = {
		name = ww1_firstbalkan.24.b	## No
		add_to_variable = {
			var = global.SER_coalition_fate_integrated_puppet
			value = 1
		}
		ai_chance = {
			factor = 10 #This is what ottomans want
			modifier = {
				is_in_faction_with = TUR	## puppet is the best for our friend
				add = 100
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 50
				}
				add = 20 #friendly country
			}
		}
	}
	## Ottoman may do whatever they want
	option = {
		name = ww1_firstbalkan.24.c	## No
		add_to_variable = {
			var = global.SER_coalition_fate_annexed
			value = 1
		}
		ai_chance = {
			factor = 5 #low chances
			modifier = {
				is_in_faction_with = TUR	##its very good
				add = 200
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 100
				}
				add = 20 #must be very friendly
			}
		}
	}
	## Ottoman may just ask reparations
	option = {
		name = ww1_firstbalkan.19.e	## No
		add_to_variable = {
			var = global.SER_coalition_fate_reparations
			value = 1
		}
		ai_chance = {
			factor = 15 #strong base
			modifier = {
				is_in_faction_with = TUR	##thats shit
				add = -100
			}
			modifier = {
				has_opinion = {
					target = TUR
					value > 50
				}
				add = -20 #friendly country
			}
		}
	}
}

# serbian fate is sealed
country_event = {
	id = ww1_firstbalkan.25
	title = ww1_firstbalkan.25.t
	desc = ww1_firstbalkan.25.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		SER = {
			set_country_flag = fate_sealed_by_anti_ottoman_balkan_coalition
		}
	}
	option = {
		name = ww1_firstbalkan.25.b	
		trigger = {
			check_variable = {
				global.SER_coalition_fate_integrated_puppet > global.SER_coalition_fate_annexed
			}
			check_variable = {
				global.SER_coalition_fate_integrated_puppet > global.SER_coalition_fate_reparations
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.26
				}
			}
		}
		
	}
	option = {
		name = ww1_firstbalkan.25.c
		trigger = {
			check_variable = {
				global.SER_coalition_fate_annexed > global.SER_coalition_fate_integrated_puppet
			}
			check_variable = {
				global.SER_coalition_fate_annexed > global.SER_coalition_fate_reparations
			}
		}
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.27
				}
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
	}
	option = {
		name = ww1_firstbalkan.25.e
		trigger = {
			check_variable = {
				global.SER_coalition_fate_reparations > global.SER_coalition_fate_integrated_puppet
			}
			check_variable = {
				global.SER_coalition_fate_reparations > global.SER_coalition_fate_annexed
			}
		}
		if = {
			limit = {
				tag = ENG
			}
			TUR = {
				country_event = {
					days = 2
					id =  ww1_firstbalkan.28
				}
			}
		}
		custom_effect_tooltip = if_tur_refuse_we_will_get_a_war_goal
	}
	option = {
		name = another_vote
		trigger = {
			NOT = {
				AND = {
					check_variable = {
						global.SER_coalition_fate_reparations > global.SER_coalition_fate_integrated_puppet
					}
					check_variable = {
						global.SER_coalition_fate_reparations > global.SER_coalition_fate_annexed
					}
				}
				AND = {
					check_variable = {
						global.SER_coalition_fate_integrated_puppet > global.SER_coalition_fate_reparations
					}
					check_variable = {
						global.SER_coalition_fate_integrated_puppet > global.SER_coalition_fate_annexed
					}
				}
				AND = {
					check_variable = {
						global.SER_coalition_fate_annexed > global.SER_coalition_fate_integrated_puppet
					}
					check_variable = {
						global.SER_coalition_fate_annexed > global.SER_coalition_fate_integrated_puppet
					}
				}
			}
			
		}
		SER = {
			clr_country_flag = fate_sealed_by_anti_ottoman_balkan_coalition
		}
	}
	
}


#coalition let TUR get a serbian puppet SER_coalition_fate_integrated_puppet
country_event = {
	id = ww1_firstbalkan.26
	title = ww1_firstbalkan.26.t
	desc = ww1_firstbalkan.26.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_SER_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.22.a	## we have no other choices
		if = {
			limit = {
				SER = {
					exists = no
				}
			}
			SER = {
				transfer_state = 186
				transfer_state = 47
				transfer_state = 185
				transfer_state = 187
			}
		}
		TUR = {
			set_autonomy = {
				target = SER
				autonomous_state = autonomy_integrated_puppet
				freedom_level = 0.2
			}
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {
		name = ww1_firstbalkan.16.b	##
		set_global_flag = TUR_oppose_the_coalition
	}
}

#coalition let TUR annex Serbia ! SER_coalition_fate_annexed
country_event = {
	id = ww1_firstbalkan.27
	title = ww1_firstbalkan.27.t
	desc = ww1_firstbalkan.27.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_SER_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.22.a	## cool
		TUR = {
			annex_country = {
				target = SER
				transfer_troops = yes
			}
		}
		every_state = {
			limit = {
				OR = {
					is_claimed_by = SER
					is_core_of = SER
				}

				NOT = {
					is_owned_by = TUR
				}
				
			}
			add_claim_by = TUR
		}
		ai_chance = {
			factor = 100
		}
	}
	option = {	## we are fine with the puppet
		name = ww1_firstbalkan.22.b	##
	}
}

#coalition just ask Serbia to pay reparation... SER_coalition_fate_reparations
country_event = {
	id = ww1_firstbalkan.28
	title = ww1_firstbalkan.28.t
	desc = ww1_firstbalkan.28.d
	picture = GFX_report_event_turkish_war_of_independence
	is_triggered_only = yes
	immediate = {
		set_country_flag = TUR_reaction_to_BUL_capitulation
	}
	##
	option = {
		name = ww1_firstbalkan.23.a	## wtf okay...
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				SER = {
					exists = no
				}
			}
			SER = {
				transfer_state = 186
				transfer_state = 47
				transfer_state = 185
				transfer_state = 187
			}
		}
		TUR = {
			set_autonomy = {
				target = SER
				autonomous_state = autonomy_free
				freedom_level = 0.2
			}
		}
		SER = {
			give_military_access = TUR
			diplomatic_relation = {
				country = TUR
				relation = non_aggression_pact
			}
		}
	}
	option = {	## fuck you uk
		name = ww1_firstbalkan.23.b	##
		set_global_flag = TUR_oppose_the_coalition
	}
}


#greece is alone in the balkan war
country_event = {
	id = ww1_firstbalkan.29
	title = ww1_firstbalkan.29.t
	desc = ww1_firstbalkan.29.d
	picture = GFX_report_event_turkish_war_of_independence
	fire_only_once = yes
	trigger = {
		tag = GRE
		has_war_with = TUR
		OR = {
			has_global_flag = SER_surrender_in_balkan_war
			SER = {
				has_capitulated = yes
				is_puppet_of = TUR
				exists = no
			}
		}
		OR = {
			has_global_flag = BUL_surrender_in_balkan_war
			BUL = {
				has_capitulated = yes
				is_puppet_of = TUR
				exists = no
			}
		}
		NOT = {
			has_country_flag = GRE_solo_against_TUR
		}
	}
	immediate = {
		set_country_flag = GRE_solo_against_TUR
	}
	##
	option = {
		name = ww1_firstbalkan.29.a	## We will never die !
		set_global_flag = TUR_invasion_of_GRE_mission
		add_ideas = GRE_memory_of_1821
	}
}

#greece is alone in the balkan war
country_event = {
	id = ww1_firstbalkan.30
	title = ww1_firstbalkan.30.t
	desc = ww1_firstbalkan.30.d
	picture = GFX_report_event_turkish_war_of_independence
	trigger = {
		tag = TUR
		has_war_with = GRE
		has_global_flag = TUR_invasion_of_GRE_mission
		NOT = {
			has_country_flag = TUR_informed_of_the_invasion_mission
		}
	}
	mean_time_to_happen = {
		days = 14
	}
	immediate = {
		set_country_flag = TUR_informed_of_the_invasion_mission
	}
	##
	option = {
		name = ww1_firstbalkan.30.a	## We must conquer them all!
		add_political_power = -200
		add_stability = -0.20
		add_war_support = -0.20
		ai_chance = {
			factor = 5
		}
	}
	##heu lets go peace deal
	option = {
		name = ww1_firstbalkan.30.b	## We must conquer them all!
		ai_chance = {
			factor = 80
		}
		every_country = {
			limit = {
				has_war_together_with = TUR
				has_war_with = GRE
			}
			white_peace = GRE
		}
		TUR = {
			white_peace = GRE
		}
		TUR = {
			diplomatic_relation = {
				country = GRE
				relation = non_aggression_pact
			}
		}
	}
}


#ottomans refused balkan coalition conditions ! 
country_event = {
	id = ww1_firstbalkan.31
	title = ww1_firstbalkan.31.t
	desc = ww1_firstbalkan.31.d
	picture = GFX_report_event_turkish_war_of_independence
	trigger = {
		is_in_array = {
			array = global.anti_ottoman_coalition
			value = THIS 	
		}
		has_global_flag = TUR_oppose_the_coalition
		NOT = {
			has_country_flag = ROOT_informed_TUR_opposition_to_balkan_coalition
		}
	}
	mean_time_to_happen = {
		days = 8
	}
	immediate = {
		set_country_flag = ROOT_informed_TUR_opposition_to_balkan_coalition
	}
	##
	option = {
		name = ww1_firstbalkan.30.a
		create_wargoal = {
			target = TUR
			type = topple_government
		}
		add_ai_strategy = {
			type = conquer
			id = TUR
			value = 200
		}
		add_ai_strategy = {
			type = antagonize
			id = TUR
			value = 100
		}
		add_ai_strategy = {
			type = declare_war
			id = TUR
			value = 100
		}
	}
}


#auto remove the ottoman claim discussion
country_event = {
	id = ww1_firstbalkan.32
	title = ww1_firstbalkan.32.t
	desc = ww1_firstbalkan.32.d
	hidden = yes
	picture = GFX_report_event_turkish_war_of_independence
	trigger = {
		has_global_flag = is_discussing_about_balkan_minor
	}
	mean_time_to_happen = {
		days = 30
	}
	immediate = {
		clr_global_flag = is_discussing_about_balkan_minor
	}
	##
	option = {
		name = ok
		clr_global_flag = is_discussing_about_balkan_minor
	}
}