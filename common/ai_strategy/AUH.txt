AUH_you_gotta_build_up_hard = {
	allowed = { 
		original_tag = AUH 
	}

	enable = {
		OR = {
			date < 1914.1.1
			has_government = fascism
		}
		has_war = no
	}
	abort = {
		OR = {
			has_army_size = {
				size > 120
			}
			has_war = yes
			AND = {
				date > 1914.5.5
				is_historical_focus_on = yes
			}
		}
	}

	ai_strategy = {
		type = build_army
		id = infantry
		value = 1000
	}

	ai_strategy = {
		type = force_build_armies
		value = 1000
	}
	
	ai_strategy = {
		type = ignore_army_incompetence
		value = 100
	}
}

AUH_no_one_gets_our_troops = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		is_historical_focus_on = yes
	}
	
	abort = {
		is_historical_focus_on = no
		date > 1914.1.1
	}
	
	ai_strategy = {
		type = send_volunteers_desire
		id = "QIN"
		value = -100
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "BUL"
		value = -100
	}
	ai_strategy = {
		type = send_volunteers_desire
		id = "TUR"
		value = -100
	}
}

AUH_protect_their_autonomies = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		OR = {
			has_subject = HUN
			has_subject = CRO
			has_subject = CZE
			has_subject = GAL
		}
	}
	abort_when_not_enabled = yes
	
	abort = {
		has_country_flag = great_war_loser
	}
	ai_strategy = {
		type = asking_foreign_garrison
		value = 100
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = HUN
		value = 100
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = CRO
		value = 100
	}
	ai_strategy = {
		type = support
		id = CZE
		value = 100
	}
	ai_strategy = {
		type = force_defend_ally_borders
		id = GAL
		value = 100
	}
	ai_strategy = {
		type = spare_unit_factor
		value = 100
	}
}
AUH_dont_help_TUR = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		is_in_faction_with = TUR
		has_global_flag = kis_war
		TUR = {
			surrender_progress < 0.10
		}
		OR = {
			has_war_with = ROM
			has_war_with = RUS
			has_war_with = SOV
		}
		NOT = {
			has_global_flag = great_war_ends
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = ignore
		id = "TUR"			
		value = 100 
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "TUR"			
		value = 100 
	}
	ai_strategy = {
		type = ignore
		id = "JBS"			
		value = 100 
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "JBS"			
		value = 100 
	}
}
AUH_ready_for_war_with_SER = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		OR = {
			date > 1914.1.1
			SER = { has_war_with = TUR }
		}
	}
	abort = {
		OR = {
			has_war_with = SER
			SER = { is_in_faction_with = AUH }
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = antagonize
		id = SER		
		value = 300 
	}
	ai_strategy = {
		type = conquer
		id = SER	
		value = 150
	}
	ai_strategy = {
		type = prepare_for_war
		id = SER		
		value = 50
	}
	ai_strategy = {
		type = contain
		id = SER		
		value = 50
	}
	ai_strategy = {
		type = antagonize
		id = MNT
		value = 200 
	}
	ai_strategy = {
		type = prepare_for_war
		id = MNT	
		value = 200
	}
}
AUH_be_aware_of_ITA = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		date > 1914.3.3
		is_neighbor_of = ITA
	}
	abort = {
		OR = {
			has_war_with = ITA
			is_in_faction_with = ITA
			has_capitulated = yes
			has_global_flag = great_war_ends
		}
	}
	abort_when_not_enabled = yes
	ai_strategy = {
		type = front_unit_request
		tag = ITA
		value = 50
	}
	ai_strategy = {
		type = prepare_for_war
		id = "ITA"
		value = 50
	}
}
AUH_be_aware_of_ROM = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		has_global_flag = kis_war
		ROM = {
			is_neighbor_of = ROOT
			NOT = {
				has_country_leader_with_trait = german_agent
			}
		}
	}
	abort = {
		OR = {
			is_in_faction_with = ROM
			has_capitulated = yes
			has_global_flag = great_war_ends
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = ROM
		value = 25
	}
	ai_strategy = {
		type = prepare_for_war
		id = ROM		
		value = 25
	}
}


AUH_ignore_very_early_supplies_near_trentino = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		has_war = no
	}
	abort = {
		OR = {
			has_war = yes
			has_completed_focus = AUH_improve_trento_supply_administration
		}	
	}

	ai_strategy = {
		type = front_unit_request
		tag = SWI
		value = -75
	}
	ai_strategy = {
		type = prepare_for_war
		id = "SWI"			
		value = -100
	}

	ai_strategy = {
		type = front_unit_request
		tag = ITA
		value = -75
	}
	ai_strategy = {
		type = prepare_for_war
		id = "ITA"			
		value = -75
	}

	ai_strategy = {
		type = put_unit_buffers
		
		order_id = 1
		
		# go in austria instead of mountains 
		states = {
			153
			152 
			4
		}
		ratio = 0.20
		area = europe
		subtract_invasions_from_need = yes
	}

}

AUH_ignore_ROM_moutains_to_save_supplies = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		NOT = {
			has_war_with = ROM
		}
	}
	abort = {
		OR = {
			is_in_faction_with = ROM
			has_war_with = ROM
		}
	}
	ai_strategy = {
		type = front_unit_request
		tag = ROM
		value = -150
	}

}


AUH_fight_ser = {
	allowed = {
		original_tag = AUH	
	}

	enable = {
		tag = AUH
		OR = {
			has_global_flag = kis_franzferdinand_murdered
			has_war_with = SER
		}	
	}
	abort = {
		OR = {
			is_puppet = yes
			SER = {
				has_capitulated = yes
			}
		}		
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = prepare_for_war
		id = SER
		value = 100
	}
	ai_strategy = {
		type = front_unit_request
		tag = SER
		value = 50
	}

}

AUH_focus_on_italy= {
	allowed = {
		original_tag = AUH	
	}

	enable = {
		OR = {
			has_war_with = RUS
			has_war_with = SER
		}
		NOT = {
			ITA = {
				is_in_faction_with = AUH
			}
		}
	}
	abort = {
		ITA = {
			is_in_faction_with = AUH
		}
		
		OR = {
			RUS = {
				has_capitulated = yes
			}
			SOV = {
				exists = yes	##no eastern front
			}
		}
	}
	abort_when_not_enabled = yes

	
	ai_strategy = {
		type = prepare_for_war
		id = ITA
		value = 40	## for some reasons they dont want to cover the italian front
	}

	ai_strategy = {
		type = front_unit_request 		## dont get surprised by their war declaration
		tag = ITA
		value = 100
	}

	ai_strategy = {
		type = strategic_air_importance
		id = 21 #Strategic Region ID - Alpine region
		value = 25
	}
}

AUH_dont_help_germany_or_ottomans = {
	allowed = {
		original_tag = AUH	
	}
	enable = {
		always = yes
	}	
	abort = {
		GER = {
			surrender_progress > 0.2
		}
	}
	
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "GER"
		value = 1000
	}
	ai_strategy = {
		type = alliance
		id = "GER"
		value = -1000
	}
	ai_strategy = {
		type = protect
		id = "GER"
		value = -1000
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "TUR"
		value = 1000
	}
	ai_strategy = {
		type = alliance
		id = "TUR"
		value = -1000
	}
	ai_strategy = {
		type = protect
		id = "TUR"
		value = -1000
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "LUX"
		value = 1000
	}
}

AUH_defensive_against_ITA_if_lacking_guns = {
	allowed = {
		original_tag = AUH
	}
	allowed = {
		always = yes
	}
	enable = {
		tag = AUH
		has_war_with = ITA
		stockpile_ratio = {	## 5% of the armies equipment must be in reserves
			archetype = infantry_equipment
			ratio < 0.01
		}
	}
	abort = {
		OR = {
			stockpile_ratio = {	## 7% of the armies equipment must be in reserves
				archetype = infantry_equipment
				ratio > 0.02
			}
			surrender_progress > 0.15
		}
	}

	ai_strategy = {
		type = front_control
		tag = ITA
		ratio = 0.30
		priority = 1000
		ordertype = front
		execution_type = careful
		execute_order = no
		manual_attack = yes
	}

}

AUH_dont_help_GER = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		always = yes
	}
	abort = {
		OR = {
			GER = {
				surrender_progress > 0.2
			}
			#you can go if russia is beaten and you have no threat except Italy
			AND = {
				date > 1916.6.6
				NOT = {
					has_war_with = RUS
					has_war_with = ROM
					has_war_with = BUL
					has_war_with = GER
					has_war_with = HUN
					has_war_with = POL
				}
				surrender_progress < 0.01
			}
		}
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = GER
		value = 99999
	}
	ai_strategy = {
		type = front_unit_request
		tag = GER
		value = -99999
	}
	ai_strategy = {
		type = invade
		id = GER
		value = -99999
	}
	ai_strategy = {
		type = conquer
		id = GER
		value = -99999
	}
}

AUH_stay_in_europe = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		always = yes
	}
	abort = {
		any_owned_state = {
			NOT = { is_on_continent = europe }
		}
	}
	ai_strategy = {
		type = area_priority
		id = europe
		value = 1000
	}
}


AUH_lose_against_hugary_if_independence_flag = {
	allowed = {
		original_tag = AUH
	}
	enable = {
		has_global_flag = hungarian_revolution
	}
	
	abort = {
		is_historical_focus_on = no
		date > 1914.1.1
	}
	
	ai_strategy = {
		type = front_unit_request
		tag = HUN
		value = -20
	}
}

AUH_unit_production = {
	allowed = {
		original_tag = AUH	
	}
	enable = {
		always = yes
	}
	abort = {
		always = no
	}
	
	ai_strategy = {
		type = role_ratio
		id = garrison
		value = 15
	}

	ai_strategy = {
		type = role_ratio
		id = paratroopers
		value = 0
	}

	ai_strategy = {
		type = role_ratio
		id = mountaineers
		value = 5
	}

	ai_strategy = {
		type = role_ratio
		id = marines
		value = 1
	}

	ai_strategy = {
		type = role_ratio
		id = cavalry
		value = 5
	}
	ai_strategy = {
		type = role_ratio
		id = armor
		value = 5
	}

	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 80
	}
	
	#Air unit factors
	ai_strategy = {
		type = unit_ratio
		id = fighter
		value = 50 # From 70 to 75
	}
	
	ai_strategy = {
		type = unit_ratio
		id = tactical_bomber
		value = 5
	}
	
	ai_strategy = {
		type = unit_ratio
		id = strategic_bomber
		value = 5
	}
	
	ai_strategy = {
		type = unit_ratio
		id = naval_bomber
		value = 5
	}

	ai_strategy = {
		type = unit_ratio
		id = scout_plane
		value = 5
	}
	
	
	# Naval unit factors
	ai_strategy = {
		type = unit_ratio
		id = capital_ship
		value = 25 # from 15 to 25
	}

	ai_strategy = {
		type = unit_ratio
		id = submarine
		value = 20 #from 50 to 40
	}

	ai_strategy = {
		type = unit_ratio
		id = screen_ship
		value = 40
	}

	ai_strategy = {
		type = unit_ratio
		id = convoy
		value = 20
	}
	
	ai_strategy = {
		type = equipment_production_factor
		id = infantry
		value = 40
	}
}

# THIS IS NOT WORKING
# AUH_mobilization = {
# 	allowed = {
# 		original_tag = AUH
# 	}
# 	enable = {
# 		has_war = yes
# 	}
# 	abort = {
# 		OR = {
# 			has_war = no
# 			has_idea = service_by_requirement
# 		}	
# 	}

# 	ai_strategy = {
# 		type = pp_spend_amount
# 		id = extensive_conscription
# 		value = 100
# 	}

# 	ai_strategy = {
# 		type = pp_spend_amount
# 		id = service_by_requirement
# 		value = 100
# 	}
# }