RUS_civil_war = {
	#First Kuban Campaign
	SRA_first_kuban_campaign = {
		icon = generic_ignite_civil_war

		allowed = {
			tag = SRA
		}

		available = {
			controls_province = 3734
		}

		days_mission_timeout = 60
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 234 } 
			highlight_color_while_active = 1
		}
		is_good = no

		activation = {
			always = no
		}

		timeout_effect = {
			add_war_support = -0.05
			hidden_effect = {
				country_event = {
					id = ww1_sra.11
					days = 3
				}
			}
			add_country_flag = SRA_failed_first_kuban
		}

		complete_effect = {
			add_war_support = 0.10
		}
	}
	SRA_launch_second_kuban = {
		icon = generic_ignite_civil_war
		allowed = {
			tag = SRA
		}
		visible = {
			has_country_flag = SRA_failed_first_kuban
			SIB = {
				exists = yes
			}
			NOT = {
				controls_state = 234
			}
		}
		available = {

		}
		
		cost = 0

		complete_effect = {
			activate_mission = SRA_second_kuban_campaign
			add_timed_idea = {
				idea = SRA_kuban_campaign
				days = 90
			}
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 10
		}
	}
	SRA_second_kuban_campaign = {
		icon = generic_ignite_civil_war

		allowed = {
			tag = SRA
		}

		available = {
			controls_province = 3734
		}

		days_mission_timeout = 60
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 234 } 
			highlight_color_while_active = 1
		}
		is_good = no

		activation = {
			always = no
		}

		timeout_effect = {
			add_war_support = -0.50
		}

		complete_effect = {
			add_war_support = 0.10
		}
	}
	SRA_core_states = {
		icon = generic_army_support
		allowed = {
			tag = SRA
		}

		cost = 10

		state_target = yes
		targets = {
			940
			233
			234
			579
			137
			235
			236
			590
			217
			265
			245
			238
			218
			222
			240
			220
			260
			401
			239
			257
			258
			223
			224
			242
			205
			246
			210
			209
			925
			251
			249
			399
			400
			397
			250
			255
			256
			252
			254
			253
			248
			247
			351
			263
			214
			264
			926
			955
			238
			## States excluded: Karelia, Ukraine, byelorussia, St. Petersburg && Moscow, Urals + Asia, baltics, poland, transcaucasia and Terek
		}
		on_map_mode = map_and_decisions_view
		days_remove = 10
		visible = {
			has_country_flag = vol_core_states
			FROM = {
				is_controlled_by = ROOT
				NOT = {
					is_core_of = SRA
				}
			}
		}
		complete_effect = {

		}
		remove_effect = {
			FROM = {
				add_core_of = SRA
				transfer_state_to = SRA
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SRA_rehabilitate_officers = {
		icon = generic_army_support
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_rehabilitate_officers
		}
		available = {
			has_completed_focus = SRA_rehabilitate_officers
		}
		
		cost = 0
		days_re_enable = 60
		days_remove = 21

		remove_effect = {
			add_command_power = 20
			army_experience = 25
		}

		fire_only_once = no

		ai_will_do = {
			factor = 10
		}
	}
	SRA_integrate_white_states = {
		icon = ger_military_buildup

		allowed = {
			tag = SRA
		}
		target_trigger = {
			FROM = {
				NOT = {
					has_country_flag = SRA_asked_integration
				}
				OR = {
					## dont care about them
					tag = CRI
					tag = MOU
					tag = TER
					tag = TRC
				}
				NOT = {
					has_war_with = ROOT
					has_government = communism
				}
				has_capitulated = no
				exists = yes
				is_subject = no
				is_neighbor_of = SRA
			}
		}
		available = {
			NOT = {
				has_country_flag = SRA_asked_integration
			}
			NOT = {
				has_country_flag = SRA_is_asking_integration
			}
		}
		visible = {
			has_country_flag = SRA_foreign_relation_decisions
		}
		fire_only_once = yes
		days_remove = 30
		complete_effect = {
			set_country_flag = SRA_is_asking_integration
		}
		remove_effect = {
			clr_country_flag = SRA_is_asking_integration
			FROM = {
				set_country_flag = SRA_is_asking_integration
				set_country_flag = {
					flag = must_accept
					days = 30
					value = 1
				}
				if = {
					limit = {
						tag = MOU
					}
					set_country_flag = {
						flag = hostile_country_want_to_annex_on_denial
						days = 30
						value = 100
					}
				}
				else = {
					set_country_flag = {
						flag = hostile_country_want_to_annex_on_denial
						days = 30
						value = 1
					}
				}
				country_event = {
					id = ww1_sra.35
					days = 1
				}
			}
		}
		cost = 25
		ai_will_do = {
			factor = 100
		}
	}
	SRA_annex_white_states = {
		icon = ger_military_buildup

		allowed = {
			tag = SRA
		}
		target_trigger = {
			FROM = {
				OR = {
					## dont care about them
					tag = CRI
					tag = MOU
					tag = TER
					tag = TRC
				}
				NOT = {
					has_war_with = ROOT
					has_government = communism
				}
				has_capitulated = no
				exists = yes
				is_subject = yes
				is_neighbor_of = SRA
			}
		}
		available = {
			NOT = {
				has_country_flag = SRA_is_annexing
			}
		}
		visible = {
			has_country_flag = SRA_foreign_relation_decisions
			num_subjects > 0
		}
		fire_only_once = yes
		days_remove = 60
		complete_effect = {
			set_country_flag = SRA_is_annexing
		}
		remove_effect = {
			clr_country_flag = SRA_is_annexing
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = FROM
				}
				add_core_of = SRA
			}
		}
		cost = 50
		ai_will_do = {
			factor = 100
		}
	}
	SRA_lend_lease_mock_inf = {
		icon = ger_military_buildup

		allowed = {
			tag = SRA
		}

		available = {
			always = no
		}

		days_mission_timeout = 30
		fire_only_once = yes
		is_good = yes

		activation = {
			always = no
		}
		timeout_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = 1000
				producer = ENG
			}
			hidden_effect = {
				add_to_variable = {
					lend_lease_counter = 1
				}
			}
		}
	}
	SRA_lend_lease_mock_arty = {
		icon = ger_military_buildup

		allowed = {
			tag = SRA
		}

		available = {
			always = no
		}

		days_mission_timeout = 30
		fire_only_once = yes
		is_good = yes

		activation = {
			always = no
		}
		timeout_effect = {
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 50
				producer = ENG
			}
			hidden_effect = {
				add_to_variable = {
					lend_lease_counter = 1
				}
			}
		}
	}
	SRA_lend_lease_mock_support = {
		icon = ger_military_buildup

		allowed = {
			tag = SRA
		}

		available = {
			always = no
		}

		days_mission_timeout = 30
		fire_only_once = yes
		is_good = yes

		activation = {
			always = no
		}
		timeout_effect = {
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 150
				producer = ENG
			}
			hidden_effect = {
				add_to_variable = {
					lend_lease_counter = 1
				}
			}
		}
	}
	SRA_lend_lease_mock_fighter = {
		icon = ger_military_buildup

		allowed = {
			tag = SRA
		}

		available = {
			always = no
		}

		days_mission_timeout = 30
		fire_only_once = yes
		is_good = yes

		activation = {
			always = no
		}
		timeout_effect = {
			add_equipment_to_stockpile = {
				type = fighter_equipment
				amount = 15
				producer = ENG
			}
			hidden_effect = {
				add_to_variable = {
					lend_lease_counter = 1
				}
			}
		}
	}
	SRA_lend_lease_mock_tanks = {
		icon = ger_military_buildup

		allowed = {
			tag = SRA
		}

		available = {
			always = no
		}

		days_mission_timeout = 30
		fire_only_once = yes
		is_good = yes

		activation = {
			always = no
		}
		timeout_effect = {
			add_equipment_to_stockpile = {
				type = heavy_tank_equipment
				amount = 10
				producer = ENG
			}
			hidden_effect = {
				add_to_variable = {
					lend_lease_counter = 1
				}
			}
		}
	}
	SRA_moscow_directive_absolute = {
		icon = generic_ignite_civil_war

		allowed = {
			tag = SRA
		}

		available = {
			controls_province = 6380 #moscow
		}

		days_mission_timeout = 150
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			#ordered as above
			highlight_state_targets = {
				state = 219
			}
			highlight_color_while_active = 1
		}
		is_good = no

		activation = {
			always = no
		}

		timeout_effect = {	
			add_war_support = -0.10
			set_country_flag = SRA_offensive_failed
		}

		complete_effect = {
			add_war_support = 0.10
			add_stability = 0.10
			add_political_power = 150
		}
	}

	SRA_moscow_directive_phase_1 = {
		icon = generic_ignite_civil_war

		allowed = {
			tag = SRA
		}

		available = {
			controls_province = 9355 #kursk
			controls_province = 3578 #Saratov
			controls_province = 413  #Voronezh
		}

		days_mission_timeout = 100
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			#ordered as above
			highlight_state_targets = {
				state = 220
				state = 239
				state = 260
			}
			highlight_color_while_active = 1
		}
		is_good = no

		activation = {
			has_country_flag = SRA_moscow_directive_phase_1
		}

		timeout_effect = {	
			add_war_support = -0.10
			remove_ideas = SRA_moscow_directive_1
		}

		complete_effect = {
			add_war_support = 0.10
			swap_ideas = {
				remove_idea = SRA_moscow_directive_1
				add_idea = SRA_moscow_directive_2
			}
			activate_mission = SRA_moscow_directive_phase_2
		}
	}

	SRA_moscow_directive_phase_2 = {
		icon = generic_ignite_civil_war

		allowed = {
			tag = SRA
		}

		available = {
			controls_province = 11248 #Ryazan
			controls_province = 3335  #Briansk
			controls_province = 6262  #Tula
			controls_province = 9258  #Penza
		}

		days_mission_timeout = 100
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			#ordered as above
			highlight_state_targets = {
				state = 254
				state = 224
				state = 223
				state = 255
			}
			highlight_color_while_active = 1
		}
		is_good = no

		activation = {
			always = no
		}

		timeout_effect = {
			add_war_support = -0.05
			remove_ideas = SRA_moscow_directive_2
		}

		complete_effect = {
			add_war_support = 0.10
			hidden_effect = {
				activate_mission = SRA_moscow_directive_phase_3
			}
			swap_ideas = {
				remove_idea = SRA_moscow_directive_2
				add_idea = SRA_moscow_directive_3
			}
		}
	}

	SRA_moscow_directive_phase_3 = {
		icon = generic_ignite_civil_war

		allowed = {
			tag = SRA
		}

		available = {
			controls_province = 6380 #Moscow
		}
                                               
		days_mission_timeout = 100
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 219 } 
			highlight_color_while_active = 1
		}
		is_good = no

		activation = {
			always = no
		}

		timeout_effect = {
			add_war_support = -0.0025
			remove_ideas = SRA_moscow_directive_3
		}

		complete_effect = {
			add_war_support = 0.10

		}
	}

	SRA_ufa_directive = {
		icon = generic_ignite_civil_war

		allowed = {
			tag = SRA
		}

		available = {
			is_neighbor_of = SIB
		}

		days_mission_timeout = 100
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		is_good = no

		activation = {
			always = no
		}

		timeout_effect = {	
			add_war_support = -0.10
		}

		complete_effect = {
			add_war_support = 0.05
			add_stability = 0.05
			add_political_power = 50
		}
	}

	SRA_send_Glazenap_to_NWA = {
		icon = GFX_decision_generic_reorganize_irregulars
		fire_only_once = yes
		allowed = {
			tag = SRA
		}

		available = {
			has_character = RUS_pyotr_fon_glazenap
			NWA = {
				exists = yes
				NOT = {
					has_war_with = ROOT
				}
				has_war_together_with = ROOT
			}
		}
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				date > 1918.10.1 
			}
		}

		complete_effect = {
			RUS_pyotr_fon_glazenap = {
				set_nationality = NWA
			}
		}
	}
}

operations = {
	SRA_vol_departure = {
		icon = GFX_decision_generic_reorganize_irregulars

		allowed = {
			tag = DON
		}

		available = {
			always = no
		}

		days_mission_timeout = 60
		fire_only_once = yes

		is_good = no

		activation = {
			has_completed_focus = DON_Alekseev_organization
			has_war_with = SOV
		}

		timeout_effect = {
			country_event = ww1_sra.9
		}
	}
}

political_actions = {
	KUB_alliance_with_SRA = {
		icon = generic_decision
		allowed = {
			tag = KUB
		}
		visible = {
			tag = KUB
			has_war_with = SOV
			SRA = {
				exists = yes
			}
		}
		available = {

		}
		
		cost = 0
		fire_only_once = yes

		complete_effect = {
			SRA = {
				country_event = ww1_sra.43
			}
		}

		ai_will_do = {
			factor = 1000
		}
	}
}

SRA_land_reforms = {

	SRA_invite_alexander_krivoshein = {
		icon = generic_ignite_civil_war	
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_agrarian_question
		}
		available = {
			has_completed_focus = SRA_agrarian_question
		}
		
		cost = 50
		
		days_remove = 30

		remove_effect = {
			every_possible_country = {
				limit = {
					has_character = RUS_alexander_krivoshein
				}
				RUS_alexander_krivoshein = {
					set_nationality = SRA
				}		
			}
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				has_country_leader = {
					character = RUS_pyotr_wrangel
					ruling_only = yes
				}
			}
		}
	}

	SRA_agrarian_reform = {
		icon = generic_ignite_civil_war	
		allowed = {
			tag = SRA
		}
		#placeholder, will be changed krivoshein
		visible = {
			has_completed_focus = SRA_agrarian_question
		}
		#placeholder, will be changed krivoshein
		available = {
			RUS_alexander_krivoshein = {
				is_advisor = yes
			}
			NOT = {
				has_country_flag = sra_already_doing_reform
			}
		}
		
		cost = 50
		
		days_remove = 30

		complete_effect = {
			set_country_flag = sra_already_doing_reform
		}

		remove_effect = {
			clr_country_flag = sra_already_doing_reform
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_4
				}
				remove_ideas = SRA_agrarian_question_idea_4
			}
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_3
				}
				swap_ideas = {
					remove_idea = SRA_agrarian_question_idea_3
					add_idea = SRA_agrarian_question_idea_4
				}
			}
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_2
				}
				swap_ideas = {
					remove_idea = SRA_agrarian_question_idea_2
					add_idea = SRA_agrarian_question_idea_3
				}
			}
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_1
				}
				swap_ideas = {
					remove_idea = SRA_agrarian_question_idea_1
					add_idea = SRA_agrarian_question_idea_2
				}
			}
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				has_country_leader = {
					character = RUS_pyotr_wrangel
					ruling_only = yes
				}
			}
		}
	}

	SRA_proper_government_salary = {
		icon = generic_ignite_civil_war	
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_agrarian_question
		}
		available = {
			RUS_alexander_krivoshein = {
				is_advisor = yes
			}
		}
		
		cost = 50
		
		days_remove = 30

		complete_effect = {
			set_country_flag = sra_already_doing_reform
		}

		remove_effect = {
			clr_country_flag = sra_already_doing_reform
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_4
				}
				remove_ideas = SRA_agrarian_question_idea_4
			}
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_3
				}
				swap_ideas = {
					remove_idea = SRA_agrarian_question_idea_3
					add_idea = SRA_agrarian_question_idea_4
				}
			}
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_2
				}
				swap_ideas = {
					remove_idea = SRA_agrarian_question_idea_2
					add_idea = SRA_agrarian_question_idea_3
				}
			}
			if = {
				limit = {
					has_idea = SRA_agrarian_question_idea_1
				}
				swap_ideas = {
					remove_idea = SRA_agrarian_question_idea_1
					add_idea = SRA_agrarian_question_idea_2
				}
			}
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				has_country_leader = {
					character = RUS_pyotr_wrangel
					ruling_only = yes
				}
			}
		}
	}

	SRA_alliance_with_makhno = {
		icon = generic_ignite_civil_war	
		allowed = {
			tag = SRA
		}

		visible = {
			country_exists = VLN
			has_completed_focus = SRA_foreign_relations
		}

		available = {
			RUS_alexander_krivoshein = {
				is_advisor = yes
			}
		}
		
		cost = 50
		
		days_remove = 30

		remove_effect = {
			#makho events, green armies join
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				has_country_leader = {
					character = RUS_pyotr_wrangel
					ruling_only = yes
				}
			}
		}
	}
	SRA_recognize_ukrainian_language = {
		icon = generic_ignite_civil_war	
		allowed = {
			tag = SRA
		}

		visible = {
			UKR = {
				is_free_or_subject_of_root = yes
			}
			has_completed_focus = SRA_ukrainian_question
		}

		available = {
			UKR = {
				is_free_or_subject_of_root = yes
			}
			RUS_alexander_krivoshein = {
				is_advisor = yes
			}
		}
		
		cost = 50
		
		days_remove = 30

		remove_effect = {
			#ukrainians happy
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				has_country_leader = {
					character = RUS_pyotr_wrangel
					ruling_only = yes
				}
			}
		}
	}
	SRA_recognize_upr = {
		icon = generic_ignite_civil_war	
		allowed = {
			tag = SRA
		}

		visible = {
			UKR = {
				is_free_or_subject_of_root = yes
			}
			has_completed_focus = SRA_ukrainian_question
			hidden_trigger = {
				has_country_flag = recognized_ukrainian_language
			}
		}

		available = {
			UKR = {
				is_free_or_subject_of_root = yes
			}
			RUS_alexander_krivoshein = {
				is_advisor = yes
			}
			hidden_trigger = {
				has_country_flag = recognized_ukrainian_language
			}
		}
		
		cost = 50
		
		days_remove = 30

		remove_effect = {
			#gains core on ukraine
		}

		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				has_country_leader = {
					character = RUS_pyotr_wrangel
					ruling_only = yes
				}
			}
		}
	}
}

SRA_rada_interactions = {

	SRA_cossack_land_rights = {
		icon = generic_decision
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		available = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		
		cost = 10
		days_re_enable = 30

		complete_effect = {
			random_controlled_state = {
				limit = {
					state = 579
					state = 234
					state = 941
					state = 940
					state = 233
				}
				add_dynamic_modifier = {
					modifier = SRA_cossack_land_rights
				}
			}
			add_to_variable = {
				SRA_cossack_loyalty = 20
			}
			add_to_variable = {
				SRA_cossack_autonomy = 10
			}
			add_to_variable = {
				SRA_cossack_favours = 10
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {SRA_cossack_loyalty > 100} 
					}
					set_variable = {
						var = SRA_cossack_loyalty
						value = 100
					}
				}
				if = {
					limit = {
						check_variable = {SRA_cossack_autonomy > 100} 
					}
					set_variable = {
						var = SRA_cossack_autonomy
						value = 100
					}
				}
				if = {
					limit = {
						check_variable = {SRA_cossack_favours > 100} 
					}
					set_variable = {
						var = SRA_cossack_favours
						value = 100
					}
				}
			}
			custom_effect_tooltip = SRA_cossack_land_rights_tt
		}

		ai_will_do = {
			factor = 10
		}
	}
	SRA_cossack_self_governance = {
		icon = generic_decision
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		available = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		
		cost = 10
		days_re_enable = 45

		complete_effect = {
			random_controlled_state = {
				limit = {
					state = 579
					state = 234
					state = 941
					state = 940
					state = 233
				}
				add_dynamic_modifier = {
					modifier = SRA_cossack_land_rights
				}
			}
			add_to_variable = {
				SRA_cossack_loyalty = 20
			}
			add_to_variable = {
				SRA_cossack_autonomy = 10
			}
			add_to_variable = {
				SRA_cossack_favours = 10
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {SRA_cossack_loyalty > 100} 
					}
					set_variable = {
						var = SRA_cossack_loyalty
						value = 100
					}
				}
				if = {
					limit = {
						check_variable = {SRA_cossack_autonomy > 100} 
					}
					set_variable = {
						var = SRA_cossack_autonomy
						value = 100
					}
				}
				if = {
					limit = {
						check_variable = {SRA_cossack_favours > 100} 
					}
					set_variable = {
						var = SRA_cossack_favours
						value = 100
					}
				}
			}
			custom_effect_tooltip = SRA_cossack_self_governance_tt
		}

		ai_will_do = {
			factor = 10
		}
	}
	SRA_pay_cossacks = {
		icon = generic_decision
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		available = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		
		cost = 50
		days_re_enable = 45

		complete_effect = {
			add_to_variable = {
				SRA_cossack_loyalty = 20
			}
			add_to_variable = {
				SRA_cossack_autonomy = 0
			}
			add_to_variable = {
				SRA_cossack_favours = 20
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {SRA_cossack_loyalty > 100} 
					}
					set_variable = {
						var = SRA_cossack_loyalty
						value = 100
					}
				}
				if = {
					limit = {
						check_variable = {SRA_cossack_favours > 100} 
					}
					set_variable = {
						var = SRA_cossack_favours
						value = 100
					}
				}
			}
			custom_effect_tooltip = SRA_pay_cossacks_tt
		}

		ai_will_do = {
			factor = 10
		}
	}
	SRA_clamp_down_autonomy = {
		icon = generic_decision
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		available = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		
		cost = 20
		days_re_enable = 45

		complete_effect = {
			add_to_variable = {
				SRA_cossack_loyalty = -30
			}
			add_to_variable = {
				SRA_cossack_autonomy = -20
			}
			add_to_variable = {
				SRA_cossack_favours = 0
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {SRA_cossack_loyalty < 0} 
					}
					set_variable = {
						var = SRA_cossack_loyalty
						value = 0
					}
				}
				if = {
					limit = {
						check_variable = {SRA_cossack_autonomy < 0} 
					}
					set_variable = {
						var = SRA_cossack_autonomy
						value = 0
					}
				}
			}
			custom_effect_tooltip = SRA_clamp_down_autonomy_tt
		}

		ai_will_do = {
			factor = 10
		}
	}
	SRA_receive_fleeing_serfs = {
		icon = generic_decision
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		available = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
			check_variable = {SRA_cossack_loyalty > 30} 
			check_variable = {SRA_cossack_favours > 20} 
		}
		
		cost = 10
		days_re_enable = 30
		days_remove = 14

		complete_effect = {
			add_timed_idea = {
				idea = SRA_receive_fleeing_serfs
				days = 14
			}
			add_to_variable = {
				SRA_cossack_favours = -20
			}
			custom_effect_tooltip = SRA_receive_fleeing_serfs_tt
		}


		ai_will_do = {
			factor = 0
			modifier = {
				factor = 100
				manpower < 10000
			}
		}
	}
	SRA_cossack_raiding_parties = {
		icon = generic_decision
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		available = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
			check_variable = {SRA_cossack_loyalty > 40} 
			check_variable = {SRA_cossack_favours > 20} 
		}
		
		cost = 10
		days_re_enable = 30
		days_remove = 30

		complete_effect = {
			add_timed_idea = {
				idea = SRA_cossack_raids
				days = 30
			}
			add_to_variable = {
				SRA_cossack_favours = -30
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {SRA_cossack_loyalty > 100} 
					}
					set_variable = {
						var = SRA_cossack_loyalty
						value = 100
					}
				}
			}
			custom_effect_tooltip = SRA_cossack_raiding_parties_tt
		}
		remove_effect = {
			random_controlled_state = {
				random_neighbor_state = {
					limit = {
						is_controlled_by = SOV
					}
					damage_building = {
						type = infrastructure
						damage = 0.2
					}
				}
			}
			SOV = {
				add_war_support = -0.025
				random_list = {
					50 = {
						send_equipment = {
							equipment = infantry_equipment
							amount = 100
							target = ROOT
						}
					}
					30 = {
						send_equipment = {
							equipment = infantry_equipment
							amount = 250
							target = ROOT
						}
					}
					20 = {
						send_equipment = {
							equipment = infantry_equipment
							amount = 500
							target = ROOT
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 25
		}
	}
	SRA_raise_cossack_host = {
		icon = generic_decision
		allowed = {
			tag = SRA
		}
		visible = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
		}
		available = {
			has_completed_focus = SRA_negotiations_with_kuban_rada
			check_variable = {SRA_cossack_loyalty > 50} 
			check_variable = {SRA_cossack_favours > 20} 
		}
		
		cost = 25
		days_re_enable = 30
		days_remove = 60

		complete_effect = {
			add_timed_idea = {
				idea = SRA_raise_cossack
				days = 30
			}
			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_template = "AFSR cossacks"
						}
					}
					division_template = {
						name = "AFSR cossacks"
						division_names_group = RUS_GAR_01
						is_locked = yes
						regiments = {
							cavalry = { x = 0 y = 0 }
							cavalry = { x = 0 y = 1 }
							cavalry = { x = 1 y = 0 }
							cavalry = { x = 1 y = 1 }
						}
						support = { 
							artillery = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							engineer = { x = 0 y = 2 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Kuban Cossacks\" division_template = \"AFSR cossacks\" start_experience_factor = 0.5"
					owner = ROOT
					count = 2
					allow_spawning_on_enemy_provs = no
				}
			}
			add_to_variable = {
				SRA_cossack_favours = -40
			}
			custom_effect_tooltip = SRA_raise_cossack_host_tt
		}

		ai_will_do = {
			factor = 25
		}
	}
}

SRA_army_recruitement = {
	SRA_recruit_units = {
		icon = GFX_decision_generic_reorganize_irregulars
		allowed = {
			tag = SRA
		}
		cost = 5
		state_target = yes
		target_array = SRA.core_states
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
		fire_only_once = yes
		on_map_mode = map_only
		days_remove = 0
		visible = {
			controls_state = FROM
			FROM = {
				is_core_of = ROOT
			}
			FROM = {
				NOT = {
					has_state_flag = SRA_has_mobilized
				}
			}
		}
		complete_effect = {
			FROM = {
				set_state_flag = SRA_has_mobilized 
			}
		}
		remove_effect = {
		
			if = {
				limit = {
					NOT = {
						has_template = "ASFR militsiya"
					}
				}
				division_template = {
					name = "ASFR militsiya"
					division_names_group = RUS_GAR_01
					is_locked = yes
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 1 y = 0 }
					}
					support = { 
						artillery = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						engineer = { x = 0 y = 2 }
					}
				}
			}
			FROM = {
				custom_effect_tooltip = SRA_3_infantry_unit
				hidden_effect = {
					create_unit = {
						division = "name = \"ASFR militsiya\" division_template = \"ASFR militsiya\" start_experience_factor = 0.6"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	SRA_recruit_caucasians = {
		icon = GFX_decision_generic_cavalry
		allowed = {
			tag = SRA
		}
		cost = 5
		state_target = yes
		fire_only_once = yes
		targets = {
			579
			232
			565
		}
		on_map_mode = map_only
		days_remove = 0
		visible = {
			controls_state = FROM
			FROM = {
				NOT = {
					has_state_flag = SRA_has_mobilized_caucasians
				}
			}
		}
		complete_effect = {
			FROM = {
				set_state_flag = SRA_has_mobilized_caucasians
			}
		}
		remove_effect = {
		
			if = {
				limit = {
					NOT = {
						has_template = "ASFR caucasian cavalry"
					}
				}
				division_template = {
					name = "ASFR caucasian cavalry"
					division_names_group = RUS_GAR_01
					is_locked = yes
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 0 y = 2 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
						cavalry = { x = 1 y = 2 }
					}
				}
			}
			FROM = {
				custom_effect_tooltip = SRA_6_cavalry_unit
				hidden_effect = {
					create_unit = {
						division = "name = \"ASFR caucasian cavalry\" division_template = \"ASFR caucasian cavalry\" start_experience_factor = 0.6"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	SRA_recruit_cossacks = {
		icon = GFX_decision_generic_cavalry
		allowed = {
			tag = SRA
		}
		cost = 5
		state_target = yes
		fire_only_once = yes
		targets = {
			579
			232
			565
			234
			941
			218
			238
			245
			265
		}
		on_map_mode = map_only
		days_remove = 0
		visible = {
			controls_state = FROM
			FROM = {
				is_core_of = ROOT
			}
			FROM = {
				NOT = {
					has_state_flag = SRA_has_mobilized_cossacks
				}
			}
		}
		complete_effect = {
			FROM = {
				set_state_flag = SRA_has_mobilized_cossacks 
			}
		}
		remove_effect = {
		
			if = {
				limit = {
					NOT = {
						has_template = "ASFR cossacks"
					}
				}
				division_template = {
					name = "ASFR cossacks"
					division_names_group = RUS_GAR_01
					is_locked = yes
					regiments = {
						cavalry = { x = 0 y = 0 }
						cavalry = { x = 0 y = 1 }
						cavalry = { x = 1 y = 0 }
						cavalry = { x = 1 y = 1 }
					}
					support = { 
						artillery = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						engineer = { x = 0 y = 2 }
					}
				}
			}
			FROM = {
				custom_effect_tooltip = SRA_4_calvary_unit
				hidden_effect = {
					create_unit = {
						division = "name = \"ASFR cossacks\" division_template = \"ASFR cossacks\" start_experience_factor = 0.6"
						owner = ROOT
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

RUS_support_in_civil_war = {
	send_equipment_to_FROM_rifles = {
		visible = {
			is_major = yes
			NOT = {
				has_war_with = SRA
			}
		}
		custom_cost_text = 1000_infantry_equipment_and_25pp
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				infantry_equipment > 999
			}
		}
		days_remove = 30
		days_re_enable = 30
		target_trigger = {
			has_country_flag = can_send_to_SRA
			FROM = {
				AND = {
					tag = SRA
				}
			}
		}
		available = {
			has_equipment = {
				infantry_equipment > 999
			}
			check_variable = {
				lend_lease_ongoing < 2
			} 
			custom_effect_tooltip = SRA_lend_lease_ongoing_tt
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -1000
				}
				SRA = {
					activate_mission = SRA_lend_lease_mock_inf
				}
			}
			add_to_variable = {
				lend_lease_ongoing = 1
			}
		}
		remove_effect = {
			effect_tooltip = {
				send_equipment = {
					equipment = infantry_equipment
					amount = 1000
					target = SRA
				}
			}
			add_to_variable = {
				lend_lease_ongoing = -1
			}
			custom_effect_tooltip = back_in_30_days
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 50
				GER = {
					is_great_war_loser = yes
				}
			}
		}
	}
	send_equipment_to_SRA_support = {
		visible = {
			is_major = yes
			NOT = {
				has_war_with = SRA
			}
		}
		custom_cost_text = 150_support_equipment_and_25pp
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				support_equipment > 149
			}
		}
		days_remove = 30
		days_re_enable = 45
		target_trigger = {
			FROM = {
				AND = {
					ROOT = {
						has_country_flag = can_send_to_SRA
					}
					tag = SRA
				}
			}
		}
		available = {
			has_equipment = {
				support_equipment > 149
			}
			check_variable = {
				lend_lease_ongoing < 2
			} 
			custom_effect_tooltip = SRA_lend_lease_ongoing_tt
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = -150
				}
				SRA = {
					activate_mission = SRA_lend_lease_mock_support
				}
			}
			add_to_variable = {
				lend_lease_ongoing = 1
			}
		}
		remove_effect = {
			effect_tooltip = {
				send_equipment = {
					equipment = support_equipment
					amount = 150
					target = SRA
				}
			}
			add_to_variable = {
				lend_lease_ongoing = -1
			}
			custom_effect_tooltip = back_in_45_days
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 50
				GER = {
					is_great_war_loser = yes
				}
			}
		}
	}
	send_equipment_to_SRA_artillery = {
		visible = {
			is_major = yes
			NOT = {
				has_war_with = SRA
			}
		}
		custom_cost_text = 50_artillery_equipment_and_25pp
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				artillery_equipment > 49
			}
		}
		days_remove = 30
		days_re_enable = 60
		target_trigger = {
			FROM = {
				AND = {
					ROOT = {
						has_country_flag = can_send_to_SRA
					}
					tag = SRA
				}
			}
		}
		available = {
			has_equipment = {
				artillery_equipment > 49
			}
			check_variable = {
				lend_lease_ongoing < 2
			} 
			custom_effect_tooltip = SRA_lend_lease_ongoing_tt
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = -50
				}
				SRA = {
					activate_mission = SRA_lend_lease_mock_arty
				}
			}
			add_to_variable = {
				lend_lease_ongoing = 1
			}
		}
		remove_effect = {
			effect_tooltip = {
				send_equipment = {
					equipment = artillery_equipment
					amount = 50
					target = SRA
				}
			}
			add_to_variable = {
				lend_lease_ongoing = -1
			}
			custom_effect_tooltip = back_in_60_days
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 50
				GER = {
					is_great_war_loser = yes
				}
			}
		}
	}
	send_equipment_to_SRA_fighter = {
		visible = {
			is_major = yes
			NOT = {
				has_war_with = SRA
			}
		}
		custom_cost_text = 15_fighter_equipment_and_25pp
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				fighter_equipment > 14
			}
		}
		days_remove = 30
		days_re_enable = 60
		target_trigger = {
			FROM = {
				AND = {
					ROOT = {
						has_country_flag = can_send_to_SRA
					}
					tag = SRA
				}
			}
		}
		available = {
			has_equipment = {
				fighter_equipment > 14
			} 
			check_variable = {
				lend_lease_ongoing < 2
			} 
			custom_effect_tooltip = SRA_lend_lease_ongoing_tt
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = fighter_equipment
					amount = -15
				}
				SRA = {
					activate_mission = SRA_lend_lease_mock_fighter
				}
			}
			add_to_variable = {
				lend_lease_ongoing = 1
			}
		}
		remove_effect = {
			effect_tooltip = {
				send_equipment = {
					equipment = fighter_equipment
					amount = 15
					target = SRA
				}
			}
			add_to_variable = {
				lend_lease_ongoing = -1
			}
			custom_effect_tooltip = back_in_60_days
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 50
				GER = {
					is_great_war_loser = yes
				}
			}
		}
	}
	send_equipment_to_SRA_tanks = {
		visible = {
			is_major = yes
			NOT = {
				has_war_with = SRA
			}
		}
		custom_cost_text = 10_fighter_equipment_and_25pp
		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = {
				heavy_tank_equipment > 9
			}
		}
		days_remove = 30
		days_re_enable = 60
		target_trigger = {
			FROM = {
				AND = {
					ROOT = {
						has_country_flag = can_send_to_SRA
					}
					tag = SRA
				}
			}
		}
		available = {
			has_equipment = {
				heavy_tank_equipment > 9
			} 
			check_variable = {
				lend_lease_ongoing < 2
			} 
			custom_effect_tooltip = SRA_lend_lease_ongoing_tt
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = heavy_tank_equipment
					amount = -10
				}
				SRA = {
					activate_mission = SRA_lend_lease_mock_tanks
				}
			}
			add_to_variable = {
				lend_lease_ongoing = 1
			}
		}
		remove_effect = {
			effect_tooltip = {
				send_equipment = {
					equipment = heavy_tank_equipment
					amount = 10
					target = SRA
				}
			}
			add_to_variable = {
				lend_lease_ongoing = -1
			}
			custom_effect_tooltip = back_in_60_days
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 50
				GER = {
					is_great_war_loser = yes
				}
			}
		}
	}
}

#kept for revert
# RUS_support_in_civil_war = {
# 	ask_help_to_someone = {
# 		visible = {
# 			tag = SRA
# 		}
# 		cost = 25
# 		fire_only_once = yes
# 		target_trigger = {
# 			FROM = {
# 				is_major = yes
# 				NOT = {
# 					tag = GER
# 					is_in_faction_with = GER
# 					has_country_flag = great_war_loser
# 				}
# 				OR = {
# 					has_war_with = GER
# 					has_war_together_with = ROOT
# 					AND = {
# 						GER = {
# 							has_country_flag = great_war_loser	
# 						}
# 						has_country_flag = great_war_winner	#russian side won
# 					}
# 				}
# 				capital_scope = {
# 					OR = {
# 						is_on_continent = europe
# 						is_on_continent = north_america
# 					}
# 				}
# 				NOT = {
# 					has_war_with = ROOT
# 					has_government = communism
# 					is_in_faction_with = SOV
# 				}
# 			}
# 		}
# 		remove_effect = {
# 			FROM = {
# 				country_event = {
# 					id = ww1_sra.32
# 					days = 2
# 				}
# 			}
# 		}
# 	}
# 	send_equipment_to_FROM_rifles = {
# 		visible = {
# 			is_major = yes
# 			NOT = {
# 				has_war_with = SRA
# 			}
# 		}
# 		custom_cost_text = 1000_infantry_equipment_and_25pp
# 		custom_cost_trigger = {
# 			has_political_power > 24
# 			has_equipment = {
# 				infantry_equipment > 999
# 			}
# 		}
# 		days_remove = 30
# 		days_re_enable = 60
# 		target_trigger = {
# 			has_country_flag = can_send_to_SRA
# 			FROM = {
# 				AND = {
# 					tag = SRA
# 					has_country_flag = SRA_call_for_help
# 				}
# 			}
# 		}
# 		available = {
# 			has_equipment = {
# 				infantry_equipment > 999
# 			}
# 			NOT = {
# 				has_country_flag = is_sending_equipement_to_FROM
# 			}
# 		}
# 		complete_effect = {
# 			add_equipment_to_stockpile = {
# 				type = infantry_equipment
# 				amount = -1000
# 			}
# 			set_country_flag = is_sending_equipement_to_FROM
# 		}
# 		remove_effect = {
# 			clr_country_flag = is_sending_equipement_to_FROM
# 			FROM = {
# 				country_event = {
# 					id = ww1_sra.29
# 					days = 2
# 				}
# 			}
# 			custom_effect_tooltip = back_in_60_days
# 		}
# 	}
# 	send_equipment_to_SRA_artillery = {
# 		visible = {
# 			is_major = yes
# 			NOT = {
# 				has_war_with = SRA
# 			}
# 		}
# 		custom_cost_text = 50_artillery_equipment_and_25pp
# 		custom_cost_trigger = {
# 			has_political_power > 24
# 			has_equipment = {
# 				artillery_equipment > 49
# 			}
# 		}
# 		days_remove = 30
# 		days_re_enable = 60
# 		target_trigger = {
# 			FROM = {
# 				AND = {
# 					ROOT = {
# 						has_country_flag = can_send_to_SRA
# 					}
# 					tag = SRA
# 					has_country_flag = SRA_call_for_help
# 				}
# 			}
# 		}
# 		available = {
# 			has_equipment = {
# 				artillery_equipment > 49
# 			}
# 			NOT = {
# 				has_country_flag = is_sending_equipement_to_FROM
# 			}
# 		}
# 		complete_effect = {
# 			add_equipment_to_stockpile = {
# 				type = artillery_equipment
# 				amount = -50
# 			}
# 			set_country_flag = is_sending_equipement_to_FROM
# 		}
# 		remove_effect = {
# 			clr_country_flag = is_sending_equipement_to_FROM
# 			FROM = {
# 				country_event = {
# 					id = ww1_sra.30
# 					days = 2
# 				}
# 			}
# 			custom_effect_tooltip = back_in_60_days
# 		}
# 	}
# 	send_equipment_to_SRA_fighter = {
# 		visible = {
# 			is_major = yes
# 			NOT = {
# 				has_war_with = SRA
# 			}
# 		}
# 		custom_cost_text = 15_fighter_equipment_and_25pp
# 		custom_cost_trigger = {
# 			has_political_power > 24
# 			has_equipment = {
# 				fighter_equipment > 14
# 			}
# 		}
# 		days_remove = 30
# 		days_re_enable = 60
# 		target_trigger = {
# 			FROM = {
# 				AND = {
# 					ROOT = {
# 						has_country_flag = can_send_to_SRA
# 					}
# 					tag = SRA
# 					has_country_flag = SRA_call_for_help
# 				}
# 			}
# 		}
# 		available = {
# 			has_equipment = {
# 				fighter_equipment > 14
# 			}
# 			NOT = {
# 				has_country_flag = is_sending_equipement_to_FROM
# 			}
# 		}
# 		complete_effect = {
# 			add_equipment_to_stockpile = {
# 				type = fighter_equipment
# 				amount = -15
# 			}
# 			set_country_flag = is_sending_equipement_to_FROM
# 		}
# 		remove_effect = {
# 			clr_country_flag = is_sending_equipement_to_FROM
# 			FROM = {
# 				country_event = {
# 					id = ww1_sra.31
# 					days = 2
# 				}
# 			}
# 			custom_effect_tooltip = back_in_60_days
# 		}
# 	}
# }