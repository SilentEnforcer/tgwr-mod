debug_decisions = {
	init_loyalties = {
		allowed = {
			tag = FRA
		}
		available = {
			is_ai = no
		}
		visible = {
			is_debug = yes
				has_country_flag = FRA_communist_want_more_reforms
		}
		complete_effect = {
			init_front_populaire = yes
		}
	}
	refresh_bars = {
		allowed = {
			tag = FRA
		}
		available = {
			is_ai = no
		}
		visible = {
			is_debug = yes
				has_country_flag = FRA_communist_want_more_reforms
		}
		complete_effect = {
			refresh_front_popular_progressbar = yes
		}
	}
	vote_controversal_sfio_law = {
		allowed = {
			tag = FRA
		}
		available = {
			is_ai = no
		}
		visible = {
			is_debug = yes
			has_country_flag = FRA_communist_want_more_reforms
		}
		complete_effect = {
			set_temp_variable = {
				v = 0	#the party id
			}
			set_temp_variable = {
				loyalty_gain = 10
			}
			setup_winner_tooltip = yes
			add_to_variable = {
				hardline_SFIO_loyalty = loyalty_gain
			}
			add_to_variable = {
				SFIO_law_passed = 1
			}
			custom_effect_tooltip = party_coalition_gain_loyalty

			#LOSERS

			set_temp_variable = {
				v = 2	#the party id
			}
			set_temp_variable = {
				loyalty_lose = 20	#how much they lose
			}
			setup_loser_tooltip = yes
			custom_effect_tooltip = party_coalition_lose_loyalty 
			add_to_variable = {
				liberal_socialists_loyalty = loyalty_lose
			}



			set_temp_variable = {
				v = 3	#the party id
			}
			set_temp_variable = {
				loyalty_lose = 10	#how much they lose
			}
			setup_loser_tooltip = yes
			custom_effect_tooltip = party_coalition_lose_loyalty 
			add_to_variable = {
				radical_party_loyalty = loyalty_lose
			}

			refresh_front_popular_progressbar = yes
		}
	}
	vote_random_sfio_law = {
		allowed = {
			tag = FRA
		}
		available = {
			is_ai = no
		}
		visible = {
			is_debug = yes
			has_country_flag = FRA_communist_want_more_reforms
		}
		complete_effect = {
			set_temp_variable = {
				v = 0	#the party id
			}
			set_temp_variable = {
				loyalty_gain = 10
			}
			setup_winner_tooltip = yes
			add_to_variable = {
				hardline_SFIO_loyalty = loyalty_gain
			}
			add_to_variable = {
				SFIO_law_passed = 1
			}
			refresh_front_popular_progressbar = yes
			custom_effect_tooltip = party_coalition_gain_loyalty
		}
	}
}
FRA_ai_only_decision = {
	FRA_emergency_mobilization = {
		allowed = {
			tag = FRA
		}
		available = {
			is_ai = yes
			date > 1914.5.10
			is_historical_focus_on = yes
			has_start_date < 1914.1.1	
			NOT = {
				has_country_flag = FRA_emergency_mobilization
			}
		}
		visible = {
			is_ai = yes
		}
		fire_only_once = no
		ai_will_do = {
			factor = 1000
		}
		complete_effect = {
			set_country_flag = FRA_emergency_mobilization
			division_template = {
				name = "Division d'Infanterie"	
				division_names_group = FRA_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
					infantry = { x = 3 y = 0 }
					infantry = { x = 3 y = 1 }
					infantry = { x = 3 y = 2 }
					artillery_brigade = { x = 3 y = 3 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
			if = {
				limit = {
					has_army_manpower = {
						size < 1500000
					}
				}
				24 = {
					create_unit = {
						division = "division_template = \"Division d'Infanterie\"	start_experience_factor = 0.1	start_equipment_factor = 0.1"
						owner = FRA
						allow_spawning_on_enemy_provs = no
						count = 14
					}
				}
			}
			if = {
				limit = {
					has_army_manpower = {
						size < 1400000
					}
				}
				24 = {
					create_unit = {
						division = "division_template = \"Division d'Infanterie\"	start_experience_factor = 0.1	start_equipment_factor = 0.1"
						owner = FRA
						allow_spawning_on_enemy_provs = no
						count = 14
					}
				}
			}
			if = {
				limit = {
					has_army_manpower = {
						size < 1200000
					}
				}
				24 = {
					create_unit = {
						division = "division_template = \"Division d'Infanterie\"	start_experience_factor = 0.1	start_equipment_factor = 0.1"
						owner = FRA
						allow_spawning_on_enemy_provs = no
						count = 14
					}
				}
			}
		}
	}
}

FRA_french_bop = {
	
	FRA_guesdists_get_soreleans = {
		icon = GFX_decision_SWI_no_elected_president
		allowed = {
			original_tag = FRA
		}
		visible = {
			has_power_balance = { id = FRA_anarchists_reformists }
		}
		remove_effect = {
			effect_tooltip = {
				add_stability = -0.05
				add_power_balance_value = {
					id = FRA_anarchists_reformists
					value = -0.10
				}
			}
			country_event = {
				id = ww1_france.399
				days = 1
			}
		}
		days_remove = 7
		fire_only_once = yes
		cost = 10
		ai_will_do = {
			factor = 1000
			modifier = {
				has_country_flag = FRA_reformists_will_be_dominants
				factor = 0
			}
		}
	}

	FRA_guesdists_support_blanquism = {
		icon = GFX_decision_SWI_no_elected_president
		allowed = {
			original_tag = FRA
		}
		visible = {
			has_power_balance = { id = FRA_anarchists_reformists }
		}
		remove_effect = {
			add_power_balance_value = {
				id = FRA_anarchists_reformists
				value = -0.20
			}
		}
		days_remove = 15
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 1000
			modifier = {
				has_country_flag = FRA_reformists_will_be_dominants
				factor = 0
			}
		}
	}

	FRA_guesdists_gather_support = {
		icon = GFX_decision_SWI_no_elected_president
		allowed = {
			original_tag = FRA
		}
		visible = {
			has_power_balance = { id = FRA_anarchists_reformists }
		}
		modifier = {
			power_balance_daily = -0.0020
		}
		remove_effect = {
			custom_effect_tooltip = back_in_60_days
		}
		days_remove = 80
		days_re_enable = 60
		fire_only_once = no
		cost = 10
		ai_will_do = {
			factor = 1000
			modifier = {
				has_country_flag = FRA_reformists_will_be_dominants
				factor = 0
			}
		}
	}

	FRA_allemanists_gather_support = {
		icon = GFX_decision_SWI_no_elected_president
		allowed = {
			original_tag = FRA
		}
		visible = {
			has_power_balance = { id = FRA_anarchists_reformists }
		}
		modifier = {
			power_balance_daily = 0.0020
		}
		remove_effect = {
			custom_effect_tooltip = back_in_60_days
		}
		days_remove = 80
		days_re_enable = 60
		fire_only_once = no
		cost = 10
		ai_will_do = {
			factor = 1000
			modifier = {
				has_country_flag = FRA_anarchists_will_be_dominants
				factor = 0
			}
		}
	}

	FRA_allemanists_cooperate_with_independant_socialists = {
		icon = GFX_decision_SWI_no_elected_president
		allowed = {
			original_tag = FRA
		}
		visible = {
			has_power_balance = { id = FRA_anarchists_reformists }
		}
		remove_effect = {
			add_power_balance_value = {
				id = FRA_anarchists_reformists
				value = 0.15
			}
		}
		days_remove = 15
		fire_only_once = yes
		cost = 25
		ai_will_do = {
			factor = 1000
			modifier = {
				has_country_flag = FRA_anarchists_will_be_dominants
				factor = 0
			}
		}
	}

	FRA_allemanists_sponsor_radical_socialist_union = {
		icon = GFX_decision_SWI_no_elected_president
		allowed = {
			original_tag = FRA
		}
		visible = {
			has_power_balance = { id = FRA_anarchists_reformists }
		}
		remove_effect = {
			add_power_balance_value = {
				id = FRA_anarchists_reformists
				value = 0.15
			}
		}
		days_remove = 15
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 1000
			modifier = {
				has_country_flag = FRA_anarchists_will_be_dominants
				factor = 0
			}
		}
	}
}

FRA_situation_in_morocco = {
	FRA_situation_in_morocco = {
		icon = GFX_decision_generic_naval
		allowed = {
			original_tag = FRA
		}	
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					is_subject = yes
					MOR = {
						OR = {
							exists = no
							is_subject = yes
							has_country_flag = FRA_has_annexed_morocco
						}
					}
					has_country_flag = great_war_loser 
					AND = {
						has_war = yes
						NOT = { has_idea = FRA_wadai_war }			
					}
					has_global_flag = FRA_MOR_war	
				}				
			}
		}
		target_trigger = {
			FROM = {
				tag = MOR
			}		
		}
		visible = {
			NOT = {
				has_global_flag = FRA_MOR_war	
			}
			NOT = {
				has_war_with = MOR
			}
		}
		fire_only_once = yes #it will not disappear otherwise
		selectable_mission = yes
		activation = {
			date > 1910.8.8
			is_subject = no 
			NOT = {
				has_global_flag = FRA_MOR_war	
			}
			MOR = {
				exists = yes
				is_subject = no
				NOT = {
					has_war_with = FRA
				}
				NOT = {
					has_country_flag = FRA_has_annexed_morocco
				}	
				NOT = { 
					has_country_flag = great_war_loser 
				}
			}		
			OR = {
				has_war = no
				has_idea = FRA_wadai_war					
			}			
		}
		days_mission_timeout = 380
		cost = 50
		ai_will_do = {
			factor = 0
			modifier = {
				date > 1911.4.20
				factor = 5
			}
			modifier = {
				date > 1911.5.5
				factor = 1000
			}
		}
		is_good = yes
		timeout_effect = {
			add_stability = -0.05
			MOR = {
				country_event =  {
					id = ww1_morocco.1
					hours = 3
				}
				set_country_flag = FRA_has_annexed_morocco
			}			
		}
		complete_effect = {
			MOR = {
				country_event =  {
					id = ww1_morocco.1
					hours = 3
				}
				set_country_flag = FRA_has_annexed_morocco
			}			
		}
	}
	FRA_leave_MOR = {
		allowed = {
			original_tag = FRA
		}
		icon = GFX_decision_generic_prepare_civil_war
		activation = {
			has_war_with = MOR
			any_owned_state = {
				is_core_of = MOR
			}
		}
		available = {
			has_war_with = MOR
			MOR = {
				has_full_control_of_state = 108
				has_full_control_of_state = 462
				has_full_control_of_state = 461
				has_full_control_of_state = 290
				has_full_control_of_state = 996
			}
		}
		cancel_trigger = {
			MOR = {
				NOT = {
					has_war_with = FRA
				}
			}
		}
		visible = {
			has_war_with = MOR
		}
		ai_will_do = {
			factor = 100
		}
		days_mission_timeout = 360
		selectable_mission = yes
		complete_effect = {
			set_global_flag = FRA_MOR_moroccan_victory
			MOR = {
				country_event = {
					id = ww1_morocco.31
					hours = 6
				}
			}
		}
		timeout_effect = {
			set_global_flag = FRA_MOR_moroccan_victory
			MOR = {
				country_event = {
					id = ww1_morocco.32
					hours = 6
				}
			}			
		}
	}
}

GER_great_war = {
	FRA_pull_out_from_mali = {
		icon = GFX_decision_eng_blackshirt_march
		allowed = {
			original_tag = FRA
		}
		target_trigger = {
			FROM = {
				tag = MLI
			}
		}
		visible = {
			has_war_with = MLI
			NOT = {
				has_global_flag = mali_war_end
			}
		}
		complete_effect = {
			every_country = {
				limit = {
					OR = {
						tag = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
					has_war_with = MLI
				}
				white_peace = MLI
			}
			set_global_flag = mali_war_end
			MLI = {
				transfer_state = 779
				transfer_state = 780
			}
			hidden_effect = {
				MLI = {
					leave_faction = yes
				}
			}
		}
		fire_only_once = yes
		ai_will_do = {
			base = 0
			modifier = {
				add = 500
				surrender_progress > 0.5
			}
			modifier = {
				add = 500
				MLI = {
					controls_state = 779
					controls_state = 780
				}
			}
		}
	}
	FRA_restore_order_in_tunisia = {
		icon = GFX_decision_fra_advisors
		fire_only_once = no
		allowed = {
			original_tag = FRA
		}
		visible = {
			NOT = { has_country_flag = great_war_loser }
			FROM = {
				exists = yes
				NOT = {
					is_subject_of = ROOT
				}
			}
		}
		custom_cost_trigger = {
			command_power > 9
		}
		custom_cost_text = decision_cost_CP_10
		target_trigger = {
			FROM = {
				original_tag = TUN
			}
		}
		available = {
			TUN = {
				has_war = no
				is_subject = no
			}
			NOT = {
				has_idea = idea_army_restrictions
				has_idea = FRA_interim_government
			}
			has_country_flag = FRA_intervention_in_tunisia
			NOT = {
				has_country_flag = france_intervention_started
			}
		}
		ai_will_do = {
			factor = 10
		}
		days_remove = 14
		war_with_on_remove = TUN
		complete_effect = {
			add_ai_strategy = {
				type = prepare_for_war
				id = TUN
				value = 25
			}
		}
		remove_effect = {
			set_country_flag = france_intervention_started
			FRA = {
				declare_war_on = {
					target = TUN
					type = annex_everything
				} 
			}
			activate_mission= FRA_tunisia_war_timer
		}
	}
	FRA_tunisia_war_timer = {
		icon = generic_prepare_civil_war
		days_mission_timeout = 180
		allowed = {
			OR = {
				original_tag = FRA
				original_tag = TUN
			}
		}
		visible = {
			hidden_trigger = {
				OR = {
					has_war_with = TUN
					has_war_with = FRA
				}
				NOT = {
					has_global_flag = france_tunisia_war_end
				}
			}
		}
		available = {
			hidden_trigger = {
				NOT = {
					has_war_with = TUN
					has_war_with = FRA
				}
				has_global_flag = france_tunisia_war_end
			}
		}
		cancel_if_not_visible = yes
		fixed_random_seed = no
		is_good = no
		fire_only_once = yes
		timeout_effect = {
			FRA = {
				add_war_support = -0.05
				white_peace = TUN
			}
			set_country_flag = france_lost_tunisia
		}
	}
	FRA_send_janin_to_russia = {
		icon = GFX_decision_fra_advisors
		fire_only_once = no
		allowed = {
			original_tag = FRA
		}
		visible = {
			NOT = { has_global_flag = great_war_ends }
			FROM = {
				exists = yes
				is_subject = no
			}
			OR = {
				is_in_faction_with = FROM
				FROM = {
					tag = SIB
					has_war_with = SOV
					NOT = {
						has_war_with = ROOT
						has_government = communism
						ROOT = { has_government = communism }
					}
				}
			}
			has_character = FRA_maurice_janin
		}
		custom_cost_trigger = {
			command_power > 9
		}
		custom_cost_text = decision_cost_CP_10
		target_trigger = {
			FROM = {
				original_tag = RUS
			}
		}
		available = {
			any_other_country = {
				OR = {
					is_major = yes
					tag = SOV
				}	
				has_war_with = FROM
			}
			NOT = {
				has_idea = idea_army_restrictions
				has_idea = FRA_interim_government
			}
		}
		ai_will_do = {
			factor = 1000
			modifier = {
				date < 1916.8.8
				factor = 0
			}
		}
		complete_effect = {
			effect_tooltip = {
				FRA_maurice_janin = {
					set_nationality = FROM
				}
				FROM = { add_command_power = 25 }
			}
			hidden_effect = {
				set_country_flag = FRA_janin_sent_to_russia
				add_command_power = -10
				FROM = {
					country_event = {
						id = ww1_france.240
						hours = 5
					}
				}
			}
		}
	}

	FRA_fsn_coup = {
		icon = GFX_decision_eng_blackshirt_march
		allowed = {
			tag = FRA
		}
		activation = {
			has_global_flag = FRA_capitulation_alone
			tag = FRA
			has_idea = FRA_interim_government
			any_other_country = {
				is_in_faction_with = ROOT
				has_war_with = GER
			}
			is_subject = no
			NOT = {
				has_war_with = GER
				has_global_flag = great_war_ends
				has_country_flag = has_capitulated_with_france_early #time spent
			}
			GER = {
				OR = {
					surrender_progress > 0.15
					AND = {
						surrender_progress > 0.01
						OR = {
							has_idea =  ger_famine
							surrender_progress > 0.05
						}
						OR = {
							has_war_support < 0.10
							has_stability < 0.10
						}
					}
					has_global_flag = GER_capitulation
				}
			}
		}
		available = {
			OR = {
				has_war_with = GER
				is_subject = yes
				has_global_flag = great_war_ends
				has_capitulated = yes
				GER = { has_war = no }
			}
		}
		fire_only_once = no
		days_mission_timeout = 4
		timeout_effect = {
			country_event = ww1_france.311
		}
	}
}

FRA_railway_guns = {
	FRA_340mm_mle_1893 = {
		icon = GFX_decision_ger_military_buildup
		fire_only_once = no
		days_remove = 180
		allowed = {
			original_tag = FRA
		}
		days_re_enable = 180
		custom_cost_trigger = {
			command_power > 49
			num_of_civilian_factories > 5
		}
		custom_cost_text = decision_cost_CP_50_5_civ
		
		available = {
			has_tech = railway_gun
			custom_trigger_tooltip = {
				tooltip = fra_less_than_5_railway_gun
				check_variable = {
					railwayGunBuilt < 5
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				command_power > 80
				factor = 2
			}
			modifier = {
				has_war = yes
				factor = 50
			}
		}
		visible = {
			tag = FRA
			NOT = {
				has_global_flag = great_war_ends
			}
		}

		modifier = {
			civilian_factory_use = 5
		}

		complete_effect = {
			add_command_power = -50
		}
		
		remove_effect = {
			create_railway_gun = {
				equipment = railway_gun_equipment_1
				name = "Canon de 340 modÃ¨le 1893 glissement"
			}
			add_to_variable = {
				var = railwayGunBuilt value = 1
			}
			custom_effect_tooltip = back_in_180_days
		}
	}
	FRA_use_gaz_shells = {
		icon = GFX_decision_generic_artillery_icon
		fire_only_once = no
		days_remove = 90
		allowed = {
			original_tag = FRA
		}
		days_re_enable = 14
		cost = 50
		
		available = {
			has_tech = railway_gun
			custom_trigger_tooltip = {
				tooltip = fra_at_least_1_railwaygun
				check_variable = {
					railwayGunBuilt > 0
				}
			}
			has_war = yes
		}
		ai_will_do = {
			factor = 0
			modifier = {
				has_political_power > 100
				check_variable = {
					railwayGunBuilt > 1
				}
				factor = 2
			}
		}
		modifier = {
			railway_gun_bombardment_factor = 0.50
		}
		visible = {
			tag = FRA
			NOT = {
				has_global_flag = great_war_ends
			}
		}

		complete_effect = {
			add_political_power = -50
		}
		
		remove_effect = {
			custom_effect_tooltip = back_in_180_days
		}
	}
}

FRA_fortifications = {

	FRA_fund_engineering_corps = {
		icon = GFX_decision_generic_wreckers
		fire_only_once = no
		days_remove = 3
		allowed = {
			original_tag = FRA
		}
		cost = 50
		days_re_enable = 60
		available = {
			command_power < 50
		}
		ai_will_do = {
			factor = 5
			modifier = {
				command_power < 10
				factor = 10
			}
			modifier = {
				command_power < 25
				has_war = yes
				factor = 15
			}
			modifier = {
				has_manpower < 50000
				factor = 0 #go change conscription law with your PP
			}
		}
		visible = {
			tag = FRA
		}
		
		remove_effect = {
			custom_effect_tooltip = back_in_60_days
			add_command_power = 25
		}
	}

	FRA_leveau_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			29 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				2900
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_leveau_fort_text
			hidden_effect = {
				29 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 2900
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}

	FRA_montbart_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			27 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				698
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_montbart_fort_text
			hidden_effect = {
				27 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 698
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}

	FRA_croixdebretagne_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			21 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				3764
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_croixdebretagne_fort_text
			hidden_effect = {
				21 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 3764
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}
	
	FRA_uxegney_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			17 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				521
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_uxegney_fort_text
			hidden_effect = {
				17 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 521
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}

	FRA_telegraphe_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			735 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				9745
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_telegraphe_fort_text
			hidden_effect = {
				735 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 9745
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}

	FRA_boulemont_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			17 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				11488
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_boulemont_fort_text
			hidden_effect = {
				18 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 11488
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}

	FRA_ayvelles_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			18 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				9472
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_ayvelles_fort_text
			hidden_effect = {
				18 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 9472
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}

	FRA_fort_of_maulde = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			29 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				11606
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_fort_of_maulde_text
			hidden_effect = {
				29 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 11606
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}
	FRA_fort_douaumont = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			17 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				3560
			}
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 2
		}
		remove_effect = {
			custom_effect_tooltip = FRA_fort_douaumont_text
			hidden_effect = {
				17 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 3560
					}
				}
			}
		}

		complete_effect = {
			add_command_power = -25
		}
	}

	FRA_vaux_fort = {
		icon = GFX_decision_generic_fort
		cost = 20
		fire_only_once = yes
		days_remove = 30
		allowed = {
			original_tag = FRA
		}
		custom_cost_trigger = {
			command_power > 25
		}
		custom_cost_text = decision_cost_CP_25
		available = {
			17 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				3560
			}
			highlight_color_while_active = 1
		}
		
		remove_effect = {
			custom_effect_tooltip = FRA_vaux_fort_text
			hidden_effect = {
				17 = {
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = 3560
					}
				}
			}
		}
		ai_will_do = {
			factor = 2
		}
		complete_effect = {
			add_command_power = -25
		}
	}

}

#battle of france
#battle_of_france
FRA_defense_of_france = {

	FRA_fufill_schneider_contract = {
		icon = GFX_decision_generic_protection
		allowed = {
			original_tag = FRA
		}
		activation = {
			has_country_flag = FRA_ww1_CA1_early_production
			NOT = {
				has_country_flag = FRA_schneider_contract_fulfilled
			}
		}
		visible = {
			has_country_flag = FRA_ww1_CA1_early_production
		}
		fire_only_once = yes
		available = {
			tag = FRA
			custom_trigger_tooltip = {
				tooltip = FRA_medium_tanks_on_the_field
				OR = {
					check_variable = { num_equipment_in_armies@medium_tank_chassis > 399 }
					has_equipment = {
						medium_tank_chassis > 399
					}
				}
			}
		}
		days_mission_timeout = 360
		complete_effect = {
			set_country_flag = FRA_schneider_contract_fulfilled
			add_war_support = 0.02
			mio:FRA_schneider_tanks_organization = {
				add_mio_funds = 1500
			}
			
		}
		timeout_effect = {
			add_political_power = -25
		}
		is_good = no
	}

	FRA_fufill_renault_contract = {
		icon = GFX_decision_generic_protection
		allowed = {
			original_tag = FRA
		}
		activation = {
			has_country_flag = FRA_ww1_form_the_armored_spearhead
			NOT = {
				has_country_flag = FRA_renault_contract_fulfilled
			}
		}
		visible = {
			has_country_flag = FRA_ww1_form_the_armored_spearhead
		}
		fire_only_once = yes
		available = {
			tag = FRA
			custom_trigger_tooltip = {
				tooltip = FRA_light_tanks_on_the_field
				OR = {
					check_variable = { num_equipment_in_armies@light_tank_chassis > 1850 }
					has_equipment = {
						light_tank_chassis > 1850
					}
				}
			}
		}
		days_mission_timeout = 720
		complete_effect = {
			set_country_flag = FRA_renault_contract_fulfilled
			add_war_support = 0.02
			mio:FRA_renault_organization = {
				add_mio_funds = 1500
			}
		}
		timeout_effect = {
			add_war_support = -0.05
		}
		is_good = no
	}

	FRA_move_capital_in_bordeaux = {
		icon = GFX_decision_generic_protection
		allowed = {
			original_tag = FRA
		}
		cost = 25
		available = {
			capital_scope = {
				any_neighbor_state = {
					NOT = {
						is_fully_controlled_by = ROOT
					}
				}
			}
			any_enemy_country = {
				is_major = yes
			}
			19 = {
				is_owned_and_controlled_by = ROOT
			}
			controls_province = 9737
			NOT = {
				capital_scope = {
					state = 19
				}
			}
		}
		ai_will_do = {
			base = 1000
			modifier = {
				surrender_progress < 0.10
				factor = 0
			}
		}
		highlight_states = {
			highlight_provinces = {
				9737
			}
		}
		visible = {
			tag = FRA
			has_civil_war = no
			NOT = {
				any_enemy_country = {
					original_tag = FRA
				}
				has_global_flag = great_war_ends
				capital_scope = {
					state = 19
				}
			}
			any_enemy_country = {
				is_major = yes
			}
		}
		fire_only_once = no
		days_re_enable = 70
		complete_effect = {
			set_capital = { state = 19 }
		}
	}

	FRA_move_capital_in_paris = {
		icon = GFX_decision_generic_protection
		allowed = {
			original_tag = FRA
		}
		cost = 25
		available = {
			16 = {
				is_owned_and_controlled_by = ROOT
			}
			controls_province = 11506
		}
		ai_will_do = {
			base = 500
			modifier = {
				surrender_progress > 0.10
				factor = 0
			}
			modifier = {
				has_global_flag = great_war
				NOT = { has_global_flag = great_war_ends }
				factor = 0
			}
		}
		highlight_states = {
			highlight_provinces = {
				11506
			}
		}
		visible = {
			tag = FRA
			has_civil_war = no
			owns_state = 16
			NOT = {
				any_enemy_country = {
					original_tag = FRA
				}
				capital_scope = {
					state = 16
				}
				has_country_flag = FRA_nationalist_france_flag
			}
		}
		fire_only_once = no
		days_re_enable = 70
		complete_effect = {
			set_capital = { state = 16 }
		}
	}

	FRA_battle_of_verdun = {
		icon = generic_civil_support

		allowed = {
			original_tag = FRA
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_hold_verdun
				NOT = { controls_province = 3546 }
			}
		}

		cancel_trigger = {
			has_war = no
		}

		days_mission_timeout = 400
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				3546
			}
			highlight_color_while_active = 1
		}
		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			controls_province = 3546
			any_enemy_country = {
				OR = {
					controls_province = 2900
					controls_province = 3560
					controls_province = 5291
					controls_province = 6545
					controls_province = 9472
					controls_province = 13011
				}
			}
		}


		timeout_effect = {
			news_event = ww1_france.18
		}

		complete_effect = {
			news_event = ww1_france.18
			add_stability = -0.10
			add_war_support = -0.10
		}
	}

	FRA_battle_of_nancy = {
		icon = generic_civil_support

		allowed = {
			original_tag = FRA
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_hold_nancy
				NOT = { controls_province = 11516 }
			}
		}
		cancel_trigger = {
			has_war = no
		}

		days_mission_timeout = 180
		fire_only_once = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				11516
			}
			highlight_color_while_active = 1
		}
		is_good = yes

		activation = {
			has_war = yes
			has_civil_war = no
			controls_province = 11516
			any_enemy_country = {
				OR = {
					controls_province = 11502
					controls_province = 3629
					controls_province = 521
					controls_province = 5291
					controls_province = 11488
					controls_province = 11642
				}
			}
		}


		timeout_effect = {
			
		}

		complete_effect = {
			add_stability = -0.1
			add_war_support = -0.1
		}
	}

	FRA_battle_of_paris = {
		icon = generic_civil_support

		allowed = {
			original_tag = FRA
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_not_hold_paris
				NOT = { controls_province = 11506 }
			}
		}
		cancel_trigger = {
			has_war = no
		}

		days_mission_timeout = 180
		fire_only_once = yes
		is_good = yes
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_provinces = {
				11506
			}
			highlight_color_while_active = 1
		}
		activation = {
			has_war = yes
			has_civil_war = no
			controls_province = 11506
			any_enemy_country = {
				OR = {
					controls_province = 6585
					controls_province = 9523
					controls_province = 9534
					controls_province = 9561
					controls_province = 9725
					controls_province = 11491
					controls_province = 11518
				}
			}
		}


		timeout_effect = {
			
		}

		complete_effect = {
			add_stability = -0.25
			add_war_support = -0.25
			# news_event = ww1_france.218
		}
	}

	FRA_petain_head_of_state = {
		icon = GFX_decision_fra_advisors
		fire_only_once = yes
		allowed = {
			original_tag = FRA
		}
		cost = 0
		
		available = {
			has_country_flag = FRA_collapsing_front
			NOT = {
				has_country_leader = {
					character = FRA_philippe_petain
				}
			}
		}
		ai_will_do = {
			base = 100
			modifier = {
				surrender_progress < 0.30
				factor = 0
			}
		}
		visible = {
			tag = FRA
			NOT = {
				has_global_flag = great_war_ends
			}
			NOT = {
				has_government = communism
			}
			has_country_flag = FRA_collapsing_front
		}

		complete_effect = {
			if = {
				limit = {
					has_government = democratic
				}
				set_country_flag = return_democratic
			}
			if = {
				limit = {
					has_government = neutrality
				}
				set_country_flag = return_neutrality
			}
			if = {
				limit = {
					has_government = fascism
				}
				set_country_flag = return_fascism
			}

			if = {
				limit = {
					has_country_leader_ideology = semi_constitutional_monarchy
				}
				FRA_philippe_petain = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = semi_constitutional_monarchy
							traits = { verdun_lion generallissimo }
						}
					}
				}
			}
			else_if = {
				limit = {
					has_country_leader_ideology = semi_constitutional_monarchy_reserve
				}
				FRA_philippe_petain = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = semi_constitutional_monarchy_reserve
							traits = { verdun_lion generallissimo }
						}
					}
				}
			}
			else_if = {
				limit = { has_government = democratic }
				FRA_philippe_petain = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = authoritarian_democracy
							traits = { verdun_lion generallissimo }
						}
					}
				}
			}
			else = {
				FRA_philippe_petain = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = personalistic_dictatorship
							traits = { verdun_lion generallissimo }
						}
					}
				}
			}
			set_party_name = {
				ideology = neutrality
				long_name = FRA_junta_fascist
				name = FRA_junta_fascist
			}
			# monarchy stays
			if = {
				limit = {
					NOT = {
						has_cosmetic_tag = FRA_KINGDOM
						has_cosmetic_tag = FRA_KINGDOM_legitimist
						has_cosmetic_tag = FRA_THIRD_EMPIRE
						has_cosmetic_tag = FRA_socialism
						has_cosmetic_tag = FRA_socialism_not_commune
						has_cosmetic_tag = FRA_socialism_syndicalist
						has_cosmetic_tag = FRA_socialism_republic_of
					}
				}
				set_cosmetic_tag = FRA_alt_blue
			}
			hidden_effect = {
				# to do
				# need monarch ideas
				# add_ideas = FRA_napoleon_something
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.20
				}
			}
			
		}
	}

	FRA_renovate_arsenal_of_versailles = {
		icon = GFX_decision_generic_artillery_icon
		cost = 50
		fire_only_once = yes
		days_remove = 70
		allowed = {
			original_tag = FRA
		}
		available = {
			16 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
			has_country_flag = FRA_ww1_rearmement_program
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 16 } 
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			16 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	FRA_renovate_arsenal_of_paris = {
		icon = GFX_decision_generic_artillery_icon
		cost = 50
		fire_only_once = yes
		days_remove = 70
		allowed = {
			original_tag = FRA
		}
		available = {
			16 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
			has_country_flag = FRA_ww1_rearmement_program
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 16 } 
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			16 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}


	FRA_renovate_arsenal_of_tulle = {
		icon = GFX_decision_generic_artillery_icon
		cost = 50
		fire_only_once = yes
		days_remove = 70
		allowed = {
			original_tag = FRA
		}
		available = {
			25 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
			has_country_flag = FRA_ww1_rearmement_program
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 25 } 
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			25 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	FRA_renovate_arsenal_of_saint_etienne = {
		icon = GFX_decision_generic_artillery_icon
		cost = 50
		fire_only_once = yes
		days_remove = 70
		allowed = {
			original_tag = FRA
		}
		available = {
			20 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
			has_country_flag = FRA_ww1_rearmement_program
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 20 } 
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			20 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	FRA_renovate_arsenal_of_chatellerault = {
		icon = GFX_decision_generic_artillery_icon
		cost = 50
		fire_only_once = yes
		days_remove = 70
		allowed = {
			original_tag = FRA
		}
		available = {
			33 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
			has_country_flag = FRA_ww1_rearmement_program
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 33 } 
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			33 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	FRA_renovate_arsenal_of_charleville = {
		icon = GFX_decision_generic_artillery_icon
		cost = 50
		fire_only_once = yes
		days_remove = 70
		allowed = {
			original_tag = FRA
		}
		available = {
			29 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			tag = FRA
			has_country_flag = FRA_ww1_rearmement_program
		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 29 } 
			highlight_color_while_active = 1
		}
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			29 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

}
peace_deals = {
	NFA_sue_for_peace_GER = {
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			tag = FRA
		}
		available = {
			surrender_progress > 0.7
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
		}
		visible = {
			NOT = {
				any_country = {
					exists = yes
					has_country_flag = FRA_socialist_france_flag
					is_subject = no
				}
			}
			has_country_flag = FRA_nationalist_france_flag
			has_war_with = FROM
			FROM = {
				is_subject = no
				has_country_flag = great_war_winner
			}
			has_global_flag = frankfurt_treaty
		}
		fire_only_once = yes
		ai_will_do = {
			base = 0
			modifier = {
				add = 10000
				OR = {
					surrender_progress > 0.90
					has_capitulated = yes
				}
			}
			modifier = {
				factor = 0
				GER = {
					is_ai = no
				}
			}
		}
		target_trigger = {
			FROM = {
				tag = GER
			}
		}
		complete_effect = {
			custom_effect_tooltip = NFA_third_franco_german_war_tt
			white_peace = FROM
			hidden_effect = {
				if = {
					limit = {
						any_other_country = {
							original_tag = FRA
							is_subject_of = FROM
						}
					}
					every_other_country = {
						limit = {
							original_tag = FRA
							is_subject_of = FROM
						}
						annex_country = {
							target = PREV
						}
					}
				}
				else = {
					GER = {
						set_autonomy = {
							target = PREV
							autonomous_state = autonomy_dominion
						}
					}
				}
				every_country = {
					limit = {
						original_tag = FRA
						is_subject_of = GER
					}
					34 = {
						owner = {
							if = {
								limit = {
									is_subject_of = FROM
								}
								every_state = {
									limit = {
										is_owned_by = PREV.PREV.PREV
										OR = {
											state = 29
											state = 865
										}
									}
									transfer_state_to = PREV
								}
								if = {
									limit = {
										has_cosmetic_tag = BEL_burgundy
									}
									every_state = {
										limit = {
											OR = {
												is_owned_by = FROM
												is_owned_by = PREV.PREV.PREV
											}
											OR = {
												state = 17
												state = 863
												state = 21
												state = 735
												state = 761
												state = 834
											}
										}
										transfer_state_to = PREV
									}
								}
							}
						}
					}
					every_state = {
						limit = {
							is_on_continent = europe
							is_core_of = PREV
							is_owned_by = FROM
							NOT = {
								is_core_of = FROM
								state = 863
								state = 864
							}
						}
						transfer_state_to = PREV
					}
					every_owned_state = {
						limit = {
							OR = {
								state = 863
								state = 864
								state = 272
								state = 700
								state = 701
								state = 780
								state = 779
							}
						}
						transfer_state_to = FROM
					}
					create_country_leader = {
						name = "GER_erich_ludendorff"
						picture = "gfx/leaders/GER/GER_erich_ludendorff.png"
						ideology = stratocracy
						traits = { foreign_leader german_agent }
					}
					create_country_leader = {
						name = "FRA_gouvernement_provisoire"
						picture = "gfx/leaders/FRA/FRA_provisional_government.png"
						ideology = authoritarian_democracy
						traits = { german_agent }
					}
					create_country_leader = {
						name = "FRA_gouvernement_provisoire"
						picture = "gfx/leaders/FRA/FRA_provisional_government.png"
						ideology = conservatism
						traits = { german_agent }
					}
					set_party_name = {
						ideology = democratic
						long_name = NFA_fascism_party_long
						name = NFA_fascism_party
					}
					set_party_name = {
						ideology = neutrality
						long_name = NFA_fascism_party_long
						name = NFA_fascism_party
					}
					set_party_name = {
						ideology = fascism
						long_name = GER_fascism_party_long
						name = GER_fascism_party
					}
					set_cosmetic_tag = FRP
					if = {
						limit = {
							FROM = {
								OR = {
									has_government = neutrality
									has_idea = GER_idea_wilhelm_ii
								}
							}
						}
						create_country_leader = {
							name = "FRA_victoire"
							picture = "gfx/leaders/GER/GER_Victoria_Louise.png"
							ideology = personalistic_dictatorship
							female = yes
							traits = {
								victoria_iii
								foreign_leader
								german_agent
							}
						}
						set_party_name = {
							ideology = neutrality
							long_name = GER_neutrality_party
							name = GER_neutrality_party
						}
						set_politics = {
							ruling_party = neutrality
							elections_allowed = no
						}
						set_popularities = {
							democratic = 14
							neutrality = 52
							fascism = 34
							communism = 10
						}
					}
					else_if = {
						limit = {
							NOT = { has_government = communism }
						}
						set_politics = {
							ruling_party = fascism
							elections_allowed = no
						}
						set_popularities = {
							democratic = 30
							neutrality = 32
							fascism = 38
							communism = 10
						}
					}
				}
			}
			effect_tooltip = {
				FROM = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_dominion
					}
				}
			}
		}
	}
	FRC_sue_for_peace_NFA = {
		icon = GFX_decision_SWI_consolidate_council_power
		allowed = {
			original_tag = FRA
		}
		available = {
			surrender_progress > 0.7
		}
		visible = {
			NOT = {
				has_global_flag = FRA_three_side_civil_war
			}
			has_country_flag = FRA_socialist_france_flag
			has_war_with = FROM
			any_other_country = {
				original_tag = FRA
				has_country_flag = FRA_nationalist_france_flag
				has_war_with = PREV
			}
			NOT = {
				any_other_country = {
					original_tag = FRA
					is_subject_of = FROM
				}
			}
		}
		fire_only_once = yes
		ai_will_do = {
			base = 1000
			modifier = {
				factor = 0
				is_in_faction = yes
				any_allied_country = {
					has_capitulated = no
					has_war_with = FROM
					is_major = yes
				}
				has_capitulated = no
			}
		}
		target_trigger = {
			FROM = {
				tag = FROM
			}
		}
		complete_effect = {
			every_owned_state = {
				limit = {
					is_controlled_by = NFA
				}
				transfer_state_to = NFA
			}
			every_enemy_country = {
				white_peace = ROOT
			}
			effect_tooltip = {
				FROM = { puppet = ROOT }
			}
			hidden_effect = {
				create_country_leader = {
					name = "GER_erich_ludendorff"
					picture = "gfx/leaders/GER/GER_erich_ludendorff.png"
					ideology = stratocracy
					traits = { foreign_leader german_agent }
				}
				create_country_leader = {
					name = "FRA_gouvernement_provisoire"
					picture = "gfx/leaders/FRA/FRA_provisional_government.png"
					ideology = authoritarian_democracy
					traits = { german_agent }
				}
				create_country_leader = {
					name = "FRA_gouvernement_provisoire"
					picture = "gfx/leaders/FRA/FRA_provisional_government.png"
					ideology = conservatism
					traits = { german_agent }
				}
				set_party_name = {
					ideology = democratic
					long_name = NFA_fascism_party_long
					name = NFA_fascism_party
				}
				set_party_name = {
					ideology = neutrality
					long_name = NFA_fascism_party_long
					name = NFA_fascism_party
				}
				set_party_name = {
					ideology = fascism
					long_name = GER_fascism_party_long
					name = GER_fascism_party
				}
				set_cosmetic_tag = FRP
				if = {
					limit = {
						FROM = {
							OR = {
								has_government = neutrality
								has_idea = GER_idea_wilhelm_ii
							}
						}
					}
					create_country_leader = {
						name = "FRA_victoire"
						picture = "gfx/leaders/GER/GER_Victoria_Louise.png"
						ideology = personalistic_dictatorship
						female = yes
						traits = {
							victoria_iii
							foreign_leader
							german_agent
						}
					}
					set_party_name = {
						ideology = neutrality
						long_name = GER_neutrality_party
						name = GER_neutrality_party
					}
					set_politics = {
						ruling_party = neutrality
						elections_allowed = no
					}
					set_popularities = {
						democratic = 14
						neutrality = 52
						fascism = 34
						communism = 10
					}
				}
				else_if = {
					limit = {
						NOT = { has_government = communism }
					}
					set_politics = {
						ruling_party = fascism
						elections_allowed = no
					}
					set_popularities = {
						democratic = 30
						neutrality = 32
						fascism = 38
						communism = 10
					}
				}
			}
		}
	}
	NFA_sue_for_peace_FRC = {
		icon = GFX_decision_eng_blackshirt_march
		allowed = {
			original_tag = FRA
		}
		available = {
			surrender_progress > 0.1
			is_subject = no
		}
		visible = {
			NOT = {
				has_global_flag = FRA_three_side_civil_war
			}
			has_country_flag = FRA_nationalist_france_flag
			any_other_country = {
				has_country_flag = FRA_socialist_france_flag
				has_war_with = PREV
			}
		}
		fire_only_once = yes
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				surrender_progress > 0.40
				NOT = {
					has_global_flag = FRA_three_side_civil_war
				}
			}
			modifier = {
				add = 1000
				NOT = { controls_state = 21 }
				NOT = {
					has_global_flag = FRA_three_side_civil_war
				}
			}
			modifier = {
				add = 1000
				NOT = { controls_state = 22 }
				NOT = {
					has_global_flag = FRA_three_side_civil_war
				}
			}
			modifier = {
				add = 1000	#foch can flee to algeria
				controls_state = 21
				has_global_flag = FRA_three_side_civil_war
				surrender_progress > 0.7
				has_government = fascism 
			}
			modifier = {
				add = 1000 #its over guys
				has_global_flag = FRA_three_side_civil_war
				surrender_progress > 0.8
			}
		}
		target_trigger = {
			FROM = {
				original_tag = FRA
				has_country_flag = FRA_socialist_france_flag
			}
		}
		complete_effect = {
			country_event = ww1_france.24
		}
	}

	FRA_surrender_to_others_FRA = {
		icon = GFX_decision_eng_blackshirt_march
		allowed = {
			original_tag = FRA
		}
		available = {
			surrender_progress > 0.1
			is_subject = no
		}
		visible = {
			has_global_flag = FRA_three_side_civil_war
			any_other_country = {
				has_war_with = ROOT
				original_tag = FRA
			}
			original_tag = FRA
		}
		fire_only_once = no
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				surrender_progress > 0.40
				NOT = {
					has_global_flag = FRA_three_side_civil_war
				}
			}
			modifier = {
				add = 1000
				NOT = { controls_state = 21 }
				NOT = {
					has_global_flag = FRA_three_side_civil_war
				}
			}
			modifier = {
				add = 1000
				NOT = { controls_state = 22 }
				NOT = {
					has_global_flag = FRA_three_side_civil_war
				}
			}
			modifier = {
				add = 1000	#foch can flee to algeria
				controls_state = 21
				has_global_flag = FRA_three_side_civil_war
				surrender_progress > 0.7
				has_government = fascism 
			}
			modifier = {
				add = 1000 #its over guys
				has_global_flag = FRA_three_side_civil_war
				surrender_progress > 0.8
			}
		}
		target_trigger = {
			FROM = {
				original_tag = FRA
			}
		}
		complete_effect = {
			country_event = ww1_france.331
		}
	}
}

FRA_wadai_war = {
	
	FRA_wadai_war_timer = {
		icon = generic_prepare_civil_war
		days_mission_timeout = 800
		allowed = {
			original_tag = FRA
		}
		visible = {
			hidden_trigger = {
				has_war_with = CHA
				NOT = {
					has_global_flag = wadai_war_end
				}
			}
		}
		available = {
			hidden_trigger = {
				NOT = {
					has_war_with = CHA
				}
				has_global_flag = wadai_war_end
			}
		}
		cancel_if_not_visible = yes
		fixed_random_seed = no
		is_good = no
		fire_only_once = yes
		timeout_effect = {
			add_war_support = -0.05
			effect_tooltip = {
				white_peace = CHA
			}
			hidden_effect = {
				if = {
					limit = {
						has_subject = CHF
					}
					set_autonomy = {
						target = CHF
						autonomy_state = autonomy_free
						end_civil_wars = no
					}
					CHF = {
						leave_faction = yes
						every_enemy_country = {
							limit = {
								NOT = {
									original_tag = CHA
								}
							}
							PREV = {
								white_peace = PREV
							}						
						}
					}
				}
				every_country = {
					limit = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
						has_war_with = CHA
					}
					white_peace = CHA
				}
				CHA = {
					leave_faction = yes
				}
				remove_ideas = FRA_wadai_war
				set_global_flag = wadai_war_end
			}
		}
	}
	FRA_pull_out_from_wadai = {
		icon = GFX_decision_eng_blackshirt_march
		allowed = {
			original_tag = FRA
		}
		target_trigger = {
			FROM = {
				tag = CHA
			}
		}
		visible = {
			has_war_with = CHA
			NOT = {
				has_global_flag = wadai_war_end
			}
		}
		complete_effect = {
			add_war_support = -0.05
			effect_tooltip = {
				white_peace = CHA
			}
			hidden_effect = {
				if = {
					limit = {
						has_subject = CHF
					}
					set_autonomy = {
						target = CHF
						autonomy_state = autonomy_free
						end_civil_wars = no
					}
					CHF = {
						leave_faction = yes
						every_enemy_country = {
							limit = {
								NOT = {
									original_tag = CHA
								}
							}
							PREV = {
								white_peace = PREV
							}						
						}
					}				
				}
				every_country = {
					limit = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
						has_war_with = CHA
					}
					white_peace = CHA
				}
				CHA = {
					leave_faction = yes
				}
				remove_ideas = FRA_wadai_war
				set_global_flag = wadai_war_end
			}
		}
		fire_only_once = yes
		ai_will_do = {
			base = 0
			modifier = {
				add = 500
				any_country = {
					is_major = yes
					has_war_with = ROOT
				}
			}
			modifier = {
				add = 500
				date > 1912.6.6
			}
			
		}
	}
}
crisis = {
	FRA_army_mutiny_crisis = {
		icon = generic_civil_support
		allowed = {
			original_tag = FRA
		}
		days_mission_timeout = 60
		activation = {
			has_war = yes
			OR = {
				casualties > 1500000
				surrender_progress > 0.15
			}
			OR = {
				has_war_support < 0.5
				AND = {
					RUS = {
						is_in_faction_with = FRA
					}
					has_global_flag = russian_revolution
					has_war_support < 0.9
				}
			}
			NOT = {
				has_global_flag = entente_last_attack
			}
		}
		available = {
			OR = {
				has_global_flag = french_mutinies_supressed
				has_war_support > 0.9
				has_war = no
				has_civil_war = yes
			}
		}
		visible = {
			tag = FRA
			has_war = yes
			OR = {
				casualties > 1500000
				surrender_progress > 0.15
			}
			OR = {
				has_war_support < 0.5
				AND = {
					RUS = {
						is_in_faction_with = FRA
					}
					has_global_flag = russian_revolution
					has_war_support < 0.9
				}
			}
		}
		fire_only_once = yes
		is_good = no
		timeout_effect = {
			add_timed_idea = {
				idea = FRA_rebellious_army
				days = 120
			}
			set_global_flag = french_army_mutinies_escalation
		}
	}
}

war_measures = {
	FRA_arrest_leaders_of_the_mutiny = {
		allowed = {
			original_tag = FRA
		}
		icon = generic_independence
		cost = 20
		fire_only_once = no
		days_remove = 5
		available = {
			has_active_mission = FRA_army_mutiny_crisis
		}
		visible = {
			tag = FRA
			has_active_mission = FRA_army_mutiny_crisis
		}
		complete_effect = {
			add_stability = -0.02
			add_war_support = 0.02
		}
		remove_effect = {
			unlock_decision_tooltip = FRA_reorganization_of_command
			unlock_decision_tooltip = FRA_provide_the_home_leave
			unlock_decision_tooltip = FRA_hold_the_military_tribunal
			custom_effect_tooltip = french_mutinies_supression_tt
			set_country_flag = FRA_mutiny_leaders_arrested
		}
		ai_will_do = {
			factor = 200
		}
	}
	FRA_reorganization_of_command = {
		allowed = {
			original_tag = FRA
		}
		icon = generic_army_support
		cost = 20
		fire_only_once = yes
		days_remove = 7
		available = {
			has_country_flag = FRA_mutiny_leaders_arrested
			has_army_experience > 15
		}
		visible = {
			tag = FRA
			has_active_mission = FRA_army_mutiny_crisis
		}
		modifier = {
			planning_speed = -0.5
			army_org_factor = -0.1
		}
		remove_effect = {
			army_experience = -15
			set_country_flag = FRA_mutiny_suppressed_1
			custom_effect_tooltip = french_mutinies_supression_tt
			if = {
				limit = {
					has_country_flag = FRA_mutiny_suppressed_2
					has_country_flag = FRA_mutiny_suppressed_3
				}
				set_global_flag = french_mutinies_supressed
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	FRA_provide_the_home_leave = {
		allowed = {
			original_tag = FRA
		}
		icon = generic_army_support
		cost = 20
		fire_only_once = yes
		days_remove = 7
		available = {
			has_country_flag = FRA_mutiny_leaders_arrested
		}
		visible = {
			tag = FRA
			has_active_mission = FRA_army_mutiny_crisis
		}
		remove_effect = {
			add_manpower = -56408
			set_country_flag = FRA_mutiny_suppressed_2
			custom_effect_tooltip = french_mutinies_supression_tt
			if = {
				limit = {
					has_country_flag = FRA_mutiny_suppressed_1
					has_country_flag = FRA_mutiny_suppressed_3
				}
				set_global_flag = french_mutinies_supressed
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	FRA_hold_the_military_tribunal = {
		allowed = {
			original_tag = FRA
		}
		icon = generic_army_support
		cost = 20
		fire_only_once = yes
		days_remove = 7
		available = {
			has_country_flag = FRA_mutiny_leaders_arrested
		}
		visible = {
			tag = FRA
			has_active_mission = FRA_army_mutiny_crisis
		}
		remove_effect = {
			add_stability = -0.04
			add_manpower = -26
			custom_effect_tooltip = french_mutinies_supression_tt
			set_country_flag = FRA_mutiny_suppressed_3
			if = {
				limit = {
					has_country_flag = FRA_mutiny_suppressed_1
					has_country_flag = FRA_mutiny_suppressed_2
				}
				set_global_flag = french_mutinies_supressed
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	FRA_suppress_army_rebellion = {
		allowed = {
			original_tag = FRA
		}
		icon = oppression
		cost = 75
		fire_only_once = yes
		days_remove = 25
		available = {
			has_idea = FRA_rebellious_army
		}
		visible = {
			tag = FRA
			has_idea = FRA_rebellious_army
		}
		remove_effect = {
			add_war_support = 0.05
			remove_ideas = FRA_rebellious_army
		}
		ai_will_do = {
			factor = 200
		}
	}
	fight_phan_xich_long_loyalists_in_indochina = {
		icon = GFX_decision_border_war

		allowed = {
			OR = {
				tag = IND
				tag = FRA
			}
		}
		activation = {
			always = no
		}
		days_mission_timeout = 120
		fire_only_once = yes
		is_good = no
		available = {
			custom_trigger_tooltip = {
				tooltip = FRA_IND_4k_in_each_states
				OR = {
					IND = {
						army_manpower_in_state = { state = 820 amount > 3999 }
					}
					FRA = {
						army_manpower_in_state = { state = 820 amount > 3999 }
					}
				}
				OR = {
					IND = {
						army_manpower_in_state = { state = 286 amount > 3999 }
					}
					FRA = {
						army_manpower_in_state = { state = 286 amount > 3999 }
					}
				}
				OR = {
					IND = {
						army_manpower_in_state = { state = 671 amount > 3999 }
					}
					FRA = {
						army_manpower_in_state = { state = 671 amount > 3999 }
					}
				}
			}

		}
		on_map_mode = map_and_decisions_view
		highlight_states = {
			highlight_state_targets = { state = 820 state = 286 state = 671 }
		}
		complete_effect = {
			country_event = {
				id = ww1_france.357
				days = 2
			}
		}
		timeout_effect = {
			add_political_power = -50
			country_event = {
				id = ww1_france.358
				days = 2
			}
		}
	}
}

foreign_politics = {
	NFA_occupy_malta = {
		icon = GFX_decision_infiltrate_state
		allowed = {
			original_tag = FRA
		}
		available = {
			has_country_flag = FRA_nationalist_france_flag
			has_war = no
			MLT = {
				exists = yes
				is_subject = no
			}
		}
		visible = {
			has_country_flag = FRA_nationalist_france_flag
			MLT = {
				exists = yes
				is_subject = no
			}
		}
		highlight_states = {
			highlight_state_targets = { state = 116 } 
			highlight_color_while_active = 1
		}
		fire_only_once = yes
		cost = 100
		days_remove = 5
		target_trigger = {
			FROM = {
				tag = MLT
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war_support < 0.2
			}
			modifier = {
				factor = 0
				MLT = { is_in_faction = yes }
			}
			modifier = {
				factor = 0
				MLT = { is_major = yes }
			}
			modifier = {
				factor = 0
				owns_state = 16
			}
		}
		remove_effect = {
			transfer_state = 116
			add_named_threat = {
				threat = 5
				name = NFA_occupy_malta
			}
		}
	}
}
interwar_decisions = {
	FRA_conquer_syria = {
		icon = generic_prepare_civil_war
		allowed = {
			original_tag = FRA
		}
		target_trigger = {
			FROM = {
				tag = SYR
			}	
		}	
		available = {
			has_capitulated = no
		}
		visible = {
			any_owned_state = {
				is_core_of = FROM
			}	
			is_subject = no
			has_global_flag = interbellum
			has_country_flag = great_war_winner
			FROM = {
				any_owned_state = {
					is_claimed_by = ROOT
				}	
			}
			NOT = {
				has_country_flag = franco_syrian_war
				has_country_flag = franco_syrian_war_end
			}	
		}
		war_with_on_remove = SYR
		fire_only_once = no
		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				FROM = { is_in_faction = yes }
			}
			modifier = {
				factor = 0
				any_other_country = {
					has_guaranteed = FROM
				}
			}
		}
		cancel_if_not_visible = yes
		cancel_effect = {
			hidden_effect = {
				add_ai_strategy = {
					type = prepare_for_war
					id = SYR
					value = -200
				}
			}
		}
		days_remove = 70
		complete_effect = {
			hidden_effect = {
				add_ai_strategy = {
					type = prepare_for_war
					id = SYR
					value = 200
				}
			}
		}
		remove_effect = {
			effect_tooltip = {
				declare_war_on = {
					target = SYR
					type = annex_everything
				}
				activate_mission = FRA_syrian_conquest_timer
			}
			hidden_effect = {
				country_event = ww1_france.256
				add_ai_strategy = {
					type = prepare_for_war
					id = SYR
					value = -200
				}
			}
		}
	}
	FRA_syrian_conquest_timer = {
		name = franco_syrian_war
		icon = GFX_decision_eng_blackshirt_march
		allowed = {
			OR = {
				original_tag = FRA
				original_tag = SYR
			}
		}
		visible = {
			OR = {
				has_war_with = FRA
				has_war_with = SYR
			}
		}		
		available = {
			OR = {
				FRA = { NOT = { has_war_with = SYR } }
				NOT = { country_exists = FRA }
				NOT = { country_exists = SYR }
				has_subject = FRA
				has_subject = SYR
			}
		}		
		activation = {
			always = no
		}
		timeout_effect = {
			effect_tooltip = {
				FRA = {
					white_peace = SYR
					every_owned_state = {
						limit = { is_core_of = SYR }
						transfer_state_to = SYR
					}
				}
			}
			hidden_effect = {
				SYR = {
					every_enemy_country = {
						limit = {
							OR = {
								tag = FRA
								is_in_faction_with = FRA
								is_subject_of = FRA
							}
						}
						white_peace = PREV
					}
					add_opinion_modifier = {
						target = FRA
						modifier = HOI4TGW_Opinion_hostile_diplomatic_relations
					}
					remove_ideas = standing_alone
				}
				FRA = {
					every_owned_state = {
						limit = { is_core_of = SYR }
						transfer_state_to = SYR
					}
					add_opinion_modifier = {
						target = SYR
						modifier = HOI4TGW_Opinion_hostile_diplomatic_relations
					}
				}
			}
		}
		fire_only_once = yes
		days_mission_timeout = 150
		is_good = no
	}
}
FRC_interwar_internationale_category = {
	FRC_internationale = {
		icon = GFX_decision_SOV_the_stalin_constitution
		allowed = {
			original_tag = FRA
		}
		available = {
			is_subject = no
			has_war = no
			is_in_faction = no
		}
		visible = {
			has_country_flag = FRA_socialist_france_flag
			has_government = communism
			is_faction_leader = no
			has_global_flag = interbellum
		}
		fire_only_once = yes
		cost = 100
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				any_other_country = {
					OR = {
						original_tag = ENG
						original_tag = ITA
						original_tag = GER
						original_tag = BAY
					}
					has_government = communism
				}
			}
		}
		complete_effect = {
			create_faction = internationale
			hidden_effect = {
				news_event = {
					id = news.173
					hours = 3
				}
			}
		}
	}
	FRC_interwar_invite_in_internationale = {
		icon = GFX_decision_SOV_the_stalin_constitution
		allowed = {
			original_tag = FRA
		}
		available = {
			has_war = no
			is_faction_leader = yes
			FROM = {
				has_war = no
			}
		}
		visible = {
			has_government = communism
			is_faction_leader = yes
			has_global_flag = interbellum
			OR = {
				AND = {
					original_tag = BAY
					has_global_flag = prussian_blue
					has_government = communism
					NOT = {
						country_exists = GER
					}
				}
				AND = {
					original_tag = FRA
					has_country_flag = FRA_socialist_france_flag
				}
			}
			has_country_flag = FRA_socialist_france_flag
		}
		target_trigger = {
			FROM = {
				OR = {
					original_tag = FRA
					original_tag = ENG
					original_tag = ITA
					tag = GER
					tag = BAY
					AND = {
						tag = HUN
						has_war = no
					}
				}
				has_government = communism
				NOT = {
					has_country_leader_ideology = market_socialism
					has_country_flag = FRA_nationalist_france_flag
					has_country_flag = ENG_nationalist_britain_flag
				}
				is_subject = no
				is_in_faction = no
			}
		}
		fire_only_once = yes
		cost = 25
		complete_effect = {
			if = {
				limit = {
					FROM = {
						has_country_flag = ENG_socialist_britain_flag
					}
				}
				FROM = {
					if = {
						limit = {
							is_ai = yes
						}
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 200
						}
					}
					country_event = ww1_england.175
				}
				else = {
					FROM = {
						hidden_effect = {
							if = {
								limit = {
									is_ai = yes
									OR = {
										original_tag = FRA
										original_tag = ENG
										original_tag = BAY
										original_tag = HUN
									}
								}
								add_ai_strategy = {
									type = alliance
									id = ROOT
									value = 200
								}
							}
							if = {
								limit = {
									is_historical_focus_on = no
									is_ai = yes
								}
								random_list = {
									4 = {
										add_ai_strategy = {
											type = alliance
											id = ROOT
											value = 200
										}
									}
									6 = {
									}
								}
							}
						}
						country_event = generic.5
					}
				}
			}
		}
		ai_will_do = {
			base = 0 
			modifier = {
				add = 100
				FROM = {
					OR = {
						original_tag = FRA
						original_tag = ENG
						original_tag = BAY
						original_tag = HUN
					}
				}
			}
		}
	}
}

prestigious_projects = {
	FRC_valois_seize_the_power = {
		icon = GFX_decision_oppression
		allowed = {
			original_tag = FRA
		}
		available = {
			fascism > 0.30
		}
		visible = {
			has_government = communism
			has_country_leader = {
				character = FRA_georges_valois
				ruling_only = yes
			}
		}
		fire_only_once = yes
		ai_will_do = {
			base = 0
			modifier = {
				fascism > 0.50
				add = 10
			}
			modifier = {
				has_stability > 0.5
				add = 10
			}
			modifier = {
				has_war = yes
				add = 10
			}
		}
		cost = 200
		complete_effect = {
			set_cosmetic_tag = FRA_proto_fascism
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			add_ideas = FRA_idea_the_white_terror
		}
	}
	NFA_return_to_paris = {
		icon = GFX_decision_eng_install_government
		allowed = {
			original_tag = FRA
		}
		available = {
			16 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		visible = {
			has_country_flag = FRA_nationalist_france_flag
			16 = {
				is_capital = no
			}
		}
		fire_only_once = yes
		ai_will_do = {
			factor = 1000
		}
		days_remove = 70
		cancel_if_not_visible = yes
		cancel_trigger = {
			NOT = {
				16 = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}
		cancel_effect = {
			add_political_power = 50
		}
		cost = 75
		remove_effect = {
			set_capital = { state = 16 }
		}
	}
}

FRA_french_civil_war_category = {
	FRA_foreign_support_NFA = {
		icon = ger_military_buildup
		allowed = {
			NOT = { original_tag = FRA }
		}
		visible = {
			has_global_flag = french_civil_war
			any_country = {
				has_country_flag = FRA_socialist_france_flag
				has_war_with = NFA
			}
			NOT = { has_country_flag = supported_french_civil_war }
		}
		fire_only_once = yes
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = 2000_infantry_equipment_1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 4000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				OR = {
					has_government = communism
					has_country_leader_ideology = national_syndicalism
				}
			}
		}
		target_trigger = {
			FROM = { tag = NFA }
		}
		complete_effect = {
			set_country_flag = supported_french_civil_war
			army_experience = 5
			send_equipment = {
				target = NFA
				type = infantry_equipment
				amount = 2000
			}
			NFA = {
				country_event = garibaldi.32
			}
		}
	}
	FRA_foreign_support_FRC = {
		icon = ger_military_buildup
		allowed = {
			NOT = { original_tag = FRA }
		}
		visible = {
			has_global_flag = french_civil_war
			any_country = {
				has_country_flag = FRA_socialist_france_flag
				has_war_with = NFA
			}
			NOT = { has_country_flag = supported_french_civil_war }
		}
		fire_only_once = yes
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = 2000_infantry_equipment_1
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 4000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				NOT = {
					has_government = communism
					has_country_leader_ideology = national_syndicalism
				}
			}
		}
		target_trigger = {
			FROM = { tag = FRC }
		}
		complete_effect = {
			set_country_flag = supported_french_civil_war
			army_experience = 5
			send_equipment = {
				target = FRC
				type = infantry_equipment
				amount = 2000
			}
			FRC = {
				country_event = garibaldi.32
			}
		}
	}
}

FRA_french_army = {
	FRA_demobilize_part_of_the_army = {
		allowed = {
			original_tag = FRA
		}
		state_target = yes
        target_trigger = {
            FROM = {
				is_owned_and_controlled_by = ROOT
			}
			divisions_in_state = { state = FROM size > 2 }
        }
		visible = {
			has_idea = FRA_excessing_land_force_budget
		}
		remove_effect = {
			delete_unit = {
				state = FROM
				disband = yes
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
}

political_actions = {
	generic_provide_humanitarian_help = {
		allowed = {
			always = yes
		}
		icon = GFX_decision_hol_exchange_intelligence_data
		days_remove = 14
		state_target = yes
		custom_cost_text = TUR_decision_cost_15commandpower
		custom_cost_trigger = {
			command_power > 14.99
		}
        target_trigger = {
            FROM = {
				is_owned_and_controlled_by = ROOT
				has_dynamic_modifier = { modifier = sahel_local_famine }
			}
        }
		complete_effect = {
			add_command_power = -15
		}
		remove_effect = {
			FROM = {
				remove_dynamic_modifier = { modifier = sahel_local_famine }
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

FRA_weapon_seller = {
	FRA_sell_60_renault_tanks_to_partners = {
		allowed = {
			always = no
		}
	}
	FRA_sell_60_renault_tanks_to_FROM = {
		allowed = {
			original_tag = FRA
		}
		icon = GFX_decision_hol_exchange_intelligence_data
		cost = 10
		days_re_enable = 14
		visible = {
			has_country_flag = FRA_maintain_war_industry
		}
		target_trigger = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					has_country_flag = great_war_loser
				}
				NOT = {
					has_country_flag = has_refused_french_weapons
					has_country_flag = FRA_is_buying_60_renault_tanks
				}
				OR = {
					tag = POL
					tag = ROM
					tag = YUG
					tag = BEL
					tag = USA
					tag = SER
					tag = ITA
					tag = RUS
					tag = ENG
				}
			}
		}
		available = {
			ROOT = {
				has_war = no
			}
			NOT = {
				any_other_country = {
					has_country_flag = has_ongoing_contract_with_FRA
					has_country_flag = FRA_is_buying_60_renault_tanks
				}
			}
			NOT = {
				has_country_flag = ongoing_contract_demand
				has_country_flag = FRA_is_redundings_tanks
			}
			FROM = {
				NOT = {
					has_country_flag = has_refused_french_weapons
				}
				num_of_civilian_factories_available_for_projects > 3 #be sure they can afford it
			}
		}
		complete_effect = {
			set_country_flag = ongoing_contract_demand
			set_country_flag = {
				flag = FRA_time_between_demands
				days = 210
				value = 1
			}
			FROM = {
				country_event = {
					id =  ww1_france.431
					days = 2
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				has_country_flag = FRA_time_between_demands
				factor = 0
			}
		}
	}

	FRA_is_buying_60_renault_tanks = {
		allowed = {
			NOT = {
				original_tag = FRA
			}	
		}
		modifier = {
			civilian_factory_use = 3
		}
		available = {
			has_country_flag = FRA_is_buying_60_renault_tanks
		}
		visible = {
			has_country_flag = FRA_is_buying_60_renault_tanks
		}
		days_re_enable = 14
		fire_only_once = no
		icon = GFX_decision_hol_exchange_intelligence_data
		is_good = yes
		remove_effect = {
			FRA = {
				add_offsite_building = { type = industrial_complex level = -3 }
			}
		}
		available = {
			NOT = {
				has_war_with = FRA
			}
			has_capitulated = no
		}
		days_remove = 145
		ai_will_do = {
			factor = 200
		}
	}

	FRA_fufill_renault_contract_60_tanks = {
		icon = GFX_decision_generic_protection
		allowed = {
			original_tag = FRA
		}
		activation = {
			any_other_country = {
				has_country_flag = has_ongoing_contract_with_FRA
				has_country_flag = FRA_is_buying_60_renault_tanks
			}
		}
		visible = {
			any_other_country = {
				has_country_flag = has_ongoing_contract_with_FRA
				has_country_flag = FRA_is_buying_60_renault_tanks
			}
		}
		fire_only_once = no
		available = {
			tag = FRA
			custom_trigger_tooltip = {
				tooltip = FRA_light_tanks_on_the_field_60
				OR = {
					check_variable = { num_equipment_in_armies@light_tank_chassis > 59 }
					has_equipment = {
						light_tank_chassis > 59
					}
				}
			}
		}
		days_mission_timeout = 140
		complete_effect = {
			clr_country_flag = FRA_fulfill_mission_is_runing
			random_other_country = {
				limit = {
					NOT = {
						has_war_with = ROOT
					}
					has_country_flag = has_ongoing_contract_with_FRA
					has_country_flag = FRA_is_buying_60_renault_tanks
				}
				clr_country_flag = has_ongoing_contract_with_FRA
				country_event = {
					id = ww1_france.432
					days = 2
				}
			}
		}
		timeout_effect = {
			clr_country_flag = FRA_fulfill_mission_is_runing
			random_other_country = {
				limit = {
					NOT = {
						tag = FRA
					}
					NOT = {
						has_war_with = ROOT
					}
					has_country_flag = has_ongoing_contract_with_FRA
					has_country_flag = FRA_is_buying_60_renault_tanks
				}
				clr_country_flag = has_ongoing_contract_with_FRA
				clr_country_flag = FRA_is_buying_60_renault_tanks
				country_event = {
					id = ww1_france.433
					days = 2
				}
			}
		}
		is_good = no
	}

	FRA_is_refunding_60_tanks_plus_extra = {
		allowed = {
			NOT = {
				original_tag = FRA
			}	
		}
		modifier = {
			civilian_factory_use = 5
		}
		available = {
			has_country_flag = FRA_is_redundings_tanks
		}
		visible = {
			has_country_flag = FRA_is_redundings_tanks
		}
		days_re_enable = 14
		fire_only_once = no
		icon = GFX_decision_hol_exchange_intelligence_data
		is_good = yes
		remove_effect = {
			clr_country_flag = FRA_is_redundings_tanks
		}
		available = {
			has_capitulated = no
		}
		days_remove = 140
		ai_will_do = {
			factor = 200
		}
	}

	FRA_is_being_refunded_plus_extra = {
		allowed = {
			NOT = {
				original_tag = FRA
			}
		}
		available = {
			has_country_flag = FRA_is_redundings_tanks
			NOT = {
				has_war_with = FRA
			}
		}
		visible = {
			NOT = {
				tag = FRA
			}
			has_country_flag = FRA_is_redundings_tanks
		}
		days_re_enable = 14
		fire_only_once = no
		icon = GFX_decision_hol_exchange_intelligence_data
		is_good = yes
		remove_effect = {
			add_offsite_building = {
				type = industrial_complex
				level = -5
			}
		}
		available = {
			has_capitulated = no
		}
		days_remove = 140
		ai_will_do = {
			factor = 200
		}
	}
}

FRA_french_intervention_in_china = {
	FRA_start_intervention_in_china = {
		icon = GFX_decision_generic_prepare_civil_war
		available = {
			has_war = no
			is_puppet = no
			591 = {
				OWNER = {
					NOT = {
						is_in_faction_with = ROOT
					}
					controls_state = 591
				}
			}
		}
		visible = {
			has_country_flag = FRA_war_on_hainan_flag
			591 = {
				OWNER = {
					NOT = {
						tag = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		days_remove = 70
		remove_effect = {
			every_country = {
				limit = {
					OR = {
						tag = FRA
						tag = IND
					}
				}
				declare_war_on = {
					type = take_claimed_state
					target = 591.OWNER
					generator = {591}
				}
			}
			clr_country_flag = FRA_target_of_france
			591 = {
				OWNER = {
					set_country_flag = FRA_target_of_france
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = first_french_intervention
					}
				}
				set_country_flag = first_french_intervention
				news_event = ww1_france.460
			}
			
		}
		ai_will_do = {
			factor = 0
			modifier = {
				has_country_flag = great_war_winner
				has_army_manpower = {
					size > 250000
				}
				add = 500
			}
		}
	}
	FRA_leave_CHI = {
		icon = GFX_decision_generic_prepare_civil_war
		activation = {
			OR = {
				tag = FRA
				tag = IND
			}
			has_country_flag = FRA_war_on_hainan_flag
			591 = {
				OWNER = {
					has_war_with = FRA
				}
			}
		}
		is_good = no
		available = {
			591 = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		cancel_trigger = {
			OR = {
				any_enemy_country = {
					has_country_flag = FRA_target_of_france
					NOT = {
						owns_state = 591
					}
				}
				any_enemy_country = {
					has_country_flag = FRA_target_of_france
					NOT = {
						controls_state = 591
					}
					591 = {
						is_controlled_by_ROOT_or_ally = no
						is_controlled_by_ROOT_or_subject = no
					}
				}
			}
		}
		cancel_effect = {
			white_peace = 591.OWNER
			every_country = {
				limit = {
					has_country_flag = FRA_target_of_france
				}
				white_peace = PREV
			}
		}
		complete_effect = {
			country_event = {
				id = ww1_france.458
				days = 2
			}
		}
		days_mission_timeout = 360
		timeout_effect = {
			every_country = {
				limit = {
					OR = {
						tag = FRA
						tag = IND
					}
				}
				add_war_support = -0.25
				country_event = {
					id = ww1_france.456
					days = 1
				}
			}	
		}
	}
}